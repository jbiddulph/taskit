import{i as $,g as F,c as D}from"./Presence-BV3PJ-0J.js";import{k as p,B as _,af as U,ag as G,d as S,J as L,H,I as T,N as j,_ as K,m as P,o as q,w as A,a as z,b as y,P as O}from"./app-eR7eWyOD.js";import{S as R,P as k,a as Y}from"./index-BXDbW9pg.js";import{u as J,b as W}from"./useForwardExpose-Br_TlNL8.js";function Q(e){const t=$({dir:p("ltr")});return _(()=>e?.value||t.dir?.value||"ltr")}function M(){const e=p(),t=_(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:J(e));return{primitiveElement:e,currentElement:t}}const x="data-reka-collection-item";function X(e={}){const{key:t="",isProvider:s=!1}=e,r=`${t}CollectionProvider`;let o;if(s){const n=p(new Map);o={collectionRef:p(),itemMap:n},U(r,o)}else o=G(r);const C=(n=!1)=>{const a=o.collectionRef.value;if(!a)return[];const i=Array.from(a.querySelectorAll(`[${x}]`)),c=Array.from(o.itemMap.value.values()).sort((d,v)=>i.indexOf(d.ref)-i.indexOf(v.ref));return n?c:c.filter(d=>d.ref.dataset.disabled!=="")},b=S({name:"CollectionSlot",setup(n,{slots:a}){const{primitiveElement:i,currentElement:u}=M();return j(u,()=>{o.collectionRef.value=u.value}),()=>T(R,{ref:i},a)}}),E=S({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(n,{slots:a,attrs:i}){const{primitiveElement:u,currentElement:c}=M();return L(d=>{if(c.value){const v=H(c.value);o.itemMap.value.set(v,{ref:c.value,value:n.value}),d(()=>o.itemMap.value.delete(v))}}),()=>T(R,{...i,[x]:"",ref:u},a)}}),w=_(()=>Array.from(o.itemMap.value.values())),g=_(()=>o.itemMap.value.size);return{getItems:C,reactiveItems:w,itemMapSize:g,CollectionSlot:b,CollectionItem:E}}const Z="rovingFocusGroup.onEntryFocus",ee={bubbles:!1,cancelable:!0},te={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function re(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function de(e,t,s){const r=re(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return te[r]}function oe(e,t=!1){const s=F();for(const r of e)if(r===s||(r.focus({preventScroll:t}),F()!==s))return}function fe(e,t){return e.map((s,r)=>e[(t+r)%e.length])}const[pe,ae]=D("RovingFocusGroup");var ne=S({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:s}){const r=e,o=s,{loop:C,orientation:b,dir:E}=K(r),w=Q(E),g=W(r,"currentTabStopId",o,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),n=p(!1),a=p(!1),i=p(0),{getItems:u,CollectionSlot:c}=X({isProvider:!0});function d(l){const m=!a.value;if(l.currentTarget&&l.target===l.currentTarget&&m&&!n.value){const h=new CustomEvent(Z,ee);if(l.currentTarget.dispatchEvent(h),o("entryFocus",h),!h.defaultPrevented){const I=u().map(f=>f.ref).filter(f=>f.dataset.disabled!==""),N=I.find(f=>f.getAttribute("data-active")===""),B=I.find(f=>f.id===g.value),V=[N,B,...I].filter(Boolean);oe(V,r.preventScrollOnEntryFocus)}}a.value=!1}function v(){setTimeout(()=>{a.value=!1},1)}return t({getItems:u}),ae({loop:C,dir:w,orientation:b,currentTabStopId:g,onItemFocus:l=>{g.value=l},onItemShiftTab:()=>{n.value=!0},onFocusableItemAdd:()=>{i.value++},onFocusableItemRemove:()=>{i.value--}}),(l,m)=>(q(),P(y(c),null,{default:A(()=>[z(y(k),{tabindex:n.value||i.value===0?-1:0,"data-orientation":y(b),as:l.as,"as-child":l.asChild,dir:y(w),style:{outline:"none"},onMousedown:m[0]||(m[0]=h=>a.value=!0),onMouseup:v,onFocus:d,onBlur:m[1]||(m[1]=h=>n.value=!1)},{default:A(()=>[O(l.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),ve=ne,se=S({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return(t,s)=>(q(),P(y(k),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:A(()=>[O(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),me=se;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=Y("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);export{ge as C,ve as R,me as V,M as a,Q as b,oe as f,de as g,pe as i,X as u,fe as w};
