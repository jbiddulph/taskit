import{d as u,g as _,c as i,o as a,a as n,u as r,h as x,w as h,b as t,l as p,f as y,t as o,k as c,F as v,m as b,p as k}from"./app-DAltzVkj.js";import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-DPeZZpdS.js";import{_ as l}from"./useClientStore-CICnWrWX.js";import{i as C,e as E,d as N}from"./index-D5INol4S.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-6K3yy32D.js";import"./index-DSVPpywr.js";import"./useForwardExpose-DTuFuTNY.js";import"./Presence-qOenhvCC.js";import"./x-zClj7Zz_.js";import"./createLucideIcon-BPnAtrcc.js";import"./VisuallyHidden-D6IbAJGM.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-lVkuUbq1.js";import"./check-Bs-cY_Sf.js";import"./lock-BVBt1EQf.js";import"./globe-DTMj2max.js";import"./loader-circle-Cexnflqz.js";const F={class:"py-12"},j={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},P={class:"mb-6"},T={class:"flex items-center gap-4 mb-4"},A={class:"flex justify-between items-start"},B={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},S={class:"text-gray-600 dark:text-gray-400 mt-1"},V={class:"flex gap-3"},$=["disabled"],D={key:0},I={key:1},L={class:"grid gap-6 lg:grid-cols-3"},M={class:"lg:col-span-2 space-y-6"},z={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},G={class:"p-6"},K={class:"space-y-4"},R={key:0,class:"flex items-center gap-3"},U={class:"font-medium"},W={key:1,class:"flex items-center gap-3"},q=["href"],H={key:2,class:"flex items-center gap-3"},J=["href"],O={key:3,class:"flex items-start gap-3"},Q={class:"font-medium whitespace-pre-line"},X={key:4,class:"flex items-center gap-3"},Y=["href"],Z={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},tt={class:"p-6"},et={class:"prose dark:prose-invert max-w-none"},st={class:"whitespace-pre-wrap"},ot={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},it={class:"p-6"},at={class:"flex items-center justify-between mb-4"},nt={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},lt=["value"],dt=["value"],rt={key:0,class:"space-y-3"},ct={class:"flex items-center gap-3"},mt={class:"font-medium"},gt={class:"text-sm text-gray-500"},ht={class:"text-right text-sm"},yt={class:"text-gray-500"},pt={key:1,class:"text-center py-8 text-gray-500"},vt={class:"space-y-6"},ft={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ut={class:"p-6"},_t={class:"space-y-4"},xt={class:"text-center"},bt={class:"text-3xl font-bold text-blue-600"},kt={class:"text-center"},wt={class:"text-3xl font-bold text-green-600"},Ct={class:"text-center"},Et={class:"text-3xl font-bold text-purple-600"},Nt={class:"text-center"},Ft={class:"text-3xl font-bold text-orange-600"},Wt=u({__name:"Show",props:{client:{},company:{}},setup(m){typeof window<"u"&&window.dispatchEvent(new CustomEvent("clientFilterChanged",{detail:{clientId:m.client.id,clientName:m.client.name}}));const g=_({}),f=()=>{confirm("Are you sure you want to delete this client? This will remove the client association from all projects but will not delete the projects themselves.")&&g.delete(N.url(m.client.id))};return(e,s)=>(a(),i(v,null,[n(r(x),{title:e.client.name},null,8,["title"]),n(w,{company:e.company},{default:h(()=>[t("div",F,[t("div",j,[t("div",P,[t("div",T,[n(r(p),{href:r(C).url(),class:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"},{default:h(()=>[n(l,{name:"ArrowLeft",class:"w-4 h-4"}),s[1]||(s[1]=y(" Back to Clients ",-1))]),_:1,__:[1]},8,["href"])]),t("div",A,[t("div",null,[t("h1",B,o(e.client.name),1),t("p",S," Added by "+o(e.client.created_by)+" on "+o(e.client.created_at),1)]),t("div",V,[n(r(p),{href:r(E).url(e.client.id),class:"inline-flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium border transition-colors cursor-pointer bg-black text-white hover:bg-gray-900 hover:border-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100 dark:hover:border-gray-300"},{default:h(()=>[n(l,{name:"Edit",class:"w-4 h-4"}),s[2]||(s[2]=y(" Edit ",-1))]),_:1,__:[2]},8,["href"]),t("button",{onClick:f,disabled:r(g).processing,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[n(l,{name:"Trash2",class:"w-4 h-4"}),r(g).processing?(a(),i("span",D,"Deleting...")):(a(),i("span",I,"Delete"))],8,$)])])]),t("div",L,[t("div",M,[t("div",z,[t("div",G,[s[8]||(s[8]=t("h2",{class:"text-lg font-semibold mb-4"},"Contact Information",-1)),t("div",K,[e.client.key_contact_name?(a(),i("div",R,[n(l,{name:"User",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[3]||(s[3]=t("div",{class:"text-sm text-gray-500"},"Key Contact",-1)),t("div",U,o(e.client.key_contact_name),1)])])):c("",!0),e.client.key_contact_email?(a(),i("div",W,[n(l,{name:"Mail",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[4]||(s[4]=t("div",{class:"text-sm text-gray-500"},"Email",-1)),t("a",{href:`mailto:${e.client.key_contact_email}`,class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},o(e.client.key_contact_email),9,q)])])):c("",!0),e.client.key_contact_phone?(a(),i("div",H,[n(l,{name:"Phone",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[5]||(s[5]=t("div",{class:"text-sm text-gray-500"},"Phone",-1)),t("a",{href:`tel:${e.client.key_contact_phone}`,class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},o(e.client.key_contact_phone),9,J)])])):c("",!0),e.client.full_address?(a(),i("div",O,[n(l,{name:"MapPin",class:"w-5 h-5 text-gray-500 mt-0.5"}),t("div",null,[s[6]||(s[6]=t("div",{class:"text-sm text-gray-500"},"Address",-1)),t("div",Q,o(e.client.full_address),1)])])):c("",!0),e.client.website?(a(),i("div",X,[n(l,{name:"Globe",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[7]||(s[7]=t("div",{class:"text-sm text-gray-500"},"Website",-1)),t("a",{href:e.client.website,target:"_blank",class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},[y(o(e.client.website.replace(/^https?:\/\//,""))+" ",1),n(l,{name:"ExternalLink",class:"w-3 h-3 inline ml-1"})],8,Y)])])):c("",!0)])])]),e.client.notes?(a(),i("div",Z,[t("div",tt,[s[9]||(s[9]=t("h2",{class:"text-lg font-semibold mb-4"},"Notes",-1)),t("div",et,[t("p",st,o(e.client.notes),1)])])])):c("",!0),t("div",ot,[t("div",it,[t("div",at,[s[11]||(s[11]=t("h2",{class:"text-lg font-semibold"},"Projects",-1)),t("div",nt,[s[10]||(s[10]=t("span",null,"Project Filter:",-1)),t("select",{class:"rounded-md border border-gray-300 bg-white px-2 py-1 text-xs text-gray-900 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-600 dark:focus:border-gray-100 dark:focus:ring-gray-100",value:e.client.id,onChange:s[0]||(s[0]=()=>{typeof e.window<"u"&&e.window.dispatchEvent(new e.CustomEvent("clientFilterChanged",{detail:{clientId:e.client.id,clientName:e.client.name}}))})},[t("option",{value:e.client.id},o(e.client.name),9,dt)],40,lt)])]),e.client.projects.length>0?(a(),i("div",rt,[(a(!0),i(v,null,b(e.client.projects,d=>(a(),i("div",{key:d.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("div",ct,[t("div",{class:"w-3 h-3 rounded-full",style:k({backgroundColor:d.color})},null,4),t("div",null,[t("div",mt,o(d.name),1),t("div",gt,o(d.key),1)])]),t("div",ht,[t("div",null,o(d.stats.completed)+"/"+o(d.stats.total)+" tasks",1),t("div",yt,o(d.stats.completion_rate)+"% complete",1)])]))),128))])):(a(),i("div",pt," No projects assigned to this client yet. "))])])]),t("div",vt,[t("div",ft,[t("div",ut,[s[16]||(s[16]=t("h2",{class:"text-lg font-semibold mb-4"},"Statistics",-1)),t("div",_t,[t("div",xt,[t("div",bt,o(e.client.stats.total_projects),1),s[12]||(s[12]=t("div",{class:"text-sm text-gray-500"},"Projects",-1))]),t("div",kt,[t("div",wt,o(e.client.stats.total_todos),1),s[13]||(s[13]=t("div",{class:"text-sm text-gray-500"},"Total Tasks",-1))]),t("div",Ct,[t("div",Et,o(e.client.stats.completed_todos),1),s[14]||(s[14]=t("div",{class:"text-sm text-gray-500"},"Completed",-1))]),t("div",Nt,[t("div",Ft,o(e.client.stats.completion_rate)+"%",1),s[15]||(s[15]=t("div",{class:"text-sm text-gray-500"},"Completion Rate",-1))])])])])])])])])]),_:1},8,["company"])],64))}});export{Wt as default};
