import{P as J,c as H,_ as Ta,a as Ba}from"./index-oOFXKrmU.js";import{K as Le,k as M,A as L,C as ne,d as S,m as D,o as p,w as m,P,b as s,i as U,H as Te,_ as We,O as De,g as Gt,B as Ma,$ as Yt,c as T,R as N,a0 as Ea,a1 as Ra,a2 as Ia,a3 as Me,a4 as Qt,a as _,n as fe,S as ee,U as de,x as ge,f as Re,Z as La,q as Fa,a5 as Na,a6 as ja,j as ae,t as z,X as yt,a7 as za,e as y,s as j,F as X,T as Ha,r as be,D as Ne,l as Se,p as Bt,a8 as Ua,v as Va}from"./app-j2kQVegQ.js";import{i as _t,c as Jt,d as Wa,u as Ka,a as V,e as Xa,f as Ga,g as He,b as et,h as Zt,r as tt,j as Ya}from"./useForwardExpose-8QD1_szY.js";import{g as ea,c as ye,a as ue,P as ta,u as bt,d as Qa,b as at}from"./Presence-YFXPsVsx.js";import{m as Ja,n as Za,_ as W,a as aa,r as pe,t as Xe,o as eo,c as to,L as ao,p as oo,q as ro,s as so}from"./realtimeService-BeS4qtVa.js";import{u as no,f as oa,g as lo,h as io,j as uo,k as co,L as fo,l as po,m as ft,n as go,I as mo,o as ho,T as ra,a as vo,b as yo,c as _o,d as bo,D as wo,X as xo,e as Co}from"./x-BQw0_4l4.js";import{b as sa,R as ko,u as $o,V as So}from"./VisuallyHidden-CAscgt0-.js";import{q as wt}from"./index-CMWG4mbA.js";import{_ as qo}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DrGo4xJU.js";import{C as Po}from"./check-CSuMcah7.js";const Ao=["INPUT","TEXTAREA"];function Do(e,t,a,o={}){if(!t||o.enableIgnoredElement&&Ao.includes(t.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:l="[data-reka-collection-item]",itemsArray:n=[],loop:i=!0,dir:d="ltr",preventScroll:u=!0,focus:c=!1}=o,[f,h,b,w,k,A]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],B=b||w,E=f||h;if(!k&&!A&&(!B&&!E||r==="vertical"&&E||r==="horizontal"&&B))return null;const R=a?Array.from(a.querySelectorAll(l)):n;if(!R.length)return null;u&&e.preventDefault();let q=null;return E||B?q=na(R,t,{goForward:B?w:d==="ltr"?f:h,loop:i}):k?q=R.at(0)||null:A&&(q=R.at(-1)||null),c&&q?.focus(),q}function na(e,t,a,o=e.length){if(--o===0)return null;const r=e.indexOf(t),l=a.goForward?r+1:r-1;if(!a.loop&&(l<0||l>=e.length))return null;const n=(l+e.length)%e.length,i=e[n];return i?i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false"?na(e,i,a,o):i:null}let dt=0;function Oo(){Le(e=>{if(!_t)return;const t=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",t[0]??Mt()),document.body.insertAdjacentElement("beforeend",t[1]??Mt()),dt++,e(()=>{dt===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(a=>a.remove()),dt--})})}function Mt(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function To(e,t){const a=Jt(!1,300),o=M(null),r=Wa();function l(){o.value=null,a.value=!1}function n(i,d){const u=i.currentTarget,c={x:i.clientX,y:i.clientY},f=Bo(c,u.getBoundingClientRect()),h=Mo(c,f),b=Eo(d.getBoundingClientRect()),w=Io([...h,...b]);o.value=w,a.value=!0}return Le(i=>{if(e.value&&t.value){const d=c=>n(c,t.value),u=c=>n(c,e.value);e.value.addEventListener("pointerleave",d),t.value.addEventListener("pointerleave",u),i(()=>{e.value?.removeEventListener("pointerleave",d),t.value?.removeEventListener("pointerleave",u)})}}),Le(i=>{if(o.value){const d=u=>{if(!o.value||!(u.target instanceof HTMLElement))return;const c=u.target,f={x:u.clientX,y:u.clientY},h=e.value?.contains(c)||t.value?.contains(c),b=!Ro(f,o.value),w=!!c.closest("[data-grace-area-trigger]");h?l():(b||w)&&(l(),r.trigger())};e.value?.ownerDocument.addEventListener("pointermove",d),i(()=>e.value?.ownerDocument.removeEventListener("pointermove",d))}}),{isPointerInTransit:a,onPointerExit:r.on}}function Bo(e,t){const a=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(a,o,r,l)){case l:return"left";case r:return"right";case a:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Mo(e,t,a=5){const o=[];switch(t){case"top":o.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":o.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":o.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":o.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a});break}return o}function Eo(e){const{top:t,right:a,bottom:o,left:r}=e;return[{x:r,y:t},{x:a,y:t},{x:a,y:o},{x:r,y:o}]}function Ro(e,t){const{x:a,y:o}=e;let r=!1;for(let l=0,n=t.length-1;l<t.length;n=l++){const i=t[l].x,d=t[l].y,u=t[n].x,c=t[n].y;d>o!=c>o&&a<(u-i)*(o-d)/(c-d)+i&&(r=!r)}return r}function Io(e){const t=e.slice();return t.sort((a,o)=>a.x<o.x?-1:a.x>o.x?1:a.y<o.y?-1:a.y>o.y?1:0),Lo(t)}function Lo(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const r=e[o];for(;t.length>=2;){const l=t[t.length-1],n=t[t.length-2];if((l.x-n.x)*(r.y-n.y)>=(l.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();const a=[];for(let o=e.length-1;o>=0;o--){const r=e[o];for(;a.length>=2;){const l=a[a.length-1],n=a[a.length-2];if((l.x-n.x)*(r.y-n.y)>=(l.y-n.y)*(r.x-n.x))a.pop();else break}a.push(r)}return a.pop(),t.length===1&&a.length===1&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}function Fo(e){const t=M(),a=L(()=>t.value?.width??0),o=L(()=>t.value?.height??0);return ne(()=>{const r=Ka(e);if(r){t.value={width:r.offsetWidth,height:r.offsetHeight};const l=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let d,u;if("borderBoxSize"in i){const c=i.borderBoxSize,f=Array.isArray(c)?c[0]:c;d=f.inlineSize,u=f.blockSize}else d=r.offsetWidth,u=r.offsetHeight;t.value={width:d,height:u}});return l.observe(r,{box:"border-box"}),()=>l.unobserve(r)}else t.value=void 0}),{width:a,height:o}}function No(e){const t=Jt("",1e3);return{search:t,handleTypeaheadSearch:(r,l)=>{t.value=t.value+r;{const n=ea(),i=l.map(h=>({...h,textValue:h.value?.textValue??h.ref.textContent?.trim()??""})),d=i.find(h=>h.ref===n),u=i.map(h=>h.textValue),c=zo(u,t.value,d?.textValue),f=i.find(h=>h.textValue===c);return f&&f.ref.focus(),f?.ref}},resetTypeahead:()=>{t.value=""}}}function jo(e,t){return e.map((a,o)=>e[(t+o)%e.length])}function zo(e,t,a){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,l=a?e.indexOf(a):-1;let n=jo(e,Math.max(l,0));r.length===1&&(n=n.filter(u=>u!==a));const d=n.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return d!==a?d:void 0}const[la,Ho]=ye("AvatarRoot");var Uo=S({__name:"AvatarRoot",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return V(),Ho({imageLoadingStatus:M("idle")}),(t,a)=>(p(),D(s(J),{"as-child":t.asChild,as:t.as},{default:m(()=>[P(t.$slots,"default")]),_:3},8,["as-child","as"]))}}),Vo=Uo,Wo=S({__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,a=la();V();const o=M(t.delayMs===void 0);return Le(r=>{if(t.delayMs&&_t){const l=window.setTimeout(()=>{o.value=!0},t.delayMs);r(()=>{window.clearTimeout(l)})}}),(r,l)=>o.value&&s(a).imageLoadingStatus.value!=="loaded"?(p(),D(s(J),{key:0,"as-child":r.asChild,as:r.as},{default:m(()=>[P(r.$slots,"default")]),_:3},8,["as-child","as"])):U("v-if",!0)}}),Ko=Wo;function Et(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Xo(e,{referrerPolicy:t,crossOrigin:a}={}){const o=M(!1),r=M(null),l=L(()=>o.value?(!r.value&&_t&&(r.value=new window.Image),r.value):null),n=M(Et(l.value,e.value)),i=d=>()=>{o.value&&(n.value=d)};return ne(()=>{o.value=!0,Le(d=>{const u=l.value;if(!u)return;n.value=Et(u,e.value);const c=i("loaded"),f=i("error");u.addEventListener("load",c),u.addEventListener("error",f),t?.value&&(u.referrerPolicy=t.value),typeof a?.value=="string"&&(u.crossOrigin=a.value),d(()=>{u.removeEventListener("load",c),u.removeEventListener("error",f)})})}),Te(()=>{o.value=!1}),n}var Go=S({__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:t}){const a=e,o=t,{src:r,referrerPolicy:l,crossOrigin:n}=We(a);V();const i=la(),d=Xo(r,{referrerPolicy:l,crossOrigin:n});return De(d,u=>{o("loadingStatusChange",u),u!=="idle"&&(i.imageLoadingStatus.value=u)},{immediate:!0}),(u,c)=>Gt((p(),D(s(J),{role:"img","as-child":u.asChild,as:u.as,src:s(r),"referrer-policy":s(l)},{default:m(()=>[P(u.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[Ma,s(d)==="loaded"]])}}),Yo=Go;const[ia,Qo]=ye("PopperRoot");var Jo=S({inheritAttrs:!1,__name:"PopperRoot",setup(e){const t=M();return Qo({anchor:t,onAnchorChange:a=>t.value=a}),(a,o)=>P(a.$slots,"default")}}),da=Jo,Zo=S({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:a,currentElement:o}=V(),r=ia();return Yt(()=>{r.onAnchorChange(t.reference??o.value)}),(l,n)=>(p(),D(s(J),{ref:s(a),as:l.as,"as-child":l.asChild},{default:m(()=>[P(l.$slots,"default")]),_:3},8,["as","as-child"]))}}),ua=Zo;const er={key:0,d:"M0 0L6 6L12 0"},tr={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var ar=S({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return V(),(a,o)=>(p(),D(s(J),N(t,{width:a.width,height:a.height,viewBox:a.asChild?void 0:"0 0 12 6",preserveAspectRatio:a.asChild?void 0:"none"}),{default:m(()=>[P(a.$slots,"default",{},()=>[a.rounded?(p(),T("path",tr)):(p(),T("path",er))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),or=ar;function rr(e){return e!==null}function sr(e){return{name:"transformOrigin",options:e,fn(t){const{placement:a,rects:o,middlewareData:r}=t,n=r.arrow?.centerOffset!==0,i=n?0:e.arrowWidth,d=n?0:e.arrowHeight,[u,c]=pt(a),f={start:"0%",center:"50%",end:"100%"}[c],h=(r.arrow?.x??0)+i/2,b=(r.arrow?.y??0)+d/2;let w="",k="";return u==="bottom"?(w=n?f:`${h}px`,k=`${-d}px`):u==="top"?(w=n?f:`${h}px`,k=`${o.floating.height+d}px`):u==="right"?(w=`${-d}px`,k=n?f:`${b}px`):u==="left"&&(w=`${o.floating.width+d}px`,k=n?f:`${b}px`),{data:{x:w,y:k}}}}}function pt(e){const[t,a="center"]=e.split("-");return[t,a]}const nr=["top","right","bottom","left"],qe=Math.min,te=Math.max,Ye=Math.round,Ge=Math.floor,he=e=>({x:e,y:e}),lr={left:"right",right:"left",bottom:"top",top:"bottom"},ir={start:"end",end:"start"};function gt(e,t,a){return te(e,qe(t,a))}function we(e,t){return typeof e=="function"?e(t):e}function xe(e){return e.split("-")[0]}function je(e){return e.split("-")[1]}function xt(e){return e==="x"?"y":"x"}function Ct(e){return e==="y"?"height":"width"}const dr=new Set(["top","bottom"]);function me(e){return dr.has(xe(e))?"y":"x"}function kt(e){return xt(me(e))}function ur(e,t,a){a===void 0&&(a=!1);const o=je(e),r=kt(e),l=Ct(r);let n=r==="x"?o===(a?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(n=Qe(n)),[n,Qe(n)]}function cr(e){const t=Qe(e);return[mt(e),t,mt(t)]}function mt(e){return e.replace(/start|end/g,t=>ir[t])}const Rt=["left","right"],It=["right","left"],fr=["top","bottom"],pr=["bottom","top"];function gr(e,t,a){switch(e){case"top":case"bottom":return a?t?It:Rt:t?Rt:It;case"left":case"right":return t?fr:pr;default:return[]}}function mr(e,t,a,o){const r=je(e);let l=gr(xe(e),a==="start",o);return r&&(l=l.map(n=>n+"-"+r),t&&(l=l.concat(l.map(mt)))),l}function Qe(e){return e.replace(/left|right|bottom|top/g,t=>lr[t])}function hr(e){return{top:0,right:0,bottom:0,left:0,...e}}function ca(e){return typeof e!="number"?hr(e):{top:e,right:e,bottom:e,left:e}}function Je(e){const{x:t,y:a,width:o,height:r}=e;return{width:o,height:r,top:a,left:t,right:t+o,bottom:a+r,x:t,y:a}}function Lt(e,t,a){let{reference:o,floating:r}=e;const l=me(t),n=kt(t),i=Ct(n),d=xe(t),u=l==="y",c=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,h=o[i]/2-r[i]/2;let b;switch(d){case"top":b={x:c,y:o.y-r.height};break;case"bottom":b={x:c,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:f};break;case"left":b={x:o.x-r.width,y:f};break;default:b={x:o.x,y:o.y}}switch(je(t)){case"start":b[n]-=h*(a&&u?-1:1);break;case"end":b[n]+=h*(a&&u?-1:1);break}return b}const vr=async(e,t,a)=>{const{placement:o="bottom",strategy:r="absolute",middleware:l=[],platform:n}=a,i=l.filter(Boolean),d=await(n.isRTL==null?void 0:n.isRTL(t));let u=await n.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:f}=Lt(u,o,d),h=o,b={},w=0;for(let k=0;k<i.length;k++){const{name:A,fn:B}=i[k],{x:E,y:R,data:q,reset:O}=await B({x:c,y:f,initialPlacement:o,placement:h,strategy:r,middlewareData:b,rects:u,platform:n,elements:{reference:e,floating:t}});c=E??c,f=R??f,b={...b,[A]:{...b[A],...q}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await n.getElementRects({reference:e,floating:t,strategy:r}):O.rects),{x:c,y:f}=Lt(u,h,d)),k=-1)}return{x:c,y:f,placement:h,strategy:r,middlewareData:b}};async function Ue(e,t){var a;t===void 0&&(t={});const{x:o,y:r,platform:l,rects:n,elements:i,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:b=0}=we(t,e),w=ca(b),A=i[h?f==="floating"?"reference":"floating":f],B=Je(await l.getClippingRect({element:(a=await(l.isElement==null?void 0:l.isElement(A)))==null||a?A:A.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(i.floating)),boundary:u,rootBoundary:c,strategy:d})),E=f==="floating"?{x:o,y:r,width:n.floating.width,height:n.floating.height}:n.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(i.floating)),q=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},O=Je(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:E,offsetParent:R,strategy:d}):E);return{top:(B.top-O.top+w.top)/q.y,bottom:(O.bottom-B.bottom+w.bottom)/q.y,left:(B.left-O.left+w.left)/q.x,right:(O.right-B.right+w.right)/q.x}}const yr=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:o,placement:r,rects:l,platform:n,elements:i,middlewareData:d}=t,{element:u,padding:c=0}=we(e,t)||{};if(u==null)return{};const f=ca(c),h={x:a,y:o},b=kt(r),w=Ct(b),k=await n.getDimensions(u),A=b==="y",B=A?"top":"left",E=A?"bottom":"right",R=A?"clientHeight":"clientWidth",q=l.reference[w]+l.reference[b]-h[b]-l.floating[w],O=h[b]-l.reference[b],C=await(n.getOffsetParent==null?void 0:n.getOffsetParent(u));let x=C?C[R]:0;(!x||!await(n.isElement==null?void 0:n.isElement(C)))&&(x=i.floating[R]||l.floating[w]);const v=q/2-O/2,g=x/2-k[w]/2-1,$=qe(f[B],g),I=qe(f[E],g),F=$,G=x-k[w]-I,K=x/2-k[w]/2+v,se=gt(F,K,G),Z=!d.arrow&&je(r)!=null&&K!==se&&l.reference[w]/2-(K<F?$:I)-k[w]/2<0,Q=Z?K<F?K-F:K-G:0;return{[b]:h[b]+Q,data:{[b]:se,centerOffset:K-se-Q,...Z&&{alignmentOffset:Q}},reset:Z}}}),_r=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var a,o;const{placement:r,middlewareData:l,rects:n,initialPlacement:i,platform:d,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...A}=we(e,t);if((a=l.arrow)!=null&&a.alignmentOffset)return{};const B=xe(r),E=me(i),R=xe(i)===i,q=await(d.isRTL==null?void 0:d.isRTL(u.floating)),O=h||(R||!k?[Qe(i)]:cr(i)),C=w!=="none";!h&&C&&O.push(...mr(i,k,w,q));const x=[i,...O],v=await Ue(t,A),g=[];let $=((o=l.flip)==null?void 0:o.overflows)||[];if(c&&g.push(v[B]),f){const K=ur(r,n,q);g.push(v[K[0]],v[K[1]])}if($=[...$,{placement:r,overflows:g}],!g.every(K=>K<=0)){var I,F;const K=(((I=l.flip)==null?void 0:I.index)||0)+1,se=x[K];if(se&&(!(f==="alignment"?E!==me(se):!1)||$.every(Y=>me(Y.placement)===E?Y.overflows[0]>0:!0)))return{data:{index:K,overflows:$},reset:{placement:se}};let Z=(F=$.filter(Q=>Q.overflows[0]<=0).sort((Q,Y)=>Q.overflows[1]-Y.overflows[1])[0])==null?void 0:F.placement;if(!Z)switch(b){case"bestFit":{var G;const Q=(G=$.filter(Y=>{if(C){const $e=me(Y.placement);return $e===E||$e==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter($e=>$e>0).reduce(($e,Oa)=>$e+Oa,0)]).sort((Y,$e)=>Y[1]-$e[1])[0])==null?void 0:G[0];Q&&(Z=Q);break}case"initialPlacement":Z=i;break}if(r!==Z)return{reset:{placement:Z}}}return{}}}};function Ft(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nt(e){return nr.some(t=>e[t]>=0)}const br=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a}=t,{strategy:o="referenceHidden",...r}=we(e,t);switch(o){case"referenceHidden":{const l=await Ue(t,{...r,elementContext:"reference"}),n=Ft(l,a.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:Nt(n)}}}case"escaped":{const l=await Ue(t,{...r,altBoundary:!0}),n=Ft(l,a.floating);return{data:{escapedOffsets:n,escaped:Nt(n)}}}default:return{}}}}},fa=new Set(["left","top"]);async function wr(e,t){const{placement:a,platform:o,elements:r}=e,l=await(o.isRTL==null?void 0:o.isRTL(r.floating)),n=xe(a),i=je(a),d=me(a)==="y",u=fa.has(n)?-1:1,c=l&&d?-1:1,f=we(t,e);let{mainAxis:h,crossAxis:b,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof w=="number"&&(b=i==="end"?w*-1:w),d?{x:b*c,y:h*u}:{x:h*u,y:b*c}}const xr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var a,o;const{x:r,y:l,placement:n,middlewareData:i}=t,d=await wr(t,e);return n===((a=i.offset)==null?void 0:a.placement)&&(o=i.arrow)!=null&&o.alignmentOffset?{}:{x:r+d.x,y:l+d.y,data:{...d,placement:n}}}}},Cr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:o,placement:r}=t,{mainAxis:l=!0,crossAxis:n=!1,limiter:i={fn:A=>{let{x:B,y:E}=A;return{x:B,y:E}}},...d}=we(e,t),u={x:a,y:o},c=await Ue(t,d),f=me(xe(r)),h=xt(f);let b=u[h],w=u[f];if(l){const A=h==="y"?"top":"left",B=h==="y"?"bottom":"right",E=b+c[A],R=b-c[B];b=gt(E,b,R)}if(n){const A=f==="y"?"top":"left",B=f==="y"?"bottom":"right",E=w+c[A],R=w-c[B];w=gt(E,w,R)}const k=i.fn({...t,[h]:b,[f]:w});return{...k,data:{x:k.x-a,y:k.y-o,enabled:{[h]:l,[f]:n}}}}}},kr=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:a,y:o,placement:r,rects:l,middlewareData:n}=t,{offset:i=0,mainAxis:d=!0,crossAxis:u=!0}=we(e,t),c={x:a,y:o},f=me(r),h=xt(f);let b=c[h],w=c[f];const k=we(i,t),A=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(d){const R=h==="y"?"height":"width",q=l.reference[h]-l.floating[R]+A.mainAxis,O=l.reference[h]+l.reference[R]-A.mainAxis;b<q?b=q:b>O&&(b=O)}if(u){var B,E;const R=h==="y"?"width":"height",q=fa.has(xe(r)),O=l.reference[f]-l.floating[R]+(q&&((B=n.offset)==null?void 0:B[f])||0)+(q?0:A.crossAxis),C=l.reference[f]+l.reference[R]+(q?0:((E=n.offset)==null?void 0:E[f])||0)-(q?A.crossAxis:0);w<O?w=O:w>C&&(w=C)}return{[h]:b,[f]:w}}}},$r=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var a,o;const{placement:r,rects:l,platform:n,elements:i}=t,{apply:d=()=>{},...u}=we(e,t),c=await Ue(t,u),f=xe(r),h=je(r),b=me(r)==="y",{width:w,height:k}=l.floating;let A,B;f==="top"||f==="bottom"?(A=f,B=h===(await(n.isRTL==null?void 0:n.isRTL(i.floating))?"start":"end")?"left":"right"):(B=f,A=h==="end"?"top":"bottom");const E=k-c.top-c.bottom,R=w-c.left-c.right,q=qe(k-c[A],E),O=qe(w-c[B],R),C=!t.middlewareData.shift;let x=q,v=O;if((a=t.middlewareData.shift)!=null&&a.enabled.x&&(v=R),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(x=E),C&&!h){const $=te(c.left,0),I=te(c.right,0),F=te(c.top,0),G=te(c.bottom,0);b?v=w-2*($!==0||I!==0?$+I:te(c.left,c.right)):x=k-2*(F!==0||G!==0?F+G:te(c.top,c.bottom))}await d({...t,availableWidth:v,availableHeight:x});const g=await n.getDimensions(i.floating);return w!==g.width||k!==g.height?{reset:{rects:!0}}:{}}}};function ot(){return typeof window<"u"}function Be(e){return $t(e)?(e.nodeName||"").toLowerCase():"#document"}function oe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _e(e){var t;return(t=($t(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $t(e){return ot()?e instanceof Node||e instanceof oe(e).Node:!1}function le(e){return ot()?e instanceof Element||e instanceof oe(e).Element:!1}function ve(e){return ot()?e instanceof HTMLElement||e instanceof oe(e).HTMLElement:!1}function jt(e){return!ot()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oe(e).ShadowRoot}const Sr=new Set(["inline","contents"]);function Ke(e){const{overflow:t,overflowX:a,overflowY:o,display:r}=ie(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+a)&&!Sr.has(r)}const qr=new Set(["table","td","th"]);function Pr(e){return qr.has(Be(e))}const Ar=[":popover-open",":modal"];function rt(e){return Ar.some(t=>{try{return e.matches(t)}catch{return!1}})}const Dr=["transform","translate","scale","rotate","perspective"],Or=["transform","translate","scale","rotate","perspective","filter"],Tr=["paint","layout","strict","content"];function St(e){const t=qt(),a=le(e)?ie(e):e;return Dr.some(o=>a[o]?a[o]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!t&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!t&&(a.filter?a.filter!=="none":!1)||Or.some(o=>(a.willChange||"").includes(o))||Tr.some(o=>(a.contain||"").includes(o))}function Br(e){let t=Pe(e);for(;ve(t)&&!Fe(t);){if(St(t))return t;if(rt(t))return null;t=Pe(t)}return null}function qt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mr=new Set(["html","body","#document"]);function Fe(e){return Mr.has(Be(e))}function ie(e){return oe(e).getComputedStyle(e)}function st(e){return le(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pe(e){if(Be(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jt(e)&&e.host||_e(e);return jt(t)?t.host:t}function pa(e){const t=Pe(e);return Fe(t)?e.ownerDocument?e.ownerDocument.body:e.body:ve(t)&&Ke(t)?t:pa(t)}function Ve(e,t,a){var o;t===void 0&&(t=[]),a===void 0&&(a=!0);const r=pa(e),l=r===((o=e.ownerDocument)==null?void 0:o.body),n=oe(r);if(l){const i=ht(n);return t.concat(n,n.visualViewport||[],Ke(r)?r:[],i&&a?Ve(i):[])}return t.concat(r,Ve(r,[],a))}function ht(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ga(e){const t=ie(e);let a=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=ve(e),l=r?e.offsetWidth:a,n=r?e.offsetHeight:o,i=Ye(a)!==l||Ye(o)!==n;return i&&(a=l,o=n),{width:a,height:o,$:i}}function Pt(e){return le(e)?e:e.contextElement}function Ie(e){const t=Pt(e);if(!ve(t))return he(1);const a=t.getBoundingClientRect(),{width:o,height:r,$:l}=ga(t);let n=(l?Ye(a.width):a.width)/o,i=(l?Ye(a.height):a.height)/r;return(!n||!Number.isFinite(n))&&(n=1),(!i||!Number.isFinite(i))&&(i=1),{x:n,y:i}}const Er=he(0);function ma(e){const t=oe(e);return!qt()||!t.visualViewport?Er:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Rr(e,t,a){return t===void 0&&(t=!1),!a||t&&a!==oe(e)?!1:t}function Oe(e,t,a,o){t===void 0&&(t=!1),a===void 0&&(a=!1);const r=e.getBoundingClientRect(),l=Pt(e);let n=he(1);t&&(o?le(o)&&(n=Ie(o)):n=Ie(e));const i=Rr(l,a,o)?ma(l):he(0);let d=(r.left+i.x)/n.x,u=(r.top+i.y)/n.y,c=r.width/n.x,f=r.height/n.y;if(l){const h=oe(l),b=o&&le(o)?oe(o):o;let w=h,k=ht(w);for(;k&&o&&b!==w;){const A=Ie(k),B=k.getBoundingClientRect(),E=ie(k),R=B.left+(k.clientLeft+parseFloat(E.paddingLeft))*A.x,q=B.top+(k.clientTop+parseFloat(E.paddingTop))*A.y;d*=A.x,u*=A.y,c*=A.x,f*=A.y,d+=R,u+=q,w=oe(k),k=ht(w)}}return Je({width:c,height:f,x:d,y:u})}function At(e,t){const a=st(e).scrollLeft;return t?t.left+a:Oe(_e(e)).left+a}function ha(e,t,a){a===void 0&&(a=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(a?0:At(e,o)),l=o.top+t.scrollTop;return{x:r,y:l}}function Ir(e){let{elements:t,rect:a,offsetParent:o,strategy:r}=e;const l=r==="fixed",n=_e(o),i=t?rt(t.floating):!1;if(o===n||i&&l)return a;let d={scrollLeft:0,scrollTop:0},u=he(1);const c=he(0),f=ve(o);if((f||!f&&!l)&&((Be(o)!=="body"||Ke(n))&&(d=st(o)),ve(o))){const b=Oe(o);u=Ie(o),c.x=b.x+o.clientLeft,c.y=b.y+o.clientTop}const h=n&&!f&&!l?ha(n,d,!0):he(0);return{width:a.width*u.x,height:a.height*u.y,x:a.x*u.x-d.scrollLeft*u.x+c.x+h.x,y:a.y*u.y-d.scrollTop*u.y+c.y+h.y}}function Lr(e){return Array.from(e.getClientRects())}function Fr(e){const t=_e(e),a=st(e),o=e.ownerDocument.body,r=te(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=te(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let n=-a.scrollLeft+At(e);const i=-a.scrollTop;return ie(o).direction==="rtl"&&(n+=te(t.clientWidth,o.clientWidth)-r),{width:r,height:l,x:n,y:i}}function Nr(e,t){const a=oe(e),o=_e(e),r=a.visualViewport;let l=o.clientWidth,n=o.clientHeight,i=0,d=0;if(r){l=r.width,n=r.height;const u=qt();(!u||u&&t==="fixed")&&(i=r.offsetLeft,d=r.offsetTop)}return{width:l,height:n,x:i,y:d}}const jr=new Set(["absolute","fixed"]);function zr(e,t){const a=Oe(e,!0,t==="fixed"),o=a.top+e.clientTop,r=a.left+e.clientLeft,l=ve(e)?Ie(e):he(1),n=e.clientWidth*l.x,i=e.clientHeight*l.y,d=r*l.x,u=o*l.y;return{width:n,height:i,x:d,y:u}}function zt(e,t,a){let o;if(t==="viewport")o=Nr(e,a);else if(t==="document")o=Fr(_e(e));else if(le(t))o=zr(t,a);else{const r=ma(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Je(o)}function va(e,t){const a=Pe(e);return a===t||!le(a)||Fe(a)?!1:ie(a).position==="fixed"||va(a,t)}function Hr(e,t){const a=t.get(e);if(a)return a;let o=Ve(e,[],!1).filter(i=>le(i)&&Be(i)!=="body"),r=null;const l=ie(e).position==="fixed";let n=l?Pe(e):e;for(;le(n)&&!Fe(n);){const i=ie(n),d=St(n);!d&&i.position==="fixed"&&(r=null),(l?!d&&!r:!d&&i.position==="static"&&!!r&&jr.has(r.position)||Ke(n)&&!d&&va(e,n))?o=o.filter(c=>c!==n):r=i,n=Pe(n)}return t.set(e,o),o}function Ur(e){let{element:t,boundary:a,rootBoundary:o,strategy:r}=e;const n=[...a==="clippingAncestors"?rt(t)?[]:Hr(t,this._c):[].concat(a),o],i=n[0],d=n.reduce((u,c)=>{const f=zt(t,c,r);return u.top=te(f.top,u.top),u.right=qe(f.right,u.right),u.bottom=qe(f.bottom,u.bottom),u.left=te(f.left,u.left),u},zt(t,i,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Vr(e){const{width:t,height:a}=ga(e);return{width:t,height:a}}function Wr(e,t,a){const o=ve(t),r=_e(t),l=a==="fixed",n=Oe(e,!0,l,t);let i={scrollLeft:0,scrollTop:0};const d=he(0);function u(){d.x=At(r)}if(o||!o&&!l)if((Be(t)!=="body"||Ke(r))&&(i=st(t)),o){const b=Oe(t,!0,l,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else r&&u();l&&!o&&r&&u();const c=r&&!o&&!l?ha(r,i):he(0),f=n.left+i.scrollLeft-d.x-c.x,h=n.top+i.scrollTop-d.y-c.y;return{x:f,y:h,width:n.width,height:n.height}}function ut(e){return ie(e).position==="static"}function Ht(e,t){if(!ve(e)||ie(e).position==="fixed")return null;if(t)return t(e);let a=e.offsetParent;return _e(e)===a&&(a=a.ownerDocument.body),a}function ya(e,t){const a=oe(e);if(rt(e))return a;if(!ve(e)){let r=Pe(e);for(;r&&!Fe(r);){if(le(r)&&!ut(r))return r;r=Pe(r)}return a}let o=Ht(e,t);for(;o&&Pr(o)&&ut(o);)o=Ht(o,t);return o&&Fe(o)&&ut(o)&&!St(o)?a:o||Br(e)||a}const Kr=async function(e){const t=this.getOffsetParent||ya,a=this.getDimensions,o=await a(e.floating);return{reference:Wr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Xr(e){return ie(e).direction==="rtl"}const Gr={convertOffsetParentRelativeRectToViewportRelativeRect:Ir,getDocumentElement:_e,getClippingRect:Ur,getOffsetParent:ya,getElementRects:Kr,getClientRects:Lr,getDimensions:Vr,getScale:Ie,isElement:le,isRTL:Xr};function _a(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yr(e,t){let a=null,o;const r=_e(e);function l(){var i;clearTimeout(o),(i=a)==null||i.disconnect(),a=null}function n(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),l();const u=e.getBoundingClientRect(),{left:c,top:f,width:h,height:b}=u;if(i||t(),!h||!b)return;const w=Ge(f),k=Ge(r.clientWidth-(c+h)),A=Ge(r.clientHeight-(f+b)),B=Ge(c),R={rootMargin:-w+"px "+-k+"px "+-A+"px "+-B+"px",threshold:te(0,qe(1,d))||1};let q=!0;function O(C){const x=C[0].intersectionRatio;if(x!==d){if(!q)return n();x?n(!1,x):o=setTimeout(()=>{n(!1,1e-7)},1e3)}x===1&&!_a(u,e.getBoundingClientRect())&&n(),q=!1}try{a=new IntersectionObserver(O,{...R,root:r.ownerDocument})}catch{a=new IntersectionObserver(O,R)}a.observe(e)}return n(!0),l}function Qr(e,t,a,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:n=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,u=Pt(e),c=r||l?[...u?Ve(u):[],...Ve(t)]:[];c.forEach(B=>{r&&B.addEventListener("scroll",a,{passive:!0}),l&&B.addEventListener("resize",a)});const f=u&&i?Yr(u,a):null;let h=-1,b=null;n&&(b=new ResizeObserver(B=>{let[E]=B;E&&E.target===u&&b&&(b.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var R;(R=b)==null||R.observe(t)})),a()}),u&&!d&&b.observe(u),b.observe(t));let w,k=d?Oe(e):null;d&&A();function A(){const B=Oe(e);k&&!_a(k,B)&&a(),k=B,w=requestAnimationFrame(A)}return a(),()=>{var B;c.forEach(E=>{r&&E.removeEventListener("scroll",a),l&&E.removeEventListener("resize",a)}),f?.(),(B=b)==null||B.disconnect(),b=null,d&&cancelAnimationFrame(w)}}const Jr=xr,Zr=Cr,Ut=_r,es=$r,ts=br,as=yr,os=kr,rs=(e,t,a)=>{const o=new Map,r={platform:Gr,...a},l={...r.platform,_c:o};return vr(e,t,{...r,platform:l})};function ss(e){return e!=null&&typeof e=="object"&&"$el"in e}function vt(e){if(ss(e)){const t=e.$el;return $t(t)&&Be(t)==="#comment"?null:t}return e}function Ee(e){return typeof e=="function"?e():s(e)}function ns(e){return{name:"arrow",options:e,fn(t){const a=vt(Ee(e.element));return a==null?{}:as({element:a,padding:e.padding}).fn(t)}}}function ba(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vt(e,t){const a=ba(e);return Math.round(t*a)/a}function ls(e,t,a){a===void 0&&(a={});const o=a.whileElementsMounted,r=L(()=>{var x;return(x=Ee(a.open))!=null?x:!0}),l=L(()=>Ee(a.middleware)),n=L(()=>{var x;return(x=Ee(a.placement))!=null?x:"bottom"}),i=L(()=>{var x;return(x=Ee(a.strategy))!=null?x:"absolute"}),d=L(()=>{var x;return(x=Ee(a.transform))!=null?x:!0}),u=L(()=>vt(e.value)),c=L(()=>vt(t.value)),f=M(0),h=M(0),b=M(i.value),w=M(n.value),k=Ea({}),A=M(!1),B=L(()=>{const x={position:b.value,left:"0",top:"0"};if(!c.value)return x;const v=Vt(c.value,f.value),g=Vt(c.value,h.value);return d.value?{...x,transform:"translate("+v+"px, "+g+"px)",...ba(c.value)>=1.5&&{willChange:"transform"}}:{position:b.value,left:v+"px",top:g+"px"}});let E;function R(){if(u.value==null||c.value==null)return;const x=r.value;rs(u.value,c.value,{middleware:l.value,placement:n.value,strategy:i.value}).then(v=>{f.value=v.x,h.value=v.y,b.value=v.strategy,w.value=v.placement,k.value=v.middlewareData,A.value=x!==!1})}function q(){typeof E=="function"&&(E(),E=void 0)}function O(){if(q(),o===void 0){R();return}if(u.value!=null&&c.value!=null){E=o(u.value,c.value,R);return}}function C(){r.value||(A.value=!1)}return De([l,n,i,r],R,{flush:"sync"}),De([u,c],O,{flush:"sync"}),De(r,C,{flush:"sync"}),Ra()&&Ia(q),{x:Me(f),y:Me(h),strategy:Me(b),placement:Me(w),middlewareData:Me(k),isPositioned:Me(A),floatingStyles:B,update:R}}const wa={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[is,ds]=ye("PopperContent");var us=S({inheritAttrs:!1,__name:"PopperContent",props:Qt({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...wa}),emits:["placed"],setup(e,{emit:t}){const a=e,o=t,r=ia(),{forwardRef:l,currentElement:n}=V(),i=M(),d=M(),{width:u,height:c}=Fo(d),f=L(()=>a.side+(a.align!=="center"?`-${a.align}`:"")),h=L(()=>typeof a.collisionPadding=="number"?a.collisionPadding:{top:0,right:0,bottom:0,left:0,...a.collisionPadding}),b=L(()=>Array.isArray(a.collisionBoundary)?a.collisionBoundary:[a.collisionBoundary]),w=L(()=>({padding:h.value,boundary:b.value.filter(rr),altBoundary:b.value.length>0})),k=L(()=>({mainAxis:a.sideFlip,crossAxis:a.alignFlip})),A=Xa(()=>[Jr({mainAxis:a.sideOffset+c.value,alignmentAxis:a.alignOffset}),a.prioritizePosition&&a.avoidCollisions&&Ut({...w.value,...k.value}),a.avoidCollisions&&Zr({mainAxis:!0,crossAxis:!!a.prioritizePosition,limiter:a.sticky==="partial"?os():void 0,...w.value}),!a.prioritizePosition&&a.avoidCollisions&&Ut({...w.value,...k.value}),es({...w.value,apply:({elements:F,rects:G,availableWidth:K,availableHeight:se})=>{const{width:Z,height:Q}=G.reference,Y=F.floating.style;Y.setProperty("--reka-popper-available-width",`${K}px`),Y.setProperty("--reka-popper-available-height",`${se}px`),Y.setProperty("--reka-popper-anchor-width",`${Z}px`),Y.setProperty("--reka-popper-anchor-height",`${Q}px`)}}),d.value&&ns({element:d.value,padding:a.arrowPadding}),sr({arrowWidth:u.value,arrowHeight:c.value}),a.hideWhenDetached&&ts({strategy:"referenceHidden",...w.value})]),B=L(()=>a.reference??r.anchor.value),{floatingStyles:E,placement:R,isPositioned:q,middlewareData:O}=ls(B,i,{strategy:a.positionStrategy,placement:f,whileElementsMounted:(...F)=>Qr(...F,{layoutShift:!a.disableUpdateOnLayoutShift,animationFrame:a.updatePositionStrategy==="always"}),middleware:A}),C=L(()=>pt(R.value)[0]),x=L(()=>pt(R.value)[1]);Yt(()=>{q.value&&o("placed")});const v=L(()=>O.value.arrow?.centerOffset!==0),g=M("");Le(()=>{n.value&&(g.value=window.getComputedStyle(n.value).zIndex)});const $=L(()=>O.value.arrow?.x??0),I=L(()=>O.value.arrow?.y??0);return ds({placedSide:C,onArrowChange:F=>d.value=F,arrowX:$,arrowY:I,shouldHideArrow:v}),(F,G)=>(p(),T("div",{ref_key:"floatingRef",ref:i,"data-reka-popper-content-wrapper":"",style:fe({...s(E),transform:s(q)?s(E).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:g.value,"--reka-popper-transform-origin":[s(O).transformOrigin?.x,s(O).transformOrigin?.y].join(" "),...s(O).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[_(s(J),N({ref:s(l)},F.$attrs,{"as-child":a.asChild,as:F.as,"data-side":C.value,"data-align":x.value,style:{animation:s(q)?void 0:"none"}}),{default:m(()=>[P(F.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),xa=us;const cs={top:"bottom",right:"left",bottom:"top",left:"right"};var fs=S({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const{forwardRef:t}=V(),a=is(),o=L(()=>cs[a.placedSide.value]);return(r,l)=>(p(),T("span",{ref:n=>{s(a).onArrowChange(n)},style:fe({position:"absolute",left:s(a).arrowX?.value?`${s(a).arrowX?.value}px`:void 0,top:s(a).arrowY?.value?`${s(a).arrowY?.value}px`:void 0,[o.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s(a).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s(a).placedSide.value],visibility:s(a).shouldHideArrow.value?"hidden":void 0})},[_(or,N(r.$attrs,{ref:s(t),style:{display:"block"},as:r.as,"as-child":r.asChild,rounded:r.rounded,width:r.width,height:r.height}),{default:m(()=>[P(r.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}}),ps=fs,gs=S({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(a,o)=>(p(),D(s(ua),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),ms=gs;function hs(){const e=M(!1);return ne(()=>{He("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),He(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const vs=Ga(hs),[nt,ys]=ye(["MenuRoot","MenuSub"],"MenuContext"),[Dt,_s]=ye("MenuRoot");var bs=S({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t,{modal:r,dir:l}=We(a),n=sa(l),i=et(a,"open",o),d=M(),u=vs();return ys({open:i,onOpenChange:c=>{i.value=c},content:d,onContentChange:c=>{d.value=c}}),_s({onClose:()=>{i.value=!1},isUsingKeyboardRef:u,dir:n,modal:r}),(c,f)=>(p(),D(s(da),null,{default:m(()=>[P(c.$slots,"default")]),_:3}))}}),ws=bs;const[Ca,xs]=ye("MenuContent");var Cs=S({__name:"MenuContentImpl",props:Qt({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...wa}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:t}){const a=e,o=t,r=nt(),l=Dt(),{trapFocus:n,disableOutsidePointerEvents:i,loop:d}=We(a);Oo(),no(i.value);const u=M(""),c=M(0),f=M(0),h=M(null),b=M("right"),w=M(0),k=M(null),A=M(),{forwardRef:B,currentElement:E}=V(),{handleTypeaheadSearch:R}=No();De(E,g=>{r.onContentChange(g)}),Te(()=>{window.clearTimeout(c.value)});function q(g){return b.value===h.value?.side&&uo(g,h.value?.area)}async function O(g){o("openAutoFocus",g),!g.defaultPrevented&&(g.preventDefault(),E.value?.focus({preventScroll:!0}))}function C(g){if(g.defaultPrevented)return;const I=g.target.closest("[data-reka-menu-content]")===g.currentTarget,F=g.ctrlKey||g.altKey||g.metaKey,G=g.key.length===1,K=Do(g,ea(),E.value,{loop:d.value,arrowKeyOptions:"vertical",dir:l?.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(K)return K?.focus();if(g.code==="Space")return;const se=A.value?.getItems()??[];if(I&&(g.key==="Tab"&&g.preventDefault(),!F&&G&&R(g.key,se)),g.target!==E.value||!co.includes(g.key))return;g.preventDefault();const Z=[...se.map(Q=>Q.ref)];fo.includes(g.key)&&Z.reverse(),po(Z)}function x(g){g?.currentTarget?.contains?.(g.target)||(window.clearTimeout(c.value),u.value="")}function v(g){if(!ft(g))return;const $=g.target,I=w.value!==g.clientX;if(g?.currentTarget?.contains($)&&I){const F=g.clientX>w.value?"right":"left";b.value=F,w.value=g.clientX}}return xs({onItemEnter:g=>!!q(g),onItemLeave:g=>{q(g)||(E.value?.focus(),k.value=null)},onTriggerLeave:g=>!!q(g),searchRef:u,pointerGraceTimerRef:f,onPointerGraceIntentChange:g=>{h.value=g}}),(g,$)=>(p(),D(s(io),{"as-child":"",trapped:s(n),onMountAutoFocus:O,onUnmountAutoFocus:$[7]||($[7]=I=>o("closeAutoFocus",I))},{default:m(()=>[_(s(oa),{"as-child":"","disable-outside-pointer-events":s(i),onEscapeKeyDown:$[2]||($[2]=I=>o("escapeKeyDown",I)),onPointerDownOutside:$[3]||($[3]=I=>o("pointerDownOutside",I)),onFocusOutside:$[4]||($[4]=I=>o("focusOutside",I)),onInteractOutside:$[5]||($[5]=I=>o("interactOutside",I)),onDismiss:$[6]||($[6]=I=>o("dismiss"))},{default:m(()=>[_(s(ko),{ref_key:"rovingFocusGroupRef",ref:A,"current-tab-stop-id":k.value,"onUpdate:currentTabStopId":$[0]||($[0]=I=>k.value=I),"as-child":"",orientation:"vertical",dir:s(l).dir.value,loop:s(d),onEntryFocus:$[1]||($[1]=I=>{o("entryFocus",I),s(l).isUsingKeyboardRef.value||I.preventDefault()})},{default:m(()=>[_(s(xa),{ref:s(B),role:"menu",as:g.as,"as-child":g.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":s(lo)(s(r).open.value),dir:s(l).dir.value,side:g.side,"side-offset":g.sideOffset,align:g.align,"align-offset":g.alignOffset,"avoid-collisions":g.avoidCollisions,"collision-boundary":g.collisionBoundary,"collision-padding":g.collisionPadding,"arrow-padding":g.arrowPadding,"prioritize-position":g.prioritizePosition,"position-strategy":g.positionStrategy,"update-position-strategy":g.updatePositionStrategy,sticky:g.sticky,"hide-when-detached":g.hideWhenDetached,reference:g.reference,onKeydown:C,onBlur:x,onPointermove:v},{default:m(()=>[P(g.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),ka=Cs,ks=S({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,a=Ca(),{forwardRef:o}=V(),{CollectionItem:r}=$o(),l=M(!1);async function n(d){d.defaultPrevented||ft(d)&&(t.disabled?a.onItemLeave(d):a.onItemEnter(d)||d.currentTarget?.focus({preventScroll:!0}))}async function i(d){await ge(),!d.defaultPrevented&&ft(d)&&a.onItemLeave(d)}return(d,u)=>(p(),D(s(r),{value:{textValue:d.textValue}},{default:m(()=>[_(s(J),N({ref:s(o),role:"menuitem",tabindex:"-1"},d.$attrs,{as:d.as,"as-child":d.asChild,"aria-disabled":d.disabled||void 0,"data-disabled":d.disabled?"":void 0,"data-highlighted":l.value?"":void 0,onPointermove:n,onPointerleave:i,onFocus:u[0]||(u[0]=async c=>{await ge(),!(c.defaultPrevented||d.disabled)&&(l.value=!0)}),onBlur:u[1]||(u[1]=async c=>{await ge(),!c.defaultPrevented&&(l.value=!1)})}),{default:m(()=>[P(d.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),$s=ks,Ss=S({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const a=e,o=t,{forwardRef:r,currentElement:l}=V(),n=Dt(),i=Ca(),d=M(!1);async function u(){const c=l.value;if(!a.disabled&&c){const f=new CustomEvent(mo,{bubbles:!0,cancelable:!0});o("select",f),await ge(),f.defaultPrevented?d.value=!1:n.onClose()}}return(c,f)=>(p(),D($s,N(a,{ref:s(r),onClick:u,onPointerdown:f[0]||(f[0]=()=>{d.value=!0}),onPointerup:f[1]||(f[1]=async h=>{await ge(),!h.defaultPrevented&&(d.value||h.currentTarget?.click())}),onKeydown:f[2]||(f[2]=async h=>{const b=s(i).searchRef.value!=="";c.disabled||b&&h.key===" "||s(go).includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})}),{default:m(()=>[P(c.$slots,"default")]),_:3},16))}}),qs=Ss,Ps=S({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,o=t,r=ue(a,o),l=nt(),{forwardRef:n,currentElement:i}=V();return ho(i),(d,u)=>(p(),D(ka,N(s(r),{ref:s(n),"trap-focus":s(l).open.value,"disable-outside-pointer-events":s(l).open.value,"disable-outside-scroll":!0,onDismiss:u[0]||(u[0]=c=>s(l).onOpenChange(!1)),onFocusOutside:u[1]||(u[1]=Re(c=>o("focusOutside",c),["prevent"]))}),{default:m(()=>[P(d.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),As=Ps,Ds=S({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=ue(e,t),l=nt();return(n,i)=>(p(),D(ka,N(s(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:i[0]||(i[0]=d=>s(l).onOpenChange(!1))}),{default:m(()=>[P(n.$slots,"default")]),_:3},16))}}),Os=Ds,Ts=S({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=ue(e,t),l=nt(),n=Dt();return(i,d)=>(p(),D(s(ta),{present:i.forceMount||s(l).open.value},{default:m(()=>[s(n).modal.value?(p(),D(As,ee(N({key:0},{...i.$attrs,...s(r)})),{default:m(()=>[P(i.$slots,"default")]),_:3},16)):(p(),D(Os,ee(N({key:1},{...i.$attrs,...s(r)})),{default:m(()=>[P(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Bs=Ts,Ms=S({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(a,o)=>(p(),D(s(J),N({role:"group"},t),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),Es=Ms,Rs=S({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e;return(a,o)=>(p(),D(s(J),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),Is=Rs,Ls=S({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(a,o)=>(p(),D(s(ra),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),Fs=Ls,Ns=S({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(a,o)=>(p(),D(s(J),N(t,{role:"separator","aria-orientation":"horizontal"}),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),js=Ns;const[$a,zs]=ye("DropdownMenuRoot");var Hs=S({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t;V();const r=et(a,"open",o,{defaultValue:a.defaultOpen,passive:a.open===void 0}),l=M(),{modal:n,dir:i}=We(a),d=sa(i);return zs({open:r,onOpenChange:u=>{r.value=u},onOpenToggle:()=>{r.value=!r.value},triggerId:"",triggerElement:l,contentId:"",modal:n,dir:d}),(u,c)=>(p(),D(s(ws),{open:s(r),"onUpdate:open":c[0]||(c[0]=f=>La(r)?r.value=f:null),dir:s(d),modal:s(n)},{default:m(()=>[P(u.$slots,"default",{open:s(r)})]),_:3},8,["open","dir","modal"]))}}),Us=Hs,Vs=S({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const r=ue(e,t);V();const l=$a(),n=M(!1);function i(d){d.defaultPrevented||(n.value||setTimeout(()=>{l.triggerElement.value?.focus()},0),n.value=!1,d.preventDefault())}return l.contentId||=bt(void 0,"reka-dropdown-menu-content"),(d,u)=>(p(),D(s(Bs),N(s(r),{id:s(l).contentId,"aria-labelledby":s(l)?.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i,onInteractOutside:u[0]||(u[0]=c=>{if(c.defaultPrevented)return;const f=c.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,b=f.button===2||h;(!s(l).modal.value||b)&&(n.value=!0),s(l).triggerElement.value?.contains(c.target)&&c.preventDefault()})}),{default:m(()=>[P(d.$slots,"default")]),_:3},16,["id","aria-labelledby"]))}}),Ws=Vs,Ks=S({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return V(),(a,o)=>(p(),D(s(Es),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),Xs=Ks,Gs=S({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const a=e,r=Qa(t);return V(),(l,n)=>(p(),D(s(qs),ee(de({...a,...s(r)})),{default:m(()=>[P(l.$slots,"default")]),_:3},16))}}),Ys=Gs,Qs=S({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return V(),(a,o)=>(p(),D(s(Is),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),Js=Qs,Zs=S({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(a,o)=>(p(),D(s(Fs),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),en=Zs,tn=S({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return V(),(a,o)=>(p(),D(s(js),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),an=tn,on=S({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,a=$a(),{forwardRef:o,currentElement:r}=V();return ne(()=>{a.triggerElement=r}),a.triggerId||=bt(void 0,"reka-dropdown-menu-trigger"),(l,n)=>(p(),D(s(ms),{"as-child":""},{default:m(()=>[_(s(J),{id:s(a).triggerId,ref:s(o),type:l.as==="button"?"button":void 0,"as-child":t.asChild,as:l.as,"aria-haspopup":"menu","aria-expanded":s(a).open.value,"aria-controls":s(a).open.value?s(a).contentId:void 0,"data-disabled":l.disabled?"":void 0,disabled:l.disabled,"data-state":s(a).open.value?"open":"closed",onClick:n[0]||(n[0]=async i=>{!l.disabled&&i.button===0&&i.ctrlKey===!1&&(s(a)?.onOpenToggle(),await ge(),s(a).open.value&&i.preventDefault())}),onKeydown:n[1]||(n[1]=Fa(i=>{l.disabled||(["Enter"," "].includes(i.key)&&s(a).onOpenToggle(),i.key==="ArrowDown"&&s(a).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())},["enter","space","arrow-down"]))},{default:m(()=>[P(l.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),rn=on,sn=S({__name:"TooltipArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return V(),(a,o)=>(p(),D(s(ps),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),nn=sn;const[Ot,ln]=ye("TooltipProvider");var dn=S({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,{delayDuration:a,skipDelayDuration:o,disableHoverableContent:r,disableClosingTrigger:l,ignoreNonKeyboardFocus:n,disabled:i}=We(t);V();const d=M(!0),u=M(!1),{start:c,stop:f}=Zt(()=>{d.value=!0},o,{immediate:!1});return ln({isOpenDelayed:d,delayDuration:a,onOpen(){f(),d.value=!1},onClose(){c()},isPointerInTransitRef:u,disableHoverableContent:r,disableClosingTrigger:l,disabled:i,ignoreNonKeyboardFocus:n}),(h,b)=>P(h.$slots,"default")}}),un=dn;const Sa="tooltip.open",[lt,cn]=ye("TooltipRoot");var fn=S({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t;V();const r=Ot(),l=L(()=>a.disableHoverableContent??r.disableHoverableContent.value),n=L(()=>a.disableClosingTrigger??r.disableClosingTrigger.value),i=L(()=>a.disabled??r.disabled.value),d=L(()=>a.delayDuration??r.delayDuration.value),u=L(()=>a.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),c=et(a,"open",o,{defaultValue:a.defaultOpen,passive:a.open===void 0});De(c,R=>{r.onClose&&(R?(r.onOpen(),document.dispatchEvent(new CustomEvent(Sa))):r.onClose())});const f=M(!1),h=M(),b=L(()=>c.value?f.value?"delayed-open":"instant-open":"closed"),{start:w,stop:k}=Zt(()=>{f.value=!0,c.value=!0},d,{immediate:!1});function A(){k(),f.value=!1,c.value=!0}function B(){k(),c.value=!1}function E(){w()}return cn({contentId:"",open:c,stateAttribute:b,trigger:h,onTriggerChange(R){h.value=R},onTriggerEnter(){r.isOpenDelayed.value?E():A()},onTriggerLeave(){l.value?B():k()},onOpen:A,onClose:B,disableHoverableContent:l,disableClosingTrigger:n,disabled:i,ignoreNonKeyboardFocus:u}),(R,q)=>(p(),D(s(da),null,{default:m(()=>[P(R.$slots,"default",{open:s(c)})]),_:3}))}}),pn=fn,gn=S({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const a=e,o=t,r=lt(),{forwardRef:l}=V(),n=Na(),i=L(()=>n.default?.({})),d=L(()=>{if(a.ariaLabel)return a.ariaLabel;let c="";function f(h){typeof h.children=="string"&&h.type!==ja?c+=h.children:Array.isArray(h.children)&&h.children.forEach(b=>f(b))}return i.value?.forEach(h=>f(h)),c}),u=L(()=>{const{ariaLabel:c,...f}=a;return f});return ne(()=>{He(window,"scroll",c=>{c.target?.contains(r.trigger.value)&&r.onClose()}),He(window,Sa,r.onClose)}),(c,f)=>(p(),D(s(oa),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:f[0]||(f[0]=h=>o("escapeKeyDown",h)),onPointerDownOutside:f[1]||(f[1]=h=>{s(r).disableClosingTrigger.value&&s(r).trigger.value?.contains(h.target)&&h.preventDefault(),o("pointerDownOutside",h)}),onFocusOutside:f[2]||(f[2]=Re(()=>{},["prevent"])),onDismiss:f[3]||(f[3]=h=>s(r).onClose())},{default:m(()=>[_(s(xa),N({ref:s(l),"data-state":s(r).stateAttribute.value},{...c.$attrs,...u.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:m(()=>[P(c.$slots,"default"),_(s(So),{id:s(r).contentId,role:"tooltip"},{default:m(()=>[ae(z(d.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),qa=gn,mn=S({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(e){const a=at(e),{forwardRef:o,currentElement:r}=V(),{trigger:l,onClose:n}=lt(),i=Ot(),{isPointerInTransit:d,onPointerExit:u}=To(l,r);return i.isPointerInTransitRef=d,u(()=>{n()}),(c,f)=>(p(),D(qa,N({ref:s(o)},s(a)),{default:m(()=>[P(c.$slots,"default")]),_:3},16))}}),hn=mn,vn=S({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const a=e,o=t,r=lt(),l=ue(a,o),{forwardRef:n}=V();return(i,d)=>(p(),D(s(ta),{present:i.forceMount||s(r).open.value},{default:m(()=>[(p(),D(yt(s(r).disableHoverableContent.value?qa:hn),N({ref:s(n)},s(l)),{default:m(()=>[P(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),yn=vn,_n=S({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(a,o)=>(p(),D(s(ra),ee(de(t)),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),bn=_n,wn=S({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,a=lt(),o=Ot();a.contentId||=bt(void 0,"reka-tooltip-content");const{forwardRef:r,currentElement:l}=V(),n=M(!1),i=M(!1),d=L(()=>a.disabled.value?{}:{click:k,focus:b,pointermove:f,pointerleave:h,pointerdown:c,blur:w});ne(()=>{a.onTriggerChange(l.value)});function u(){setTimeout(()=>{n.value=!1},1)}function c(){a.open&&!a.disableClosingTrigger.value&&a.onClose(),n.value=!0,document.addEventListener("pointerup",u,{once:!0})}function f(A){A.pointerType!=="touch"&&!i.value&&!o.isPointerInTransitRef.value&&(a.onTriggerEnter(),i.value=!0)}function h(){a.onTriggerLeave(),i.value=!1}function b(A){n.value||a.ignoreNonKeyboardFocus.value&&!A.target.matches?.(":focus-visible")||a.onOpen()}function w(){a.onClose()}function k(){a.disableClosingTrigger.value||a.onClose()}return(A,B)=>(p(),D(s(ua),{"as-child":"",reference:A.reference},{default:m(()=>[_(s(J),N({ref:s(r),"aria-describedby":s(a).open.value?s(a).contentId:void 0,"data-state":s(a).stateAttribute.value,as:A.as,"as-child":t.asChild,"data-grace-area-trigger":""},za(d.value)),{default:m(()=>[P(A.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),xn=wn;const Cn=S({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=ue(e,t);return(l,n)=>(p(),D(s(vo),N({"data-slot":"sheet"},s(r)),{default:m(()=>[P(l.$slots,"default")]),_:3},16))}}),kn=S({__name:"SheetOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(p(),D(s(yo),N({"data-slot":"sheet-overlay",class:s(H)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t.class)},a.value),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),$n=S({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{default:"right"},forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,o=t,r=tt(a,"class","side"),l=ue(r,o);return(n,i)=>(p(),D(s(_o),null,{default:m(()=>[_(kn),_(s(bo),N({"data-slot":"sheet-content",class:s(H)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n.side==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n.side==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n.side==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n.side==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a.class)},{...s(l),...n.$attrs}),{default:m(()=>[P(n.$slots,"default"),_(s(wo),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none"},{default:m(()=>[_(s(xo),{class:"size-4"}),i[0]||(i[0]=y("span",{class:"sr-only"},"Close",-1))]),_:1,__:[0]})]),_:3},16,["class"])]),_:3}))}}),Sn=S({__name:"SheetDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(p(),D(s(Ja),N({"data-slot":"sheet-description",class:s(H)("text-muted-foreground text-sm",t.class)},a.value),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),qn=S({__name:"SheetHeader",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("div",{"data-slot":"sheet-header",class:j(s(H)("flex flex-col gap-1.5 p-4",t.class))},[P(a.$slots,"default")],2))}}),Pn=S({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(p(),D(s(Co),N({"data-slot":"sheet-title",class:s(H)("text-foreground font-semibold",t.class)},a.value),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),An="sidebar_state",Dn=3600*24*7,On="16rem",Tn="18rem",Bn="3rem",Mn="b",[it,En]=ye("Sidebar"),Rn={class:"flex h-full w-full flex-col"},In=["data-state","data-collapsible","data-variant","data-side"],Ln={"data-sidebar":"sidebar",class:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"},Fn=S({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{}},setup(e){const t=e,{isMobile:a,state:o,openMobile:r,setOpenMobile:l}=it();return(n,i)=>n.collapsible==="none"?(p(),T("div",N({key:0,"data-slot":"sidebar",class:s(H)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",t.class)},n.$attrs),[P(n.$slots,"default")],16)):s(a)?(p(),D(s(Cn),N({key:1,open:s(r)},n.$attrs,{"onUpdate:open":s(l)}),{default:m(()=>[_(s($n),{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",side:n.side,class:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:fe({"--sidebar-width":s(Tn)})},{default:m(()=>[_(qn,{class:"sr-only"},{default:m(()=>[_(Pn,null,{default:m(()=>i[0]||(i[0]=[ae("Sidebar",-1)])),_:1,__:[0]}),_(Sn,null,{default:m(()=>i[1]||(i[1]=[ae("Displays the mobile sidebar.",-1)])),_:1,__:[1]})]),_:1}),y("div",Rn,[P(n.$slots,"default")])]),_:3},8,["side","style"])]),_:3},16,["open","onUpdate:open"])):(p(),T("div",{key:2,class:"group peer text-sidebar-foreground hidden md:block","data-slot":"sidebar","data-state":s(o),"data-collapsible":s(o)==="collapsed"?n.collapsible:"","data-variant":n.variant,"data-side":n.side},[y("div",{class:j(s(H)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",n.variant==="floating"||n.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)"))},null,2),y("div",N({class:s(H)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",n.variant==="floating"||n.variant==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",t.class),style:{"padding-right":"0px"}},n.$attrs),[y("div",Ln,[P(n.$slots,"default")])],16)],8,In))}}),Nn=S({__name:"SidebarContent",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("div",{"data-slot":"sidebar-content","data-sidebar":"content",class:j(s(H)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t.class))},[P(a.$slots,"default")],2))}}),jn=S({__name:"SidebarFooter",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",class:j(s(H)("flex flex-col gap-2 p-2",t.class))},[P(a.$slots,"default")],2))}}),zn=S({__name:"SidebarGroup",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("div",{"data-slot":"sidebar-group","data-sidebar":"group",class:j(s(H)("relative flex w-full min-w-0 flex-col p-2",t.class))},[P(a.$slots,"default")],2))}}),Hn=S({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e;return(a,o)=>(p(),D(s(J),{"data-slot":"sidebar-group-label","data-sidebar":"group-label",as:a.as,"as-child":a.asChild,class:j(s(H)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t.class))},{default:m(()=>[P(a.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Un=S({__name:"SidebarHeader",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:j(s(H)("flex flex-col gap-2 p-2",t.class))},[P(a.$slots,"default")],2))}}),Vn=S({__name:"SidebarInset",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("main",{"data-slot":"sidebar-inset",class:j(s(H)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",t.class))},[P(a.$slots,"default")],2))}}),Ze=S({__name:"SidebarMenu",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",class:j(s(H)("flex w-full min-w-0 flex-col gap-1",t.class))},[P(a.$slots,"default")],2))}}),Wn=S({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=ue(e,t);return(l,n)=>(p(),D(s(pn),N({"data-slot":"tooltip"},s(r)),{default:m(()=>[P(l.$slots,"default")]),_:3},16))}}),Kn=S({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const a=e,o=t,r=tt(a,"class"),l=ue(r,o);return(n,i)=>(p(),D(s(bn),null,{default:m(()=>[_(s(yn),N({"data-slot":"tooltip-content"},{...s(l),...n.$attrs},{class:s(H)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",a.class)}),{default:m(()=>[P(n.$slots,"default"),_(s(nn),{class:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]),_:3},16,["class"])]),_:3}))}}),Xn=S({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(a,o)=>(p(),D(s(xn),N({"data-slot":"tooltip-trigger"},t),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),Wt=S({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const t=e;return(a,o)=>(p(),D(s(J),N({"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a.size,"data-active":a.isActive,class:s(H)(s(Qn)({variant:a.variant,size:a.size}),t.class),as:a.as,"as-child":a.asChild},a.$attrs),{default:m(()=>[P(a.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),Ae=S({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(e){const t=e,{isMobile:a,state:o}=it(),r=L(()=>{const{tooltip:l,...n}=t;return n});return(l,n)=>l.tooltip?(p(),D(s(Wn),{key:1},{default:m(()=>[_(s(Xn),{"as-child":""},{default:m(()=>[_(Wt,ee(de({...r.value,...l.$attrs})),{default:m(()=>[P(l.$slots,"default")]),_:3},16)]),_:3}),_(s(Kn),{side:"right",align:"center",hidden:s(o)!=="collapsed"||s(a)},{default:m(()=>[typeof l.tooltip=="string"?(p(),T(X,{key:0},[ae(z(l.tooltip),1)],64)):(p(),D(yt(l.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(p(),D(Wt,ee(N({key:0},{...r.value,...l.$attrs})),{default:m(()=>[P(l.$slots,"default")]),_:3},16))}}),ce=S({__name:"SidebarMenuItem",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",class:j(s(H)("group/menu-item relative",t.class))},[P(a.$slots,"default")],2))}}),Gn=S({__name:"SidebarProvider",props:{defaultOpen:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},class:{}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t,r=Ya("(max-width: 768px)"),l=M(!1),n=et(a,"open",o,{defaultValue:a.defaultOpen??!1,passive:a.open===void 0});function i(f){n.value=f,document.cookie=`${An}=${n.value}; path=/; max-age=${Dn}`}function d(f){l.value=f}function u(){return r.value?d(!l.value):i(!n.value)}He("keydown",f=>{f.key===Mn&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),u())});const c=L(()=>n.value?"expanded":"collapsed");return En({state:c,open:n,setOpen:i,isMobile:r,openMobile:l,setOpenMobile:d,toggleSidebar:u}),(f,h)=>(p(),D(s(un),{"delay-duration":0},{default:m(()=>[y("div",N({"data-slot":"sidebar-wrapper",style:{"--sidebar-width":s(On),"--sidebar-width-icon":s(Bn)},class:s(H)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a.class)},f.$attrs),[P(f.$slots,"default")],16)]),_:3}))}}),Yn=S({__name:"SidebarTrigger",props:{class:{}},setup(e){const t=e,{toggleSidebar:a}=it();return(o,r)=>(p(),D(s(Ta),{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",class:j(s(H)("h-7 w-7",t.class)),onClick:s(a)},{default:m(()=>[_(s(Za)),r[0]||(r[0]=y("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1,__:[0]},8,["class","onClick"]))}}),Qn=Ba("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:pr-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),Jn=S({__name:"AppContent",props:{variant:{},class:{},projectColor:{}},setup(e){const t=e,a=L(()=>t.class);return(o,r)=>t.variant==="sidebar"?(p(),D(s(Vn),{key:0,class:j(a.value)},{default:m(()=>[P(o.$slots,"default")]),_:3},8,["class"])):(p(),T("main",{key:1,class:j(["mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",a.value]),style:fe(o.projectColor?{borderColor:o.projectColor,borderWidth:"1px",borderStyle:"solid"}:{})},[P(o.$slots,"default")],6))}}),Zn={class:"fixed top-4 right-4 z-50 space-y-2"},el={class:"flex-shrink-0"},tl={class:"flex-1"},al={class:"font-medium"},ol={key:0,class:"text-sm opacity-90"},rl=["onClick"],sl=S({__name:"NotificationSystem",setup(e,{expose:t}){const a=M([]),o=i=>{switch(i){case"success":return"CheckCircle";case"error":return"XCircle";case"warning":return"AlertTriangle";case"info":return"Info";default:return"Info"}},r=i=>{const d=Date.now().toString()+Math.random().toString(36).substr(2,9),u={id:d,...i,duration:i.duration||5e3};return a.value.push(u),u.duration>0&&setTimeout(()=>{l(d)},u.duration),d},l=i=>{const d=a.value.findIndex(u=>u.id===i);d>-1&&a.value.splice(d,1)};return t({addNotification:r,removeNotification:l,clearAll:()=>{a.value=[]}}),ne(()=>{window.$notify=r}),(i,d)=>(p(),T("div",Zn,[_(Ha,{name:"notification",tag:"div",class:"space-y-2"},{default:m(()=>[(p(!0),T(X,null,be(a.value,u=>(p(),T("div",{key:u.id,class:j(["flex items-center gap-3 p-4 rounded-lg shadow-lg border-l-4 min-w-80 max-w-md",u.type==="success"?"bg-green-500 border-green-600 text-white dark:bg-green-600 dark:border-green-700":u.type==="error"?"bg-red-500 border-red-600 text-white dark:bg-red-600 dark:border-red-700":u.type==="warning"?"bg-yellow-500 border-yellow-600 text-white dark:bg-yellow-600 dark:border-yellow-700":"bg-blue-500 border-blue-600 text-white dark:bg-blue-600 dark:border-blue-700"])},[y("div",el,[_(W,{name:o(u.type),class:"w-5 h-5 text-white"},null,8,["name"])]),y("div",tl,[y("p",al,z(u.title),1),u.message?(p(),T("p",ol,z(u.message),1)):U("",!0)]),y("button",{onClick:c=>l(u.id),class:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[_(W,{name:"X",class:"w-4 h-4"})],8,rl)],2))),128))]),_:1})]))}}),Kt=aa(sl,[["__scopeId","data-v-9e388c2d"]]),nl={key:0,class:"flex min-h-screen w-full flex-col"},ll=S({__name:"AppShell",props:{variant:{}},setup(e){const t=Ne().props.sidebarOpen;return(a,o)=>a.variant==="header"?(p(),T("div",nl,[P(a.$slots,"default"),_(Kt)])):(p(),D(s(Gn),{key:1,"default-open":s(t)},{default:m(()=>[P(a.$slots,"default"),_(Kt)]),_:3},8,["default-open"]))}}),il={class:"flex items-center gap-2 w-full"},dl=["onDragstart"],ul={class:"flex-1 truncate"},cl={class:"text-xs text-gray-500 flex-shrink-0"},fl={class:"reveal-on-hover-focus"},pl=["onClick","tooltip"],gl={class:"flex-1 truncate"},ml={class:"text-xs text-gray-500"},hl={class:"flex items-center gap-2 w-full"},vl=["onDragstart"],yl={class:"flex-1 truncate"},_l={class:"text-xs text-gray-500 flex-shrink-0"},bl={class:"reveal-on-hover-focus"},wl=["onClick","tooltip"],xl={class:"flex items-center gap-2 w-full"},Cl=["onDragstart"],kl={class:"flex-1 truncate"},$l={class:"text-xs text-gray-500 flex-shrink-0"},Sl={class:"reveal-on-hover-focus"},ql=["onClick","tooltip"],Pl=S({__name:"NavProjects",setup(e){const t=M([]),a=M(null),o=M(null),r=M(!1),l=M(!1),n=M(new Set);let i=null;const d=L(()=>window.location.pathname==="/subscription");ne(async()=>{await u(),i=pe.onProject(async C=>{switch(console.log("Real-time project event received:",C),C.type){case"project_created":const x=C.data;t.value.find(F=>F.id===x.id)||(t.value.push(x),console.log("Added new project to list:",x.name));break;case"project_updated":const v=C.data,g=t.value.findIndex(F=>F.id===v.id);g!==-1&&(t.value[g]=v,console.log("Updated project in list:",v.name));break;case"project_deleted":const $=C.data,I=t.value.findIndex(F=>F.id===$.id);I!==-1&&(t.value.splice(I,1),console.log("Removed project from list:",$.name));break}}),window.addEventListener("projectCreated",async()=>{await u()}),window.addEventListener("todoChanged",async()=>{await u()}),window.addEventListener("projectSelected",async C=>{if(C.detail?.projectId&&!l.value){l.value=!0;try{const x=t.value.find(v=>v.id===C.detail.projectId);x&&(o.value=x,console.log("Sidebar updated to show selected project:",x.name))}finally{l.value=!1}}}),window.addEventListener("subscription-downgrade",async C=>{console.log("Subscription downgrade detected, reloading projects:",C.detail),await u()})}),Te(()=>{i&&i()});const u=async()=>{try{r.value=!0;const C=await Xe.getProjectsWithStats();console.log("Projects with stats:",C),Array.isArray(C)?(t.value=C,a.value=null):C.data&&Array.isArray(C.data)?(t.value=C.data,a.value=C.grouped||null):(t.value=[],a.value=null);const x=localStorage.getItem("currentProjectId");if(x){const v=t.value.find(g=>g.id===parseInt(x));v&&(o.value=v)}}catch(C){console.error("Failed to load projects:",C)}finally{r.value=!1}},c=C=>{o.value=C,localStorage.setItem("currentProjectId",C.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:C.id}})),window.location.href="/dashboard"},f=async(C,x)=>{x.stopPropagation();const v=C.total_todos||0;if(v>0){if(confirm(`Project "${C.name}" contains ${v} todos.

Choose:
- OK: Delete project AND all todos
- Cancel: Keep project and todos`)&&confirm(`⚠️ FINAL WARNING: This will permanently delete:
• Project: "${C.name}"
• ${v} todos

This action CANNOT be undone. Are you absolutely sure?`))try{await Xe.deleteProjectWithTodos(C.id);const $=t.value.findIndex(I=>I.id===C.id);if($!==-1&&t.value.splice($,1),o.value?.id===C.id){let I=null;t.value.length>0&&($<t.value.length?I=t.value[$]:$>0?I=t.value[$-1]:I=t.value[0]),I?(o.value=I,localStorage.setItem("currentProjectId",I.id.toString()),console.log(`Auto-selected next project: ${I.name} (ID: ${I.id})`),console.log("Projects remaining after deletion:",t.value.map(F=>({id:F.id,name:F.name}))),console.log("Updated localStorage to project ID:",I.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:I.id}}))):(o.value=null,localStorage.removeItem("currentProjectId"),console.log("No projects left after deletion"),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:null}})))}console.log(`Project "${C.name}" and ${v} todos deleted successfully`),window.dispatchEvent(new CustomEvent("todoChanged")),window.dispatchEvent(new CustomEvent("projectListChanged")),window.$notify&&window.$notify({type:"success",title:"Project Deleted",message:`Project "${C.name}" and ${v} todos have been deleted successfully.`})}catch($){console.error("Failed to delete project with todos:",$),window.$notify&&window.$notify({type:"error",title:"Delete Failed",message:"Failed to delete project. Please try again."})}}else if(confirm(`Are you sure you want to delete "${C.name}"? This action cannot be undone.`))try{await Xe.deleteProject(C.id);const g=t.value.findIndex($=>$.id===C.id);if(g!==-1&&t.value.splice(g,1),o.value?.id===C.id){let $=null;t.value.length>0&&(g<t.value.length?$=t.value[g]:g>0?$=t.value[g-1]:$=t.value[0]),$?(o.value=$,localStorage.setItem("currentProjectId",$.id.toString()),console.log(`Auto-selected next project: ${$.name} (ID: ${$.id})`),console.log("Projects remaining after deletion:",t.value.map(I=>({id:I.id,name:I.name}))),console.log("Updated localStorage to project ID:",$.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:$.id}}))):(o.value=null,localStorage.removeItem("currentProjectId"),console.log("No projects left after deletion"),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:null}})))}console.log(`Project "${C.name}" deleted successfully`),window.dispatchEvent(new CustomEvent("todoChanged")),window.dispatchEvent(new CustomEvent("projectListChanged")),window.$notify&&window.$notify({type:"success",title:"Project Deleted",message:`Project "${C.name}" has been deleted successfully.`})}catch(g){console.error("Failed to delete project:",g),window.$notify&&window.$notify({type:"error",title:"Delete Failed",message:"Failed to delete project. Please try again."})}},h=()=>{if(d.value){window.$notify&&window.$notify({type:"warning",title:"Project Creation Unavailable",message:"Please complete your subscription upgrade to create new projects."});return}window.dispatchEvent(new CustomEvent("openCreateProjectModal"))},b=M(null),w=M(null),k=(C,x)=>{b.value=x,C.dataTransfer&&(C.dataTransfer.effectAllowed="move",C.dataTransfer.setData("text/plain",x.id.toString()))},A=(C,x)=>{C.preventDefault(),C.dataTransfer&&(C.dataTransfer.dropEffect="move"),w.value=x},B=()=>{w.value=null},E=async(C,x)=>{if(C.preventDefault(),w.value=null,!b.value)return;const v=t.value.findIndex(F=>F.id===b.value.id);if(v===-1||v===x){b.value=null;return}const g=[...t.value],[$]=g.splice(v,1);g.splice(x,0,$);const I=g.map((F,G)=>({id:F.id,viewing_order:G+1}));try{await Xe.updateProjectOrder(I),t.value=g,window.$notify&&window.$notify({type:"success",title:"Project Order Updated",message:"Projects have been reordered successfully."})}catch(F){console.error("Failed to update project order:",F),window.$notify&&window.$notify({type:"error",title:"Update Failed",message:"Failed to reorder projects. Please try again."})}b.value=null},R=()=>{b.value=null,w.value=null},q=C=>{n.value.has(C)?n.value.delete(C):n.value.add(C)},O=C=>n.value.has(C);return(C,x)=>(p(),D(s(zn),{class:"px-2 py-0"},{default:m(()=>[_(s(Hn),null,{default:m(()=>x[3]||(x[3]=[ae("Projects",-1)])),_:1,__:[3]}),_(s(Ze),null,{default:m(()=>[_(s(ce),null,{default:m(()=>[_(s(Ae),{onClick:h,tooltip:d.value?"Complete subscription upgrade to create projects":"Create New Project",class:j({"opacity-50 cursor-not-allowed":d.value})},{default:m(()=>[_(W,{name:"Plus",class:"w-4 h-4"}),x[4]||(x[4]=y("span",null,"New Project",-1))]),_:1,__:[4]},8,["tooltip","class"])]),_:1}),a.value?(p(),T(X,{key:0},[a.value.no_client&&a.value.no_client.length>0?(p(),T(X,{key:0},[_(s(ce),null,{default:m(()=>x[5]||(x[5]=[y("div",{class:"px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"No Client",-1)])),_:1,__:[5]}),(p(!0),T(X,null,be(a.value.no_client,(v,g)=>(p(),D(s(ce),{key:`no-client-${v.id}`,onDragover:$=>A($,g),onDragleave:B,onDrop:$=>E($,g),class:j({"drag-over":w.value===g})},{default:m(()=>[_(s(Ae),{onClick:$=>c(v),"is-active":o.value?.id===v.id,tooltip:v.name,class:j(["group relative ml-2",{"selected-project":o.value?.id===v.id}]),style:fe(o.value?.id===v.id?{borderTop:`1px solid ${v.color}`,borderLeft:`1px solid ${v.color}`,borderBottom:`1px solid ${v.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[y("div",il,[y("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:fe({backgroundColor:v.color}),draggable:"true",onDragstart:$=>k($,v),onDragend:R,title:"Drag to reorder"},null,44,dl),y("span",ul,z(v.name),1),y("span",cl,z(v.total_todos||0),1),y("div",fl,[y("button",{onTouchstart:x[0]||(x[0]=Re(()=>{},["stop"])),onClick:$=>f(v,$),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${v.name}`},[_(W,{name:"Trash2",class:"w-3 h-3"})],40,pl)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128))],64)):U("",!0),(p(!0),T(X,null,be(Object.values(a.value.clients),v=>(p(),T(X,{key:`client-${v.id}`},[_(s(ce),null,{default:m(()=>[_(s(Ae),{onClick:g=>q(v.name),class:"text-xs font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"},{default:m(()=>[_(W,{name:O(v.name)?"ChevronRight":"ChevronDown",class:"w-3 h-3"},null,8,["name"]),y("span",gl,z(v.name),1),y("span",ml,z(v.projects.length),1)]),_:2},1032,["onClick"])]),_:2},1024),O(v.name)?U("",!0):(p(!0),T(X,{key:0},be(v.projects,(g,$)=>(p(),D(s(ce),{key:`client-${v.id}-project-${g.id}`,onDragover:I=>A(I,$),onDragleave:B,onDrop:I=>E(I,$),class:j({"drag-over":w.value===$})},{default:m(()=>[_(s(Ae),{onClick:I=>c(g),"is-active":o.value?.id===g.id,tooltip:g.name,class:j(["group relative ml-4",{"selected-project":o.value?.id===g.id}]),style:fe(o.value?.id===g.id?{borderTop:`1px solid ${g.color}`,borderLeft:`1px solid ${g.color}`,borderBottom:`1px solid ${g.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[y("div",hl,[y("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:fe({backgroundColor:g.color}),draggable:"true",onDragstart:I=>k(I,g),onDragend:R,title:"Drag to reorder"},null,44,vl),y("span",yl,z(g.name),1),y("span",_l,z(g.total_todos||0),1),y("div",bl,[y("button",{onTouchstart:x[1]||(x[1]=Re(()=>{},["stop"])),onClick:I=>f(g,I),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${g.name}`},[_(W,{name:"Trash2",class:"w-3 h-3"})],40,wl)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128))],64))),128))],64)):(p(!0),T(X,{key:1},be(t.value,(v,g)=>(p(),D(s(ce),{key:v.id,onDragover:$=>A($,g),onDragleave:B,onDrop:$=>E($,g),class:j({"drag-over":w.value===g})},{default:m(()=>[_(s(Ae),{onClick:$=>c(v),"is-active":o.value?.id===v.id,tooltip:v.name,class:j(["group relative",{"selected-project":o.value?.id===v.id}]),style:fe(o.value?.id===v.id?{borderTop:`1px solid ${v.color}`,borderLeft:`1px solid ${v.color}`,borderBottom:`1px solid ${v.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[y("div",xl,[y("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:fe({backgroundColor:v.color}),draggable:"true",onDragstart:$=>k($,v),onDragend:R,title:"Drag to reorder"},null,44,Cl),y("span",kl,z(v.name),1),y("span",$l,z(v.total_todos||0),1),y("div",Sl,[y("button",{onTouchstart:x[2]||(x[2]=Re(()=>{},["stop"])),onClick:$=>f(v,$),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${v.name}`},[_(W,{name:"Trash2",class:"w-3 h-3"})],40,ql)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128)),r.value?(p(),D(s(ce),{key:2},{default:m(()=>[_(s(Ae),{disabled:""},{default:m(()=>[_(W,{name:"Loader2",class:"w-4 h-4 animate-spin"}),x[6]||(x[6]=y("span",null,"Loading...",-1))]),_:1,__:[6]})]),_:1})):U("",!0)]),_:1})]),_:1}))}}),Al=aa(Pl,[["__scopeId","data-v-20aa7734"]]),Dl=S({__name:"Avatar",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),D(s(Vo),{"data-slot":"avatar",class:j(s(H)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t.class))},{default:m(()=>[P(a.$slots,"default")]),_:3},8,["class"]))}}),Ol=S({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(p(),D(s(Ko),N({"data-slot":"avatar-fallback"},a.value,{class:s(H)("bg-muted flex size-full items-center justify-center rounded-full",t.class)}),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),Tl=S({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(a,o)=>(p(),D(s(Yo),N({"data-slot":"avatar-image"},t,{class:"aspect-square size-full"}),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}});function Bl(e){if(!e)return"";const t=e.trim().split(" ");return t.length===0?"":t.length===1?t[0].charAt(0).toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`.toUpperCase()}function Ml(){return{getInitials:Bl}}const El={class:"grid flex-1 text-left text-sm leading-tight"},Rl={class:"truncate font-medium"},Il={key:0,class:"truncate text-xs text-muted-foreground"},Pa=S({__name:"UserInfo",props:{user:{},showEmail:{type:Boolean,default:!1}},setup(e){const t=e,{getInitials:a}=Ml(),o=L(()=>t.user.avatar&&t.user.avatar!=="");return(r,l)=>(p(),T(X,null,[_(s(Dl),{class:"h-8 w-8 overflow-hidden rounded-lg"},{default:m(()=>[o.value?(p(),D(s(Tl),{key:0,src:r.user.avatar,alt:r.user.name},null,8,["src","alt"])):U("",!0),_(s(Ol),{class:"rounded-lg text-black dark:text-white"},{default:m(()=>[ae(z(s(a)(r.user.name)),1)]),_:1})]),_:1}),y("div",El,[y("span",Rl,z(r.user.name),1),r.showEmail?(p(),T("span",Il,z(r.user.email),1)):U("",!0)])],64))}}),Ll=S({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=ue(e,t);return(l,n)=>(p(),D(s(Us),N({"data-slot":"dropdown-menu"},s(r)),{default:m(()=>[P(l.$slots,"default")]),_:3},16))}}),Fl=S({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const a=e,o=t,r=L(()=>{const{class:n,...i}=a;return i}),l=ue(r,o);return(n,i)=>(p(),D(s(en),null,{default:m(()=>[_(s(Ws),N({"data-slot":"dropdown-menu-content"},s(l),{class:s(H)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--reka-dropdown-menu-content-available-height) min-w-[8rem] origin-(--reka-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a.class)}),{default:m(()=>[P(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Nl=S({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(a,o)=>(p(),D(s(Xs),N({"data-slot":"dropdown-menu-group"},t),{default:m(()=>[P(a.$slots,"default")]),_:3},16))}}),ct=S({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean},variant:{default:"default"}},setup(e){const t=e,a=tt(t,"inset","variant"),o=at(a);return(r,l)=>(p(),D(s(Ys),N({"data-slot":"dropdown-menu-item","data-inset":r.inset?"":void 0,"data-variant":r.variant},s(o),{class:s(H)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class)}),{default:m(()=>[P(r.$slots,"default")]),_:3},16,["data-inset","data-variant","class"]))}}),jl=S({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const t=e,a=tt(t,"class","inset"),o=at(a);return(r,l)=>(p(),D(s(Js),N({"data-slot":"dropdown-menu-label","data-inset":r.inset?"":void 0},s(o),{class:s(H)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t.class)}),{default:m(()=>[P(r.$slots,"default")]),_:3},16,["data-inset","class"]))}}),Xt=S({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(p(),D(s(an),N({"data-slot":"dropdown-menu-separator"},a.value,{class:s(H)("bg-border -mx-1 my-1 h-px",t.class)}),null,16,["class"]))}}),zl=S({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const a=at(e);return(o,r)=>(p(),D(s(rn),N({"data-slot":"dropdown-menu-trigger"},s(a)),{default:m(()=>[P(o.$slots,"default")]),_:3},16))}}),re=e=>({url:re.url(e),method:"get"});re.definition={methods:["get","head"],url:"/settings/profile"};re.url=e=>re.definition.url+wt(e);re.get=e=>({url:re.url(e),method:"get"});re.head=e=>({url:re.url(e),method:"head"});const Tt=e=>({action:re.url(e),method:"get"});Tt.get=e=>({action:re.url(e),method:"get"});Tt.head=e=>({action:re.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});re.form=Tt;const Ce=e=>({url:Ce.url(e),method:"patch"});Ce.definition={methods:["patch"],url:"/settings/profile"};Ce.url=e=>Ce.definition.url+wt(e);Ce.patch=e=>({url:Ce.url(e),method:"patch"});const Aa=e=>({action:Ce.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Aa.patch=e=>({action:Ce.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Ce.form=Aa;const ke=e=>({url:ke.url(e),method:"delete"});ke.definition={methods:["delete"],url:"/settings/profile"};ke.url=e=>ke.definition.url+wt(e);ke.delete=e=>({url:ke.url(e),method:"delete"});const Da=e=>({action:ke.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Da.delete=e=>({action:ke.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});ke.form=Da;const Hl={class:"flex items-center gap-2 px-1 py-1.5 text-left text-sm"},Ul=S({__name:"UserMenuContent",props:{user:{}},setup(e){const t=()=>{Bt.post("/logout",{onSuccess:()=>Bt.visit("/")})};return(a,o)=>(p(),T(X,null,[_(s(jl),{class:"p-0 font-normal"},{default:m(()=>[y("div",Hl,[_(Pa,{user:a.user,"show-email":!0},null,8,["user"])])]),_:1}),_(s(Xt)),_(s(Nl),null,{default:m(()=>[_(s(ct),{"as-child":!0},{default:m(()=>[_(s(Se),{class:"block w-full",href:s(re)(),prefetch:"",as:"button"},{default:m(()=>[_(s(eo),{class:"mr-2 h-4 w-4"}),o[0]||(o[0]=ae(" Settings ",-1))]),_:1,__:[0]},8,["href"])]),_:1}),_(s(ct),{"as-child":!0},{default:m(()=>[_(s(Se),{class:"block w-full",href:"/subscription",prefetch:"",as:"button"},{default:m(()=>[_(s(to),{class:"mr-2 h-4 w-4"}),o[1]||(o[1]=ae(" Subscription ",-1))]),_:1,__:[1]})]),_:1})]),_:1}),_(s(Xt)),_(s(ct),{"as-child":!0},{default:m(()=>[_(s(Se),{class:"block w-full",href:"#",onClick:Re(t,["prevent"]),as:"button"},{default:m(()=>[_(s(ao),{class:"mr-2 h-4 w-4"}),o[2]||(o[2]=ae(" Log out ",-1))]),_:1,__:[2]})]),_:1})],64))}}),Vl=S({__name:"NavUser",setup(e){const a=Ne().props.auth.user,{isMobile:o,state:r}=it();return(l,n)=>(p(),D(s(Ze),null,{default:m(()=>[_(s(ce),null,{default:m(()=>[_(s(Ll),null,{default:m(()=>[_(s(zl),{"as-child":""},{default:m(()=>[_(s(Ae),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:m(()=>[_(Pa,{user:s(a)},null,8,["user"]),_(s(oo),{class:"ml-auto size-4"})]),_:1})]),_:1}),_(s(Fl),{class:"w-(--reka-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:s(o)?"bottom":s(r)==="collapsed"?"left":"bottom",align:"end","side-offset":4},{default:m(()=>[_(Ul,{user:s(a)},null,8,["user"])]),_:1},8,["side"])]),_:1})]),_:1})]),_:1}))}}),Wl={key:0,class:"flex items-center"},Kl=["src","alt"],Xl=S({__name:"AppLogo",setup(e){const t=Ne(),a=L(()=>t.props.auth?.user?.company),o=L(()=>a.value?.logo_url),r=L(()=>!!o.value);return(l,n)=>r.value?(p(),T("div",Wl,[y("img",{src:o.value,alt:a.value?.name+" logo",class:"object-contain"},null,8,Kl)])):(p(),T(X,{key:1},[y("div",null,[_(qo,{class:"size-5 fill-current text-white dark:text-black"})]),n[0]||(n[0]=y("div",{class:"grid flex-1 text-left text-sm"},[y("span",{class:"mb-0.5 truncate leading-tight font-semibold"},"ZapTask")],-1))],64))}}),Gl={class:"space-y-2"},Yl={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},Ql=S({__name:"AppSidebar",setup(e){const a=Ne().props.company;return(o,r)=>(p(),T(X,null,[_(s(Fn),{collapsible:"icon",variant:"inset"},{default:m(()=>[_(s(Un),null,{default:m(()=>[_(s(Ze),null,{default:m(()=>[_(s(ce),null,{default:m(()=>[_(s(Se),{href:"/dashboard",class:"flex items-center gap-1 p-2 rounded-md hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"},{default:m(()=>[_(Xl)]),_:1})]),_:1})]),_:1})]),_:1}),_(s(Nn),null,{default:m(()=>[y("div",Gl,[s(a)?(p(),D(s(Ze),{key:0,class:"px-2 py-0"},{default:m(()=>[_(s(ce),null,{default:m(()=>[_(s(Se),{href:"/clients",class:"flex items-center gap-2 p-2 rounded-md text-sm hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"},{default:m(()=>r[0]||(r[0]=[y("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),y("span",null,"Clients",-1)])),_:1,__:[0]})]),_:1})]),_:1})):U("",!0),_(Al)])]),_:1}),_(s(jn),null,{default:m(()=>[y("div",Yl,[_(Vl)])]),_:1})]),_:1}),P(o.$slots,"default")],64))}}),Jl=S({__name:"Breadcrumb",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",class:j(t.class)},[P(a.$slots,"default")],2))}}),Zl=S({__name:"BreadcrumbItem",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("li",{"data-slot":"breadcrumb-item",class:j(s(H)("inline-flex items-center gap-1.5",t.class))},[P(a.$slots,"default")],2))}}),ei=S({__name:"BreadcrumbLink",props:{asChild:{type:Boolean},as:{default:"a"},class:{}},setup(e){const t=e;return(a,o)=>(p(),D(s(J),{"data-slot":"breadcrumb-link",as:a.as,"as-child":a.asChild,class:j(s(H)("hover:text-foreground transition-colors",t.class))},{default:m(()=>[P(a.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),ti=S({__name:"BreadcrumbList",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("ol",{"data-slot":"breadcrumb-list",class:j(s(H)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t.class))},[P(a.$slots,"default")],2))}}),ai=S({__name:"BreadcrumbPage",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",class:j(s(H)("text-foreground font-normal",t.class))},[P(a.$slots,"default")],2))}}),oi=S({__name:"BreadcrumbSeparator",props:{class:{}},setup(e){const t=e;return(a,o)=>(p(),T("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",class:j(s(H)("[&>svg]:size-3.5",t.class))},[P(a.$slots,"default",{},()=>[_(s(ro))])],2))}}),ri=S({__name:"Breadcrumbs",props:{breadcrumbs:{}},setup(e){return(t,a)=>(p(),D(s(Jl),null,{default:m(()=>[_(s(ti),null,{default:m(()=>[(p(!0),T(X,null,be(t.breadcrumbs,(o,r)=>(p(),T(X,{key:r},[_(s(Zl),null,{default:m(()=>[r===t.breadcrumbs.length-1?(p(),D(s(ai),{key:0},{default:m(()=>[ae(z(o.title),1)]),_:2},1024)):(p(),D(s(ei),{key:1,"as-child":""},{default:m(()=>[_(s(Se),{href:o.href??"#"},{default:m(()=>[ae(z(o.title),1)]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024),r!==t.breadcrumbs.length-1?(p(),D(s(oi),{key:0})):U("",!0)],64))),128))]),_:1})]),_:1}))}}),si={key:0,class:"flex items-center gap-4"},ni={class:"flex items-center gap-2"},li=["title"],ii={class:"font-semibold"},di={key:0,class:"flex items-center gap-2"},ui=S({__name:"CompanyCodeDisplay",props:{companyCode:{},companyName:{},subscriptionType:{}},setup(e){const t=e,a=M(!1),o=async()=>{if(t.companyCode)try{await navigator.clipboard.writeText(t.companyCode),a.value=!0,setTimeout(()=>{a.value=!1},2e3)}catch(r){console.error("Failed to copy: ",r)}};return(r,l)=>r.companyCode?(p(),T("div",si,[y("div",ni,[l[0]||(l[0]=y("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Company Code: ",-1)),y("button",{onClick:o,class:"flex items-center gap-1 px-2 py-1 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md text-xs font-mono text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:`Click to copy company code: ${r.companyCode}`},[y("span",ii,z(r.companyCode),1),(p(),D(yt(a.value?s(Po):s(so)),{size:12,class:"text-blue-600 dark:text-blue-400"}))],8,li)]),r.subscriptionType?(p(),T("div",di,[l[1]||(l[1]=y("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Plan: ",-1)),y("div",{class:j(["px-2 py-1 rounded-md text-xs font-semibold",{"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":r.subscriptionType==="FREE","bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800":r.subscriptionType==="MIDI","bg-gradient-to-r from-yellow-100 to-amber-100 dark:from-yellow-900/20 dark:to-amber-900/20 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800":r.subscriptionType==="MAXI"}])},z(r.subscriptionType),3)])):U("",!0)])):U("",!0)}});class ci{baseUrl="/notifications";async request(t,a,o){try{return(await Ua({method:t,url:`${this.baseUrl}${a}`,data:o,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})).data}catch(r){throw console.error(`Notification API ${t} error:`,r),new Error(r.response?.data?.message||`Failed to ${t.toLowerCase()} notification`)}}async getNotifications(t=1){return this.request("GET",`?page=${t}`)}async getUnreadCount(){return this.request("GET","/unread-count")}async markAsRead(t){return this.request("PATCH",`/${t}/read`)}async markAllAsRead(){return this.request("PATCH","/mark-all-read")}async deleteNotification(t){return this.request("DELETE",`/${t}`)}async createNotification(t){return this.request("POST","",t)}}const ze=new ci,fi={class:"relative"},pi={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium animate-pulse"},gi={key:0,class:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50"},mi={class:"p-4 border-b border-gray-200 dark:border-gray-700"},hi={class:"flex items-center justify-between"},vi={class:"flex items-center gap-2"},yi={class:"max-h-96 overflow-y-auto"},_i={key:0,class:"p-4 text-center text-gray-500"},bi={key:1,class:"p-4 text-center text-gray-500"},wi={key:2},xi={class:"flex items-start gap-3"},Ci={class:"flex-1 min-w-0"},ki={class:"flex items-start justify-between"},$i={class:"flex-1"},Si={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},qi={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Pi={class:"text-xs text-gray-500 dark:text-gray-500 mt-2"},Ai={class:"flex items-center gap-1 ml-2"},Di=["onClick"],Oi=["onClick"],Ti={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-700"},Bi=S({__name:"NotificationBadge",setup(e){const t=M(!1),a=M([]),o=M(0),r=M(!1),l=M(1);let n=null;const i=q=>{if(q.type==="new_notification"){const O=q.data;O.data?.message_id&&O.data?.sender_id&&d(O.data.sender_id)?console.log("Chat is open with sender, skipping notification badge update"):(t.value&&a.value.unshift(O),c())}},d=q=>{const O=window.currentChatState;return O?.isOpen&&O?.otherUserId===q},u=async()=>{try{r.value=!0;const q=await ze.getNotifications(l.value);l.value===1?a.value=q.data:a.value.push(...q.data)}catch(q){console.error("Failed to load notifications:",q)}finally{r.value=!1}},c=async()=>{try{const q=await ze.getUnreadCount();o.value=q.count}catch(q){console.error("Failed to load unread count:",q)}},f=()=>{t.value=!t.value,t.value&&a.value.length===0&&u()},h=async q=>{try{await ze.markAsRead(q);const O=a.value.find(C=>C.id===q);O&&(O.is_read=!0,O.read_at=new Date().toISOString()),await c()}catch(O){console.error("Failed to mark notification as read:",O)}},b=async()=>{try{await ze.markAllAsRead(),a.value.forEach(q=>{q.is_read=!0,q.read_at=new Date().toISOString()}),o.value=0}catch(q){console.error("Failed to mark all notifications as read:",q)}},w=async q=>{try{await ze.deleteNotification(q),a.value=a.value.filter(O=>O.id!==q),await c()}catch(O){console.error("Failed to delete notification:",O)}},k=async()=>{l.value++,await u()},A=q=>({info:"Info",warning:"AlertTriangle",error:"XCircle",success:"CheckCircle"})[q]||"Bell",B=q=>({info:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400",warning:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-400",error:"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-400",success:"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400"})[q]||"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",E=q=>{const O=new Date(q),x=new Date().getTime()-O.getTime(),v=Math.floor(x/(1e3*60*60*24)),g=Math.floor(x/(1e3*60*60)),$=Math.floor(x/(1e3*60));return $<1?"Just now":$<60?`${$}m ago`:g<24?`${g}h ago`:v<7?`${v}d ago`:O.toLocaleDateString()},R=q=>{q.target.closest(".relative")||(t.value=!1)};return ne(()=>{c(),document.addEventListener("click",R),n=pe.onNotification(i);const q=setInterval(c,3e4);Te(()=>{clearInterval(q),document.removeEventListener("click",R),n&&n()})}),(q,O)=>(p(),T("div",fi,[y("button",{onClick:f,class:"relative p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition-colors"},[_(W,{name:"Bell",class:"w-5 h-5"}),o.value>0?(p(),T("span",pi,z(o.value>99?"99+":o.value),1)):U("",!0)]),t.value?(p(),T("div",gi,[y("div",mi,[y("div",hi,[O[1]||(O[1]=y("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Notifications ",-1)),y("div",vi,[o.value>0?(p(),T("button",{key:0,onClick:b,class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Mark all read ")):U("",!0),y("button",{onClick:O[0]||(O[0]=C=>t.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[_(W,{name:"X",class:"w-4 h-4"})])])])]),y("div",yi,[r.value?(p(),T("div",_i,[_(W,{name:"Loader2",class:"w-6 h-6 animate-spin mx-auto mb-2"}),O[2]||(O[2]=ae(" Loading notifications... ",-1))])):a.value.length===0?(p(),T("div",bi," No notifications yet ")):(p(),T("div",wi,[(p(!0),T(X,null,be(a.value,C=>(p(),T("div",{key:C.id,class:j(["p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",{"bg-blue-50 dark:bg-blue-900/20":!C.is_read}])},[y("div",xi,[y("div",{class:j(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",B(C.type)])},[_(W,{name:A(C.type),class:"w-4 h-4"},null,8,["name"])],2),y("div",Ci,[y("div",ki,[y("div",$i,[y("h4",Si,z(C.title),1),y("p",qi,z(C.message),1),y("p",Pi,z(E(C.created_at)),1)]),y("div",Ai,[C.is_read?U("",!0):(p(),T("button",{key:0,onClick:x=>h(C.id),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Mark as read"},[_(W,{name:"Check",class:"w-4 h-4"})],8,Di)),y("button",{onClick:x=>w(C.id),class:"text-gray-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete"},[_(W,{name:"Trash2",class:"w-4 h-4"})],8,Oi)])])])])],2))),128))]))]),a.value.length>0?(p(),T("div",Ti,[y("button",{onClick:k,class:"w-full text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Load more notifications ")])):U("",!0)])):U("",!0)]))}}),Mi={class:"relative",id:"company-users-dropdown"},Ei={key:0,class:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50"},Ri={class:"max-h-80 overflow-y-auto"},Ii={key:0,class:"p-4 text-center"},Li={key:1,class:"p-4 text-center"},Fi={key:2,class:"py-1"},Ni={class:"flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},ji={class:"flex-1"},zi={class:"flex items-center gap-3"},Hi={class:"flex-shrink-0"},Ui={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},Vi={class:"text-sm font-medium text-blue-600 dark:text-blue-400"},Wi={class:"flex-1 min-w-0"},Ki={class:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate"},Xi={class:"text-xs text-gray-400"},Gi={key:0,class:"flex-shrink-0 bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center"},Yi=["onClick"],Qi={key:0,class:"mx-4 border-b border-gray-200 dark:border-gray-600"},Ji=S({__name:"CompanyUsersDropdown",setup(e){const t=M(!1),a=M([]),o=M(!1),r=M(!1),l=w=>{const k=w.trim().split(" ");return k.length===1?k[0].substring(0,2).toUpperCase():(k[0].charAt(0)+k[k.length-1].charAt(0)).toUpperCase()},n=async()=>{o.value=!0;try{const w=await fetch("/api/company-users",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(w.ok){const k=await w.json();a.value=k.data||[]}}catch(w){console.error("Failed to load company users:",w)}finally{o.value=!1}},i=w=>{window.dispatchEvent(new CustomEvent("openChat",{detail:{user:w}})),t.value=!1},d=()=>{t.value=!t.value,t.value&&n()},u=w=>{const k=w.target,A=document.getElementById("company-users-dropdown");A&&!A.contains(k)&&(t.value=!1)};let c=null;const f=w=>{t.value&&n()},h=()=>{document.removeEventListener("click",u),c&&c()},b=w=>{const k=w;r.value=k.detail.isOpen};return ne(()=>{document.addEventListener("click",u),c=pe.onUnreadCountChange(f),window.addEventListener("chatStateChange",b)}),Te(()=>{h(),window.removeEventListener("chatStateChange",b)}),(w,k)=>(p(),T("div",Mi,[y("button",{onClick:d,class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Users"},[_(W,{name:"Users",class:"w-4 h-4"}),k[0]||(k[0]=y("span",{class:"hidden sm:inline"},"Team",-1)),_(W,{name:t.value?"ChevronUp":"ChevronDown",class:"w-3 h-3"},null,8,["name"])]),t.value?(p(),T("div",Ei,[k[4]||(k[4]=y("div",{class:"p-3 border-b border-gray-200 dark:border-gray-700"},[y("h3",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Company Team")],-1)),y("div",Ri,[o.value?(p(),T("div",Ii,[_(W,{name:"Loader2",class:"w-5 h-5 animate-spin mx-auto text-gray-400"}),k[1]||(k[1]=y("p",{class:"text-sm text-gray-500 mt-2"},"Loading team members...",-1))])):a.value.length===0?(p(),T("div",Li,[_(W,{name:"Users",class:"w-8 h-8 mx-auto text-gray-400 mb-2"}),k[2]||(k[2]=y("p",{class:"text-sm text-gray-500"},"No other team members",-1))])):(p(),T("div",Fi,[(p(!0),T(X,null,be(a.value,(A,B)=>(p(),T("div",{key:A.id,class:"group"},[y("div",Ni,[y("div",ji,[y("div",zi,[y("div",Hi,[y("div",Ui,[y("span",Vi,z(l(A.name)),1)])]),y("div",Wi,[y("p",Ki,z(A.name),1),y("p",Xi," Joined "+z(A.joined_at),1)]),A.unread_messages>0&&!r.value?(p(),T("div",Gi,z(A.unread_messages),1)):U("",!0)])]),y("button",{onClick:E=>i(A),class:"ml-3 flex-shrink-0 px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors"},[_(W,{name:"MessageCircle",class:"w-3 h-3 mr-1"}),k[3]||(k[3]=ae(" Message ",-1))],8,Yi)]),B<a.value.length-1?(p(),T("div",Qi)):U("",!0)]))),128))]))])])):U("",!0)]))}}),Zi={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-sidebar-border/70 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4"},ed={class:"flex items-center gap-2"},td={class:"flex items-center gap-3"},ad=S({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]},company:{default:null}},setup(e){return(t,a)=>(p(),T("header",Zi,[y("div",ed,[_(s(Yn),{class:"-ml-1"}),t.breadcrumbs&&t.breadcrumbs.length>0?(p(),D(ri,{key:0,breadcrumbs:t.breadcrumbs},null,8,["breadcrumbs"])):U("",!0)]),y("div",td,[t.$slots.dashboardActions?P(t.$slots,"dashboardActions",{key:0}):U("",!0),t.company?(p(),T(X,{key:1},[_(ui,{"company-code":t.company.code,"company-name":t.company.name,"subscription-type":t.company.subscription_type},null,8,["company-code","company-name","subscription-type"]),_(s(Se),{href:`/companies/${t.company.id}`,class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Information"},{default:m(()=>a[0]||(a[0]=[y("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),y("span",{class:"hidden sm:inline"},"Company",-1)])),_:1,__:[0]},8,["href"]),_(s(Se),{href:"/clients",class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Manage Clients"},{default:m(()=>a[1]||(a[1]=[y("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6z"})],-1),y("span",{class:"hidden sm:inline"},"Clients",-1)])),_:1,__:[1]}),_(Ji)],64)):U("",!0),_(Bi)])]))}}),od={class:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-gray-700 rounded-t-lg"},rd={class:"flex items-center gap-2"},sd={class:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},nd={class:"text-xs font-medium text-blue-600 dark:text-blue-400"},ld={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},id={class:"text-xs text-gray-500"},dd={class:"flex items-center gap-1"},ud=["title"],cd={key:0,class:"flex flex-col h-80"},fd={key:0,class:"text-center py-4"},pd={key:1},gd={key:0,class:"text-center py-8"},md={class:"border-t border-gray-200 dark:border-gray-700 p-3"},hd={class:"flex gap-2"},vd=["disabled"],yd=["disabled"],_d=S({__name:"ChatWindow",setup(e){const t=M(!1),a=M(!1),o=M(!1),r=M(!1),l=async()=>{const x=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(x)return x;try{if((await fetch("/sanctum/csrf-cookie",{method:"GET",credentials:"same-origin"})).ok){const g=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(g)return g}}catch(v){console.error("Failed to refresh CSRF token:",v)}return document.querySelector('input[name="_token"]')?.getAttribute("value")||""},n=M(""),i=M([]),d=M(null),u=M(null),c=x=>{d.value=x,t.value=!0,a.value=!1,window.currentChatState={isOpen:!0,isMinimized:!1,otherUserId:x.id},window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:!0,isMinimized:!1}})),b()},f=()=>{t.value=!1,a.value=!1,i.value=[],d.value=null,n.value="",window.currentChatState={isOpen:!1,isMinimized:!1,otherUserId:null},window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:!1,isMinimized:!1}}))},h=()=>{a.value=!a.value,window.currentChatState&&(window.currentChatState.isMinimized=a.value),window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:t.value,isMinimized:a.value}}))},b=async()=>{if(d.value){o.value=!0;try{const x=await fetch(`/api/company-users/${d.value.id}/messages`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(x.ok){const g=(await x.json()).data;i.value=g.messages,await ge(),k()}else console.error("Failed to load messages:",x.status,x.statusText),x.status===403&&window.$notify&&window.$notify({type:"error",title:"Access Denied",message:"You cannot access messages with this user.",duration:3e3})}catch(x){console.error("Failed to load messages:",x)}finally{o.value=!1}}},w=async()=>{if(!n.value.trim()||!d.value||r.value)return;r.value=!0;const x=n.value.trim();n.value="";try{const v=await l(),g=await fetch("/api/company-messages",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":v},body:JSON.stringify({recipient_id:d.value.id,message:x})});if(g.ok){const $=await g.json();i.value.push($.data),await ge(),k(),window.dispatchEvent(new CustomEvent("messagesSent"))}else n.value=x,g.status===419?(console.error("CSRF token mismatch - please refresh the page"),window.$notify&&window.$notify({type:"error",title:"Authentication Error",message:"Session expired. Please refresh the page and try again.",duration:5e3})):g.status===403?(console.error("Unauthorized - user not in same company"),window.$notify&&window.$notify({type:"error",title:"Permission Error",message:"You do not have permission to send messages to this user.",duration:5e3})):(console.error("Failed to send message:",g.status,g.statusText),window.$notify&&window.$notify({type:"error",title:"Message Failed",message:"Failed to send message. Please try again.",duration:3e3}))}catch(v){n.value=x,console.error("Failed to send message:",v)}finally{r.value=!1}},k=()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)},A=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),w())},B=x=>{const{user:v}=x.detail;c(v)};De(i,()=>{ge(()=>{k()})});let E=null;const R=x=>{if(x.type==="new_message"&&d.value){const v=x.data;if(v.sender_id===d.value.id&&v.recipient_id===C.value||v.sender_id===C.value&&v.recipient_id===d.value.id){const g={id:v.id,message:v.message,sender_id:v.sender_id,sender_name:v.sender_id===C.value?"You":d.value.name,recipient_id:v.recipient_id,recipient_name:v.recipient_id===C.value?"You":d.value.name,is_read:v.is_read,created_at:new Date(v.created_at).toLocaleString(),created_at_human:"Just now"};i.value.find($=>$.id===g.id)||(i.value.push(g),a.value&&v.sender_id===d.value.id&&q(),ge(()=>{k()}))}}},q=()=>{window.$notify&&window.$notify({type:"info",title:"New Message",message:`${d.value?.name} sent you a message`,duration:3e3})};ne(()=>{window.addEventListener("openChat",B),E=pe.onMessage(R)}),Te(()=>{window.removeEventListener("openChat",B),E&&E()});const O=Ne(),C=M(O.props.auth?.user?.id);return(x,v)=>t.value?(p(),T("div",{key:0,class:j(["fixed bottom-4 right-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",{"h-16":a.value,"h-96":!a.value}])},[y("div",od,[y("div",rd,[y("div",sd,[y("span",nd,z(d.value?.name.charAt(0).toUpperCase()),1)]),y("div",null,[y("h3",ld,z(d.value?.name),1),y("p",id,z(d.value?.email),1)])]),y("div",dd,[y("button",{onClick:h,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",title:a.value?"Maximize":"Minimize"},[_(W,{name:a.value?"Maximize2":"Minimize2",class:"w-4 h-4"},null,8,["name"])],8,ud),y("button",{onClick:f,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",title:"Close"},[_(W,{name:"X",class:"w-4 h-4"})])])]),a.value?U("",!0):(p(),T("div",cd,[y("div",{ref_key:"messagesContainer",ref:u,class:"flex-1 overflow-y-auto p-3 space-y-3"},[o.value?(p(),T("div",fd,[_(W,{name:"Loader2",class:"w-5 h-5 animate-spin mx-auto text-gray-400"}),v[1]||(v[1]=y("p",{class:"text-xs text-gray-500 mt-2"},"Loading messages...",-1))])):(p(),T("div",pd,[(p(!0),T(X,null,be(i.value,g=>(p(),T("div",{key:g.id,class:j(["flex",g.sender_id===C.value?"justify-end":"justify-start"])},[y("div",{class:j(["max-w-xs px-3 py-2 rounded-lg text-sm",g.sender_id===C.value?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"])},[y("p",null,z(g.message),1),y("p",{class:j(["text-xs mt-1",g.sender_id===C.value?"text-blue-100":"text-gray-500 dark:text-gray-400"])},z(g.created_at_human),3)],2)],2))),128)),!o.value&&i.value.length===0?(p(),T("div",gd,[_(W,{name:"MessageCircle",class:"w-8 h-8 mx-auto text-gray-400 mb-2"}),v[2]||(v[2]=y("p",{class:"text-sm text-gray-500"},"No messages yet",-1)),v[3]||(v[3]=y("p",{class:"text-xs text-gray-400"},"Start the conversation!",-1))])):U("",!0)]))],512),y("div",md,[y("div",hd,[Gt(y("textarea",{"onUpdate:modelValue":v[0]||(v[0]=g=>n.value=g),onKeypress:A,placeholder:"Type a message...",rows:"1",class:"flex-1 resize-none border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",disabled:r.value},null,40,vd),[[Va,n.value]]),y("button",{onClick:w,disabled:!n.value.trim()||r.value,class:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[_(W,{name:r.value?"Loader2":"Send",class:j(["w-4 h-4",{"animate-spin":r.value}])},null,8,["name","class"])],8,yd)]),v[4]||(v[4]=y("p",{class:"text-xs text-gray-500 mt-1"},"Press Enter to send, Shift+Enter for new line",-1))])]))],2)):U("",!0)}}),Dd=S({__name:"AppSidebarLayout",props:{breadcrumbs:{default:()=>[]},company:{default:null},projectColor:{}},setup(e){const t=e,o=Ne().props.auth?.user;return ne(()=>{o?.id&&t.company?.id&&(pe.init(o.id,t.company.id),window.testRealtime=()=>{pe.testRealtime()},window.testDatabaseRealtime=()=>{pe.testDatabaseRealtime()},window.testActivityRealtime=()=>{console.log("Testing activity real-time..."),console.log("Current company ID:",t.company?.id),console.log("Current user ID:",o?.id),console.log("Activity callbacks:",pe.activityCallbacks?.size||0)},window.testActivitySubscription=()=>{console.log("Testing activity subscription...");const r=n=>{console.log("Test activity callback received:",n)},l=pe.onActivity(r);console.log("Test callback registered"),setTimeout(()=>{l(),console.log("Test callback unregistered")},1e4)})}),Te(()=>{pe.disconnect()}),(r,l)=>(p(),D(ll,{variant:"sidebar"},{default:m(()=>[_(Ql),_(Jn,{variant:"sidebar",class:"overflow-x-hidden","project-color":r.projectColor},{default:m(()=>[_(ad,{breadcrumbs:r.breadcrumbs,company:r.company},{dashboardActions:m(()=>[P(r.$slots,"dashboardActions")]),_:3},8,["breadcrumbs","company"]),P(r.$slots,"default")]),_:3},8,["project-color"]),_(_d)]),_:3}))}});export{Dd as _,re as e};
