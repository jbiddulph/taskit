import{d as A,k as _,A as E,C as M,c as r,o as i,a as s,b as a,h as I,w as l,e,m as b,t as d,i as k,j as n,q as N,F as R}from"./app-BluM5dp6.js";import{_ as y}from"./index-CCL6Z4x_.js";import{_ as w,a as C,b as $,c as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-uGJnJi1g.js";import{_ as P}from"./CardDescription.vue_vue_type_script_setup_true_lang-pv4-yl5l.js";import{_ as U}from"./Input.vue_vue_type_script_setup_true_lang-CjE9EAdM.js";import{_ as D,a as F,b as q,c as G}from"./DialogTitle.vue_vue_type_script_setup_true_lang-SsyrVkrB.js";import{_ as K}from"./DialogDescription.vue_vue_type_script_setup_true_lang-Dx8CWrma.js";import{_ as O}from"./SubdomainLayout.vue_vue_type_script_setup_true_lang-sbrKqIdk.js";import{_ as W,a as Z}from"./ActivityFeed.vue_vue_type_script_setup_true_lang-Ca_OmDyV.js";import{G as V}from"./globe-gfOARLnK.js";import{L as S}from"./lock-BZ9qSU7W.js";import{U as H,C as J,b as h}from"./realtimeService-BSxEvAnX.js";import"./useForwardExpose-D_8vj2e3.js";import"./Presence-khhs0ghN.js";import"./x-CKbGkTnF.js";import"./check-9PvUjc22.js";import"./loader-circle-BHxyDnr7.js";const Q={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800"},X={class:"container mx-auto px-4 py-8"},Y={class:"text-center mb-8"},ee={class:"flex justify-center mb-4"},te={class:"h-20 w-auto flex items-center justify-center overflow-hidden"},se=["src","alt"],ae={class:"text-4xl font-bold text-gray-900 dark:text-white mb-2"},oe={class:"text-lg text-gray-600 dark:text-gray-300"},le={key:0,class:"min-h-screen bg-gray-50 dark:bg-gray-900 relative"},ne={class:"bg-white dark:bg-gray-800 shadow-sm border-b"},ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},re={class:"flex justify-between items-center py-4"},de={class:"flex items-center gap-3"},ce={class:"h-20 w-auto flex items-center justify-center overflow-hidden"},me=["src","alt"],ue={class:"text-xl font-semibold text-gray-900 dark:text-white"},pe={class:"flex items-center gap-3"},fe=["href"],_e={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ye={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},ge={class:"lg:col-span-3"},ve={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border"},he={class:"p-6"},xe={class:"lg:col-span-1"},be={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border"},ke={class:"p-6"},we={key:0,class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center"},Ce={class:"space-y-4"},$e={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-1"},je={class:"flex gap-3"},Pe={class:"text-center"},Ve={class:"text-xs text-gray-500 dark:text-gray-400"},Se={key:1},ze={class:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto"},Le=["href"],Be={class:"space-y-2 text-sm text-gray-600 dark:text-gray-300"},Te={class:"flex items-center gap-2"},Ae={class:"flex items-center gap-2"},Ee={class:"flex items-center gap-2"},Ye=A({__name:"Company",props:{company:{},isSubdomain:{type:Boolean},todos:{},projects:{},activities:{},selectedProject:{}},setup(z){const m=z,u=_(!1),c=_(""),p=_(""),f=_(!1),g=_(!1),L=()=>typeof window<"u"&&localStorage.getItem("company_key")===m.company.code?(g.value=!0,!0):!1,x=async()=>{if(!c.value.trim()){p.value="Please enter a company code";return}f.value=!0,p.value="",await new Promise(o=>setTimeout(o,500)),c.value.trim().toLowerCase()===m.company.code.toLowerCase()?(typeof window<"u"&&localStorage.setItem("company_key",m.company.code),g.value=!0,u.value=!1,c.value=""):p.value="Invalid company code. Please try again.",f.value=!1},B=()=>{typeof window<"u"&&(localStorage.removeItem("company_key"),g.value=!1,u.value=!0)},T=E(()=>m.company.is_public&&!g.value);return M(()=>{m.company.is_public&&(L()||(u.value=!0))}),(o,t)=>(i(),r(R,null,[s(a(I),{title:`${o.company.name} - Company Portal`},null,8,["title"]),s(O,null,{default:l(()=>[e("div",Q,[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[o.company.logo_url?(i(),r("img",{key:0,src:o.company.logo_url,alt:`${o.company.name} logo`,class:"w-auto h-full object-contain"},null,8,se)):(i(),b(a(V),{key:1,class:"w-8 h-8 text-white"}))])]),e("h1",ae,d(o.company.name),1),e("p",oe,d(o.company.is_public?`Welcome to ${o.company.name}`:"Company Portal"),1)]),o.company.is_public?(i(),r("div",le,[e("div",ne,[e("div",ie,[e("div",re,[e("div",de,[e("div",ce,[o.company.logo_url?(i(),r("img",{key:0,src:o.company.logo_url,alt:`${o.company.name} logo`,class:"w-auto h-full object-contain"},null,8,me)):(i(),b(a(V),{key:1,class:"w-8 h-8 text-blue-600"}))]),e("div",null,[e("h1",ue,d(o.company.name),1),t[2]||(t[2]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Public Dashboard ",-1))])]),e("div",pe,[s(a(y),{"as-child":"",variant:"outline",size:"sm"},{default:l(()=>[e("a",{href:`https://${o.company.subdomain}.zaptask.co.uk/login`}," Employee Login ",8,fe)]),_:1}),s(a(y),{"as-child":"",variant:"outline",size:"sm"},{default:l(()=>t[3]||(t[3]=[e("a",{href:"https://zaptask.co.uk"}," Visit Main Site ",-1)])),_:1,__:[3]})])])])]),e("div",_e,[e("div",ye,[e("div",ge,[e("div",ve,[t[4]||(t[4]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Project Tasks "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," View our current project tasks and progress ")],-1)),e("div",he,[s(W,{todos:o.todos||[],projects:o.projects||[],selectedProject:o.selectedProject,isReadOnly:!0},null,8,["todos","projects","selectedProject"])])])]),e("div",xe,[e("div",be,[t[5]||(t[5]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Recent Activity "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Latest updates from our team ")],-1)),e("div",ke,[s(Z,{activities:o.activities||[],isReadOnly:!0},null,8,["activities"])])])])])]),T.value?(i(),r("div",we,[s(a(D),{open:u.value,"onUpdate:open":t[1]||(t[1]=v=>u.value=v)},{default:l(()=>[s(a(F),{class:"sm:max-w-md"},{default:l(()=>[s(a(q),null,{default:l(()=>[s(a(G),{class:"flex items-center gap-2"},{default:l(()=>[s(a(S),{class:"w-5 h-5 text-blue-600"}),t[6]||(t[6]=n(" Company Access Required ",-1))]),_:1,__:[6]}),s(a(K),null,{default:l(()=>[n(" Please enter the company code to view "+d(o.company.name)+"'s public dashboard. ",1)]),_:1})]),_:1}),e("div",Ce,[e("div",null,[t[7]||(t[7]=e("label",{for:"company-code",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Company Code ",-1)),s(a(U),{id:"company-code",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=v=>c.value=v),type:"text",placeholder:"Enter company code",class:"w-full",disabled:f.value,onKeydown:N(x,["enter"])},null,8,["modelValue","disabled"]),p.value?(i(),r("p",$e,d(p.value),1)):k("",!0)]),e("div",je,[s(a(y),{onClick:x,disabled:f.value||!c.value.trim(),class:"flex-1"},{default:l(()=>[s(a(S),{class:"w-4 h-4 mr-2"}),n(" "+d(f.value?"Verifying...":"Access Dashboard"),1)]),_:1},8,["disabled"])]),e("div",Pe,[e("p",Ve," Contact "+d(o.company.name)+" for the company code ",1),e("button",{onClick:B,class:"text-xs text-blue-600 hover:underline mt-2"}," Clear stored code (for testing) ")])])]),_:1})]),_:1},8,["open"])])):k("",!0)])):(i(),r("div",Se,[e("div",ze,[s(a(w),null,{default:l(()=>[s(a(C),null,{default:l(()=>[s(a($),{class:"flex items-center gap-2"},{default:l(()=>[s(a(H),{class:"w-5 h-5"}),t[8]||(t[8]=n(" Employee Access ",-1))]),_:1,__:[8]}),s(a(P),null,{default:l(()=>t[9]||(t[9]=[n(" Login to access your company dashboard ",-1)])),_:1,__:[9]})]),_:1}),s(a(j),null,{default:l(()=>[s(a(y),{"as-child":"",class:"w-full"},{default:l(()=>[e("a",{href:`https://${o.company.subdomain}.zaptask.co.uk/login`}," Employee Login ",8,Le)]),_:1}),s(a(y),{"as-child":"",variant:"outline",class:"w-full"},{default:l(()=>t[10]||(t[10]=[e("a",{href:"https://zaptask.co.uk"}," Visit Main Site ",-1)])),_:1,__:[10]})]),_:1})]),_:1}),s(a(w),null,{default:l(()=>[s(a(C),null,{default:l(()=>[s(a($),{class:"flex items-center gap-2"},{default:l(()=>[s(a(J),{class:"w-5 h-5"}),t[11]||(t[11]=n(" Company Features ",-1))]),_:1,__:[11]}),s(a(P),null,{default:l(()=>t[12]||(t[12]=[n(" Access your company's task management system ",-1)])),_:1,__:[12]})]),_:1}),s(a(j),null,{default:l(()=>[e("div",Be,[e("div",Te,[s(a(h),{class:"w-4 h-4 text-green-600"}),t[13]||(t[13]=n(" Task Management ",-1))]),e("div",Ae,[s(a(h),{class:"w-4 h-4 text-green-600"}),t[14]||(t[14]=n(" Team Collaboration ",-1))]),e("div",Ee,[s(a(h),{class:"w-4 h-4 text-green-600"}),t[15]||(t[15]=n(" Project Tracking ",-1))])])]),_:1})]),_:1})])])),t[16]||(t[16]=e("div",{class:"text-center mt-8 text-gray-500 dark:text-gray-400"},[e("p",null,[n("Powered by "),e("a",{href:"https://zaptask.co.uk",class:"text-blue-600 hover:underline"},"ZapTask")])],-1))])])]),_:1})],64))}});export{Ye as default};
