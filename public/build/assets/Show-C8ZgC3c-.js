import{d as F,r as h,p as V,o as i,w as l,e,a,c as d,j as m,t as n,g as U,s as N,v as X,b as r,i as S,n as D,F as E,k as M,q as w,m as A,f as L,x as O}from"./app-DyIPOMkY.js";import{_ as z}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-D9-fq_Gx.js";import{_ as K}from"./Heading.vue_vue_type_script_setup_true_lang-BD68TRZ2.js";import{_ as y,a as g,b as f,c as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-5Mec3alC.js";import{_ as c}from"./realtimeService-ByeOzHwm.js";import"./index-BpYSz1zK.js";import"./useForwardExpose-Dck79bg3.js";import"./Presence-Bv9O3vbk.js";import"./x-Dpg4oIRC.js";import"./VisuallyHidden-QmsgZYeV.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B1Wxiyp6.js";import"./check-DepTwaU4.js";import"./lock-CVLDG_2C.js";import"./globe-D-yCBbzc.js";import"./loader-circle-RbxJ641I.js";const R={class:"space-y-6 p-6"},q={class:"flex items-center gap-2"},J={key:0,class:"flex items-center gap-2"},G={key:1,class:"flex items-center gap-2"},H={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Q={class:"text-lg font-semibold"},W={class:"text-lg font-mono"},Y={key:0},Z={class:"text-gray-700"},j={class:"flex items-center gap-2"},ee={class:"text-lg"},te={key:0},se={key:1},ae={key:2},oe={class:"text-lg"},ne={key:0},le={key:1},re={key:2},ie={class:"overflow-hidden"},de={class:"space-y-3"},me={class:"font-medium"},ce={class:"text-sm text-gray-500"},ue={class:"text-sm text-gray-500"},pe={class:"flex items-center justify-between gap-4"},ye={class:"overflow-hidden"},ge={class:"space-y-3"},fe=["onClick"],be={class:"space-y-1"},_e={class:"font-medium flex items-center gap-2"},ve={class:"inline-flex items-center rounded-full bg-gray-200 dark:bg-gray-600 px-2 py-0.5 text-xs text-gray-700 dark:text-gray-200"},xe={class:"text-sm text-gray-500"},ke={key:0,class:"text-sm text-blue-600"},he=["value"],we={class:"text-right"},Ce={class:"text-sm text-gray-500"},Ie={class:"text-sm text-gray-500"},Ke=F({__name:"Show",props:{company:{},members:{},projects:{}},setup($){const _=$,p=h(!1),u=h(""),v=h(),x=s=>new Date(s).toLocaleDateString(),T=s=>{const t={FREE:"bg-gray-100 text-gray-800",MIDI:"bg-blue-100 text-blue-800",MAXI:"bg-green-100 text-green-800"};return t[s]||t.FREE},B=async()=>{p.value=!0,u.value=_.company.name,await O(),v.value?.focus(),v.value?.select()},k=()=>{u.value.trim()&&u.value!==_.company.name&&w.put(`/companies/${_.company.id}`,{name:u.value.trim()},{preserveState:!0,preserveScroll:!0}),p.value=!1},C=()=>{p.value=!1,u.value=""};return(s,t)=>(i(),V(z,{company:s.company},{default:l(()=>[e("div",R,[e("div",q,[p.value?(i(),d("div",G,[U(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>u.value=o),onKeydown:[N(k,["enter"]),N(C,["escape"])],onBlur:k,class:"text-3xl font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b-2 border-blue-500 focus:outline-none focus:border-blue-600",placeholder:"Enter company name",ref_key:"nameInput",ref:v},null,544),[[X,u.value]]),e("button",{onClick:k,class:"p-1 text-green-500 hover:text-green-600 transition-colors",title:"Save"},[a(c,{name:"Check",class:"w-5 h-5"})]),e("button",{onClick:C,class:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Cancel"},[a(c,{name:"X",class:"w-5 h-5"})])])):(i(),d("div",J,[a(K,{title:s.company.name},{default:l(()=>[m(n(s.company.name),1)]),_:1},8,["title"]),e("button",{onClick:B,class:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit company name"},[a(c,{name:"Edit3",class:"w-5 h-5"})])]))]),e("div",H,[a(r(y),null,{default:l(()=>[a(r(g),null,{default:l(()=>[a(r(f),{class:"flex items-center gap-2"},{default:l(()=>[a(c,{name:"Building",class:"w-5 h-5"}),t[4]||(t[4]=m(" Company Information ",-1))]),_:1,__:[4]})]),_:1}),a(r(b),{class:"space-y-4"},{default:l(()=>[e("div",null,[t[5]||(t[5]=e("label",{class:"text-sm font-medium text-gray-500"},"Company Name",-1)),e("p",Q,n(s.company.name),1)]),e("div",null,[t[6]||(t[6]=e("label",{class:"text-sm font-medium text-gray-500"},"Company Code",-1)),e("p",W,n(s.company.code),1)]),s.company.description?(i(),d("div",Y,[t[7]||(t[7]=e("label",{class:"text-sm font-medium text-gray-500"},"Description",-1)),e("p",Z,n(s.company.description),1)])):S("",!0),e("div",null,[t[8]||(t[8]=e("label",{class:"text-sm font-medium text-gray-500"},"Created",-1)),e("p",null,n(x(s.company.created_at)),1)])]),_:1})]),_:1}),a(r(y),null,{default:l(()=>[a(r(g),null,{default:l(()=>[a(r(f),{class:"flex items-center gap-2"},{default:l(()=>[a(c,{name:"CreditCard",class:"w-5 h-5"}),t[9]||(t[9]=m(" Subscription Details ",-1))]),_:1,__:[9]})]),_:1}),a(r(b),{class:"space-y-4"},{default:l(()=>[e("div",null,[t[10]||(t[10]=e("label",{class:"text-sm font-medium text-gray-500"},"Plan",-1)),e("div",j,[e("span",{class:D([T(s.company.subscription_type),"px-2 py-1 rounded-full text-sm font-medium"])},n(s.company.subscription_type),3)])]),e("div",null,[t[11]||(t[11]=e("label",{class:"text-sm font-medium text-gray-500"},"Members",-1)),e("p",ee,[m(n(s.company.current_member_count)+" / ",1),s.company.subscription_type==="MAXI"?(i(),d("span",te,"Unlimited")):s.company.subscription_type==="MIDI"?(i(),d("span",se,"10")):(i(),d("span",ae,n(s.company.member_limit),1))])]),e("div",null,[t[12]||(t[12]=e("label",{class:"text-sm font-medium text-gray-500"},"Projects",-1)),e("p",oe,[m(n(s.company.current_project_count)+" / ",1),s.company.subscription_type==="MAXI"?(i(),d("span",ne,"Unlimited")):s.company.subscription_type==="MIDI"?(i(),d("span",le,"20")):(i(),d("span",re,n(s.company.project_limit),1))])])]),_:1})]),_:1})]),a(r(y),null,{default:l(()=>[a(r(g),null,{default:l(()=>[a(r(f),{class:"flex items-center gap-2"},{default:l(()=>[a(c,{name:"Users",class:"w-5 h-5"}),m(" Team Members ("+n(s.members.length)+") ",1)]),_:1})]),_:1}),a(r(b),null,{default:l(()=>[e("div",ie,[e("div",de,[(i(!0),d(E,null,M(s.members,o=>(i(),d("div",{key:o.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",null,[e("p",me,n(o.name),1),e("p",ce,n(o.email),1)]),e("div",ue," Joined "+n(x(o.created_at)),1)]))),128))])])]),_:1})]),_:1}),a(r(y),null,{default:l(()=>[a(r(g),null,{default:l(()=>[e("div",pe,[a(r(f),{class:"flex items-center gap-2"},{default:l(()=>[a(c,{name:"FolderOpen",class:"w-5 h-5"}),m(" Projects ("+n(s.projects.length)+") ",1)]),_:1}),e("button",{type:"button",onClick:t[1]||(t[1]=o=>r(w).visit("/dashboard")),class:"inline-flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium border transition-colors bg-black text-white hover:bg-gray-900 hover:border-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100 dark:hover:border-gray-300"},[a(c,{name:"Plus",class:"w-4 h-4"}),t[13]||(t[13]=e("span",null,"New Project",-1))])])]),_:1}),a(r(b),null,{default:l(()=>[e("div",ye,[e("div",ge,[(i(!0),d(E,null,M(s.projects,o=>(i(),d("div",{key:o.id,class:D(["flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-[6px] cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",o.color?"":"border-l-blue-500"]),style:A(o.color?{borderLeftColor:o.color}:void 0),onClick:()=>{s.localStorage.setItem("currentProjectId",o.id.toString()),r(w).visit("/dashboard")}},[e("div",be,[e("p",_e,[m(n(o.name)+" ",1),e("span",ve,n(o.total_todos??0)+" "+n((o.total_todos??0)===1?"Todo":"Todos"),1)]),e("p",xe,n(o.key),1),o.client?(i(),d("p",ke,n(o.client.name),1)):S("",!0),e("div",{class:"mt-2",onClick:t[3]||(t[3]=L(()=>{},["stop"]))},[t[15]||(t[15]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"}," Client (Optional) ",-1)),e("select",{class:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-xs text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",value:o.client?o.client.id:"",onChange:t[2]||(t[2]=P=>{const I=P.target.value,Ne=I===""?null:Number(I)})},t[14]||(t[14]=[e("option",{value:""},"No Client",-1)]),40,he)])]),e("div",we,[e("p",Ce,"Owner: "+n(o.owner.name),1),e("p",Ie,n(x(o.created_at)),1)])],14,fe))),128))])])]),_:1})]),_:1})])]),_:1},8,["company"]))}});export{Ke as default};
