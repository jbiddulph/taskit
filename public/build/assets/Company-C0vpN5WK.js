import{d as ue,A as ce,B as _,u as G,k as v,c as i,o as r,a as t,b as s,h as me,w as o,e as a,i as m,m as F,t as n,j as d,F as K,r as ge,s as C,p as N}from"./app-eR7eWyOD.js";import{_ as L}from"./index-BXDbW9pg.js";import{_ as f,c as x,a as I,b as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-ecoGveDA.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-CzCL1ImJ.js";import{_ as W}from"./Input.vue_vue_type_script_setup_true_lang-CEouyJt9.js";import{_ as Z}from"./Label.vue_vue_type_script_setup_true_lang-CIHV85cU.js";import{_ as pe}from"./AppLayout.vue_vue_type_script_setup_true_lang-B2ckY9Xo.js";import{_ as be}from"./Layout.vue_vue_type_script_setup_true_lang-DVMaXhsT.js";import{I as q,E as $,f as ve,U as fe,g as xe,h as ke}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-gmkE-WgH.js";import{C as O}from"./lock-CkWA4iac.js";import{G as V}from"./globe-Dk38nUxV.js";import{C as Q}from"./users-DHWzWfEQ.js";import"./useForwardExpose-Br_TlNL8.js";import"./Heading.vue_vue_type_script_setup_true_lang-D6hgLxrG.js";import"./index-8O20627j.js";import"./index-CMWG4mbA.js";import"./index-ObrdfWFb.js";import"./Presence-BV3PJ-0J.js";import"./check-7AvBgVZE.js";import"./x-2FqgA45G.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZBTTZCWM.js";const _e={class:"space-y-6"},ye={key:0,class:"mb-6"},he={class:"flex items-center gap-2 text-amber-700 dark:text-amber-300"},we={key:1,class:"mb-6"},Ce={class:"flex items-center gap-2 text-green-700 dark:text-green-300"},Se={class:"text-sm font-medium"},Ae={key:2,class:"mb-6"},Fe={class:"flex items-center gap-2 text-red-700 dark:text-red-300"},Le={class:"text-sm font-medium"},Ie={key:3,class:"mb-6"},Pe={class:"space-y-3"},Te={class:"text-sm text-blue-700 dark:text-blue-300"},Be={class:"font-medium mb-2"},Ue={class:"list-decimal list-inside space-y-1"},Ee={class:"mt-4"},je={key:0,class:"text-sm text-red-600 dark:text-red-400"},Me={key:1,class:"space-y-2 text-sm"},Ne={class:"flex items-center gap-2"},ze={key:0,class:"text-xs text-gray-500"},$e={class:"flex items-center gap-2"},Ve={key:0,class:"text-xs text-gray-500"},De={key:1,class:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},Re={class:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2"},Ge={class:"flex items-center gap-2"},Ze=["href"],qe={key:2,class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg"},Ye={class:"flex items-center gap-2 text-amber-700 dark:text-amber-300 mb-2"},He={class:"flex items-center gap-2"},Je=["href"],Xe={key:3},Ke={class:"space-y-4"},We={class:"relative"},Oe={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},Qe={key:0,class:"animate-spin"},ea={key:1,class:"text-green-500"},aa={key:2,class:"text-red-500"},sa={key:0,class:"mt-2"},ta={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},oa={class:"font-mono"},la={class:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg"},ra={class:"flex items-center gap-3"},na={class:"flex items-center justify-center w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded border"},ia=["src","alt"],da={key:1,class:"flex items-center gap-1 text-xs font-bold text-blue-600 dark:text-blue-400"},ua={class:"font-medium text-gray-900 dark:text-gray-100"},ca={class:"text-sm text-gray-600 dark:text-gray-400"},ma={class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},ga={class:"text-sm text-blue-700 dark:text-blue-300"},pa={class:"space-y-1 text-xs"},ba={key:0,class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},va={class:"flex-1"},fa={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},xa={class:"text-xs text-gray-600 dark:text-gray-400"},ka={class:"flex items-center justify-between"},_a={class:"space-y-1"},ya={key:0,class:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},ha={class:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2"},wa={class:"space-y-2"},Ca={class:"flex items-center gap-2"},Sa=["href"],Aa={class:"flex items-center gap-2"},Fa=["href"],Xa=ue({__name:"Company",props:{user:{},company:{}},setup(ee){const g=ee,Y=ce(),S=_(()=>g.company&&["MIDI","MAXI"].includes(g.company.subscription_type)),ae=G({}),b=G({company_name:g.company?.name||""}),y=G({is_public:g.company?.is_public||!1}),u=v({checking:!1,available:null,message:"",subdomain:"",url:""});let D=null;const R=v(),T=v(!1),B=v(!1),A=v(!1),k=v(null),h=v(""),U=v(""),E=v(!1),c=v(null),se=l=>{const e=l.target;e.files&&e.files[0]&&(k.value=e.files[0],h.value="")},te=async()=>{if(!(!k.value||!g.company)){T.value=!0,h.value="";try{const l=await ke(k.value,g.company.name,g.company.code);N.post("/settings/company-logo/update-url",{logo_url:l},{onSuccess:()=>{k.value=null,R.value&&(R.value.value=""),N.reload()},onError:e=>{h.value=e.logo||"Failed to update logo URL"}})}catch(l){console.error("Logo upload failed:",l),h.value="Failed to upload logo to storage. Please try again."}finally{T.value=!1}}},oe=()=>{B.value=!0,ae.delete("/settings/company-logo/remove",{onFinish:()=>{B.value=!1}})},le=()=>{if(console.log("🚀 createSubdomain function called"),console.log("Company:",g.company),console.log("Form data:",b.data()),console.log("Button clicked - function triggered"),console.log("Button disabled conditions:",{creatingSubdomain:A.value,noCompanyName:!b.company_name,subdomainNotAvailable:u.value.available===!1,checking:u.value.checking}),!g.company){console.log("❌ No company found");return}const l=u.value.subdomain||b.company_name;console.log("Subdomain to use:",l),A.value=!0,U.value="",b.company_name=l,console.log("Updated form data:",b.data()),console.log("Submitting to: /settings/company/subdomain"),b.post("/settings/company/subdomain",{onBefore:()=>{console.log("🚀 About to send request to /settings/company/subdomain"),console.log("Form data:",b.data()),console.log("CSRF token:",document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"))},onSuccess:e=>{console.log("✅ Subdomain creation successful"),console.log("Response page:",e),N.reload()},onError:e=>{console.error("❌ Error creating subdomain:",e),U.value=e.subdomain||"Failed to create subdomain"},onFinish:()=>{console.log("🏁 Subdomain creation finished"),A.value=!1}})},re=async()=>{E.value=!0,c.value=null;try{const e=await(await fetch("/settings/company/api-permissions")).json();c.value=e}catch(l){console.error("Error checking API permissions:",l),c.value={error:"Failed to check API permissions"}}finally{E.value=!1}},ne=async l=>{if(l.length<3){u.value={checking:!1,available:null,message:"",subdomain:"",url:""};return}u.value.checking=!0;try{const p=await(await fetch(`/settings/company/check-subdomain?subdomain=${encodeURIComponent(l)}`)).json();u.value={checking:!1,available:p.available,message:p.message,subdomain:p.subdomain||l,url:p.url||""}}catch(e){console.error("Failed to check subdomain availability:",e),u.value={checking:!1,available:!1,message:"Failed to check subdomain availability",subdomain:l,url:""}}},ie=l=>{const p=l.target.value;D&&clearTimeout(D),D=setTimeout(()=>{ne(p)},500)},de=()=>{y.patch("/settings/company/public",{onSuccess:()=>{N.reload()},onError:l=>{console.error("Failed to update public dashboard setting:",l)}})},w=_(()=>Y.props.errors||{}),H=_(()=>Y.props.flash?.success||""),J=_(()=>g.company?.logo_url),j=_(()=>!!J.value),X=_(()=>!!g.company?.subdomain),M=_(()=>g.company?.subdomain_url);return(l,e)=>(r(),i(K,null,[t(s(me),{title:"Company Settings"}),t(pe,null,{default:o(()=>[t(be,null,{default:o(()=>[a("div",_e,[e[36]||(e[36]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Company Settings"),a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Manage your company's branding and subdomain. ")],-1)),S.value?m("",!0):(r(),i("div",ye,[t(s(f),{class:"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20"},{default:o(()=>[t(s(x),{class:"p-4"},{default:o(()=>[a("div",he,[t(s(O),{class:"w-5 h-5 flex-shrink-0"}),e[1]||(e[1]=a("div",null,[a("p",{class:"font-medium"},"Upgrade Required"),a("p",{class:"text-sm"},"Company features are available for MIDI and MAXI plans only.")],-1))])]),_:1})]),_:1})])),H.value?(r(),i("div",we,[t(s(f),{class:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20"},{default:o(()=>[t(s(x),{class:"p-4"},{default:o(()=>[a("div",Ce,[t(s(q),{class:"w-5 h-5 flex-shrink-0"}),a("p",Se,n(H.value),1)])]),_:1})]),_:1})])):m("",!0),w.value.logo||h.value||U.value?(r(),i("div",Ae,[t(s(f),{class:"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20"},{default:o(()=>[t(s(x),{class:"p-4"},{default:o(()=>[a("div",Fe,[t(s(O),{class:"w-5 h-5 flex-shrink-0"}),a("p",Le,n(w.value.logo||h.value||U.value),1)])]),_:1})]),_:1})])):m("",!0),w.value.instructions?(r(),i("div",Ie,[t(s(f),{class:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20"},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(P),{class:"text-blue-700 dark:text-blue-300"},{default:o(()=>[d(n(w.value.instructions.title),1)]),_:1})]),_:1}),t(s(x),null,{default:o(()=>[a("div",Pe,[a("div",Te,[a("p",Be,n(w.value.instructions.note),1),a("ol",Ue,[(r(!0),i(K,null,ge(w.value.instructions.steps,p=>(r(),i("li",{key:p},n(p),1))),128))])])])]),_:1})]),_:1})])):m("",!0),S.value?(r(),F(s(f),{key:4},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(P),{class:"flex items-center gap-2"},{default:o(()=>[t(s(V),{class:"w-5 h-5"}),e[2]||(e[2]=d(" Company Subdomain ",-1))]),_:1,__:[2]}),t(s(z),null,{default:o(()=>e[3]||(e[3]=[d(" Create a custom subdomain for your company using Cloudflare DNS and Heroku. This will allow guests to access your company's dashboard directly. ",-1)])),_:1,__:[3]}),a("div",Ee,[t(s(L),{onClick:re,disabled:E.value,variant:"outline",size:"sm"},{default:o(()=>[d(n(E.value?"Checking...":"Check API Permissions"),1)]),_:1},8,["disabled"])])]),_:1}),t(s(x),{class:"space-y-4"},{default:o(()=>[c.value?(r(),i("div",{key:0,class:C(["p-4 border rounded-lg",{"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":!c.value.error,"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":c.value.error}])},[a("div",{class:C(["flex items-center gap-2 mb-2",{"text-green-700 dark:text-green-300":!c.value.error,"text-red-700 dark:text-red-300":c.value.error}])},[t(s(q),{class:"w-5 h-5"}),e[4]||(e[4]=a("span",{class:"font-medium"},"API Permissions Status",-1))],2),c.value.error?(r(),i("div",je,n(c.value.error),1)):(r(),i("div",Me,[a("div",Ne,[e[5]||(e[5]=a("span",{class:"font-medium"},"Cloudflare API:",-1)),a("span",{class:C(c.value.cloudflare_api?.accessible?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},n(c.value.cloudflare_api?.accessible?"✓ Accessible":"✗ Not Accessible"),3),c.value.cloudflare_api?.accessible?m("",!0):(r(),i("span",ze," ("+n(c.value.cloudflare_api?.message)+") ",1))]),a("div",$e,[e[6]||(e[6]=a("span",{class:"font-medium"},"Heroku API:",-1)),a("span",{class:C(c.value.heroku_api?.accessible?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},n(c.value.heroku_api?.accessible?"✓ Accessible":"✗ Not Accessible"),3),c.value.heroku_api?.accessible?m("",!0):(r(),i("span",Ve," ("+n(c.value.heroku_api?.message)+") ",1))])]))],2)):m("",!0),X.value?(r(),i("div",De,[a("div",Re,[t(s(Q),{class:"w-5 h-5"}),e[7]||(e[7]=a("span",{class:"font-medium"},"Subdomain Active",-1))]),a("div",Ge,[e[8]||(e[8]=a("span",{class:"text-sm text-green-600 dark:text-green-400"}," Your company subdomain: ",-1)),a("a",{href:M.value,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[d(n(M.value)+" ",1),t(s($),{class:"w-3 h-3"})],8,Ze)])])):m("",!0),X.value?(r(),i("div",qe,[a("div",Ye,[t(s(V),{class:"w-5 h-5"}),e[9]||(e[9]=a("span",{class:"font-medium"},"Subdomain Active & Locked",-1))]),e[11]||(e[11]=a("p",{class:"text-sm text-amber-600 dark:text-amber-400 mb-3"}," Your company subdomain is active and cannot be changed once created. ",-1)),a("div",He,[e[10]||(e[10]=a("span",{class:"text-sm text-amber-600 dark:text-amber-400"}," Current subdomain: ",-1)),a("a",{href:M.value,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300"},[d(n(M.value)+" ",1),t(s($),{class:"w-3 h-3"})],8,Je)]),e[12]||(e[12]=a("div",{class:"mt-3 p-3 bg-amber-100 dark:bg-amber-900/30 rounded border border-amber-200 dark:border-amber-700"},[a("div",{class:"flex items-start gap-2"},[a("svg",{class:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})]),a("div",{class:"text-xs text-amber-700 dark:text-amber-300"},[a("strong",null,"Important:"),d(" Subdomains cannot be modified or deleted once created. This ensures consistent branding and prevents broken links. ")])])],-1))])):(r(),i("div",Xe,[a("div",Ke,[a("div",null,[t(s(Z),{for:"company-name",class:"text-sm font-medium"},{default:o(()=>e[13]||(e[13]=[d(" Company Name ",-1)])),_:1,__:[13]}),a("div",We,[t(s(W),{id:"company-name",modelValue:s(b).company_name,"onUpdate:modelValue":e[0]||(e[0]=p=>s(b).company_name=p),onInput:ie,type:"text",placeholder:"Enter your company name",class:C(["mt-1 pr-10",{"border-green-500 focus:border-green-500":u.value.available===!0,"border-red-500 focus:border-red-500":u.value.available===!1}])},null,8,["modelValue","class"]),a("div",Oe,[u.value.checking?(r(),i("div",Qe,e[14]||(e[14]=[a("svg",{class:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):u.value.available===!0?(r(),i("div",ea,e[15]||(e[15]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):u.value.available===!1?(r(),i("div",aa,e[16]||(e[16]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):m("",!0)])]),u.value.message?(r(),i("div",sa,[a("p",{class:C([{"text-green-600 dark:text-green-400":u.value.available===!0,"text-red-600 dark:text-red-400":u.value.available===!1},"text-xs"])},n(u.value.message),3),u.value.url?(r(),i("p",ta,[e[17]||(e[17]=d(" Your subdomain will be: ",-1)),a("span",oa,n(u.value.url),1)])):m("",!0)])):m("",!0),e[18]||(e[18]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},' This will be converted to a subdomain (e.g., "My Company" → "my-company.zaptask.co.uk") ',-1))]),t(s(L),{onClick:le,disabled:A.value||!s(b).company_name||u.value.available===!1||u.value.checking,class:"w-full"},{default:o(()=>[t(s(V),{class:"w-4 h-4 mr-2"}),d(" "+n(A.value?"Creating Subdomain...":"Create Company Subdomain"),1)]),_:1},8,["disabled"])])]))]),_:1})]),_:1})):m("",!0),S.value?(r(),F(s(f),{key:5},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(P),null,{default:o(()=>e[19]||(e[19]=[d("Current Logo",-1)])),_:1,__:[19]}),t(s(z),null,{default:o(()=>e[20]||(e[20]=[d(" This is how your logo currently appears in the application. ",-1)])),_:1,__:[20]})]),_:1}),t(s(x),null,{default:o(()=>[a("div",la,[a("div",ra,[a("div",na,[j.value?(r(),i("img",{key:0,src:J.value,alt:l.company?.name+" logo",class:"object-contain"},null,8,ia)):(r(),i("div",da,e[21]||(e[21]=[a("div",{class:"w-6 h-6 bg-blue-600 dark:bg-blue-400 rounded text-white dark:text-gray-900 flex items-center justify-center"},[a("img",{src:"/zap_icon.png",alt:"ZapTask",class:"w-4 h-4 dark:hidden"}),a("img",{src:"/zap_icon_white.svg",alt:"ZapTask",class:"w-4 h-4 hidden dark:block"})],-1),a("span",null,"ZapTask",-1)])))]),a("div",null,[a("p",ua,n(j.value?"Custom Logo":"Default ZapTask Logo"),1),a("p",ca,n(j.value?"Your company's custom logo":"Standard ZapTask branding"),1)])]),j.value?(r(),F(s(L),{key:0,onClick:oe,disabled:B.value,variant:"outline",class:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300"},{default:o(()=>[t(s(ve),{class:"w-4 h-4 mr-2"}),d(" "+n(B.value?"Removing...":"Remove Logo"),1)]),_:1},8,["disabled"])):m("",!0)])]),_:1})]),_:1})):m("",!0),S.value?(r(),F(s(f),{key:6},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(P),{class:"flex items-center gap-2"},{default:o(()=>[t(s(fe),{class:"w-5 h-5"}),e[22]||(e[22]=d(" Upload New Logo ",-1))]),_:1,__:[22]}),t(s(z),null,{default:o(()=>e[23]||(e[23]=[d(" Upload a custom logo for your company. The logo will replace the ZapTask branding. ",-1)])),_:1,__:[23]})]),_:1}),t(s(x),{class:"space-y-4"},{default:o(()=>[a("div",ma,[t(s(q),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),a("div",ga,[e[27]||(e[27]=a("p",{class:"font-medium mb-1"},"Logo Requirements:",-1)),a("ul",pa,[e[24]||(e[24]=a("li",null,"• Recommended size: 216px width × 48px height",-1)),e[25]||(e[25]=a("li",null,"• Supported formats: PNG, JPG, JPEG, SVG",-1)),e[26]||(e[26]=a("li",null,"• Maximum file size: 2MB",-1)),a("li",null,"• Filename will be: "+n(l.company?.name?.replace(/\s+/g,"_"))+"_"+n(l.company?.code)+"_timestamp",1)])])]),a("div",null,[t(s(Z),{for:"logo-upload",class:"text-sm font-medium"},{default:o(()=>e[28]||(e[28]=[d(" Select Logo File ",-1)])),_:1,__:[28]}),t(s(W),{id:"logo-upload",ref_key:"fileInput",ref:R,type:"file",accept:"image/png,image/jpg,image/jpeg,image/svg+xml",onChange:se,class:"mt-1"},null,512)]),k.value?(r(),i("div",ba,[t(s(xe),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}),a("div",va,[a("p",fa,n(k.value.name),1),a("p",xa,n((k.value.size/1024).toFixed(1))+" KB ",1)]),t(s(L),{onClick:te,disabled:T.value,class:"ml-auto"},{default:o(()=>[d(n(T.value?"Uploading...":"Upload Logo"),1)]),_:1},8,["disabled"])])):m("",!0)]),_:1})]),_:1})):m("",!0),S.value?(r(),F(s(f),{key:7},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(P),{class:"flex items-center gap-2"},{default:o(()=>[t(s(V),{class:"w-5 h-5"}),e[29]||(e[29]=d(" Public Dashboard ",-1))]),_:1,__:[29]}),t(s(z),null,{default:o(()=>e[30]||(e[30]=[d(" Allow guests to view your company's dashboard without logging in. They can see projects and todos but cannot create, edit, or delete anything. ",-1)])),_:1,__:[30]})]),_:1}),t(s(x),{class:"space-y-4"},{default:o(()=>[a("div",ka,[a("div",_a,[t(s(Z),{class:"text-sm font-medium"},{default:o(()=>e[31]||(e[31]=[d("Enable Public Dashboard",-1)])),_:1,__:[31]}),e[32]||(e[32]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," When enabled, anyone can view your dashboard at your subdomain without logging in. ",-1))]),t(s(L),{onClick:de,disabled:s(y).processing,variant:s(y).is_public?"default":"outline",size:"sm"},{default:o(()=>[d(n(s(y).processing?"Updating...":s(y).is_public?"Enabled":"Enable"),1)]),_:1},8,["disabled","variant"])]),s(y).is_public&&l.company?.subdomain_url?(r(),i("div",ya,[a("div",ha,[t(s(Q),{class:"w-5 h-5"}),e[33]||(e[33]=a("span",{class:"font-medium"},"Public Dashboard Active",-1))]),a("div",wa,[a("div",Ca,[e[34]||(e[34]=a("span",{class:"text-sm text-green-600 dark:text-green-400"}," Company page: ",-1)),a("a",{href:l.company.subdomain_url,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[d(n(l.company.subdomain_url)+" ",1),t(s($),{class:"w-3 h-3"})],8,Sa)]),a("div",Aa,[e[35]||(e[35]=a("span",{class:"text-sm text-green-600 dark:text-green-400"}," Public dashboard: ",-1)),a("a",{href:`${l.company.subdomain_url}/public`,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[d(n(l.company.subdomain_url)+"/public ",1),t(s($),{class:"w-3 h-3"})],8,Fa)])])])):m("",!0)]),_:1})]),_:1})):m("",!0)])]),_:1})]),_:1})],64))}});export{Xa as default};
