import{d as S,u as j,r as f,c as a,o as l,a as i,b as r,h as A,w as y,e,l as _,j as x,t as o,i as c,F as b,k as E,m as N,n as p}from"./app-D5SG0LJY.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-CzILySVv.js";import{_ as n}from"./useClientStore-BXE0X0JR.js";import{i as B,e as M,d as T}from"./index-D5INol4S.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-6ru9mdLw.js";import"./index-C1LqcP24.js";import"./useForwardExpose-DNHBblv2.js";import"./Presence-CDaS7sI4.js";import"./x-B4lZ02C2.js";import"./VisuallyHidden-BxkVUcmB.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CYCZJgwk.js";import"./check-CGEQbTrU.js";import"./lock-DHFETR0l.js";import"./globe-DyWBN88R.js";import"./loader-circle-C4XE66U9.js";const V=["title"],$=["title"],D=["title"],I={class:"py-12"},L={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},z={class:"mb-6"},H={class:"flex items-center gap-4 mb-4"},U={class:"flex justify-between items-start"},q={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},G={class:"text-gray-600 dark:text-gray-400 mt-1"},K={class:"flex gap-3"},R=["disabled"],W={key:0},J={key:1},O={class:"grid gap-6 lg:grid-cols-3"},Q={class:"lg:col-span-2 space-y-6"},X={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6"},Z={class:"space-y-4"},ee={key:0,class:"flex items-center gap-3"},te={class:"font-medium"},se={key:1,class:"flex items-center gap-3"},oe=["href"],ie={key:2,class:"flex items-center gap-3"},ae=["href"],le={key:3,class:"flex items-start gap-3"},ne={class:"font-medium whitespace-pre-line"},de={key:4,class:"flex items-center gap-3"},re=["href"],ce={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},me={class:"p-6"},ge={class:"prose dark:prose-invert max-w-none"},he={class:"whitespace-pre-wrap"},ye={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ue={class:"p-6"},ve={class:"flex items-center justify-between mb-4"},fe={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},xe=["value"],pe=["value"],_e={key:0,class:"space-y-3"},be={class:"flex items-center gap-3"},ke={class:"font-medium"},we={class:"text-sm text-gray-500"},Ce={class:"text-right text-sm"},Fe={class:"text-gray-500"},Se={key:1,class:"text-center py-8 text-gray-500"},je={class:"space-y-6"},Ae={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Ee={class:"p-6"},Ne={class:"space-y-4"},Pe={class:"text-center"},Be={class:"text-3xl font-bold text-blue-600"},Me={class:"text-center"},Te={class:"text-3xl font-bold text-green-600"},Ve={class:"text-center"},$e={class:"text-3xl font-bold text-purple-600"},De={class:"text-center"},Ie={class:"text-3xl font-bold text-orange-600"},tt=S({__name:"Show",props:{client:{},company:{}},setup(u){typeof window<"u"&&window.dispatchEvent(new CustomEvent("clientFilterChanged",{detail:{clientId:u.client.id,clientName:u.client.name}}));const v=j({}),k=()=>{confirm("Are you sure you want to delete this client? This will remove the client association from all projects but will not delete the projects themselves.")&&v.delete(T.url(u.client.id))},m=f(!1),g=f(!1),h=f(!1),w=()=>{m.value=!m.value},C=()=>{g.value=!g.value},F=()=>{h.value=!h.value};return(t,s)=>(l(),a(b,null,[i(r(A),{title:t.client.name},null,8,["title"]),i(P,{company:t.company},{dashboardActions:y(()=>[e("button",{onClick:w,title:m.value?"Hide Calendar":"Show Calendar",class:p(["inline-flex items-center justify-center p-2 transition-colors",m.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[i(n,{name:"Calendar",class:"w-5 h-5"})],10,V),e("button",{onClick:C,title:g.value?"Hide Activity Feed":"Show Activity Feed",class:p(["inline-flex items-center justify-center p-2 transition-colors",g.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[i(n,{name:"Activity",class:"w-5 h-5"})],10,$),e("button",{onClick:F,title:h.value?"Exit Select Mode":"Select for Bulk Update",class:p(["inline-flex items-center justify-center p-2 transition-colors",h.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[i(n,{name:"CheckSquare",class:"w-5 h-5"})],10,D)]),default:y(()=>[e("div",I,[e("div",L,[e("div",z,[e("div",H,[i(r(_),{href:r(B).url(),class:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"},{default:y(()=>[i(n,{name:"ArrowLeft",class:"w-4 h-4"}),s[1]||(s[1]=x(" Back to Clients ",-1))]),_:1,__:[1]},8,["href"])]),e("div",U,[e("div",null,[e("h1",q,o(t.client.name),1),e("p",G," Added by "+o(t.client.created_by)+" on "+o(t.client.created_at),1)]),e("div",K,[i(r(_),{href:r(M).url(t.client.id),class:"inline-flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium border transition-colors cursor-pointer bg-black text-white hover:bg-gray-900 hover:border-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100 dark:hover:border-gray-300"},{default:y(()=>[i(n,{name:"Edit",class:"w-4 h-4"}),s[2]||(s[2]=x(" Edit ",-1))]),_:1,__:[2]},8,["href"]),e("button",{onClick:k,disabled:r(v).processing,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i(n,{name:"Trash2",class:"w-4 h-4"}),r(v).processing?(l(),a("span",W,"Deleting...")):(l(),a("span",J,"Delete"))],8,R)])])]),e("div",O,[e("div",Q,[e("div",X,[e("div",Y,[s[8]||(s[8]=e("h2",{class:"text-lg font-semibold mb-4"},"Contact Information",-1)),e("div",Z,[t.client.key_contact_name?(l(),a("div",ee,[i(n,{name:"User",class:"w-5 h-5 text-gray-500"}),e("div",null,[s[3]||(s[3]=e("div",{class:"text-sm text-gray-500"},"Key Contact",-1)),e("div",te,o(t.client.key_contact_name),1)])])):c("",!0),t.client.key_contact_email?(l(),a("div",se,[i(n,{name:"Mail",class:"w-5 h-5 text-gray-500"}),e("div",null,[s[4]||(s[4]=e("div",{class:"text-sm text-gray-500"},"Email",-1)),e("a",{href:`mailto:${t.client.key_contact_email}`,class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},o(t.client.key_contact_email),9,oe)])])):c("",!0),t.client.key_contact_phone?(l(),a("div",ie,[i(n,{name:"Phone",class:"w-5 h-5 text-gray-500"}),e("div",null,[s[5]||(s[5]=e("div",{class:"text-sm text-gray-500"},"Phone",-1)),e("a",{href:`tel:${t.client.key_contact_phone}`,class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},o(t.client.key_contact_phone),9,ae)])])):c("",!0),t.client.full_address?(l(),a("div",le,[i(n,{name:"MapPin",class:"w-5 h-5 text-gray-500 mt-0.5"}),e("div",null,[s[6]||(s[6]=e("div",{class:"text-sm text-gray-500"},"Address",-1)),e("div",ne,o(t.client.full_address),1)])])):c("",!0),t.client.website?(l(),a("div",de,[i(n,{name:"Globe",class:"w-5 h-5 text-gray-500"}),e("div",null,[s[7]||(s[7]=e("div",{class:"text-sm text-gray-500"},"Website",-1)),e("a",{href:t.client.website,target:"_blank",class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},[x(o(t.client.website.replace(/^https?:\/\//,""))+" ",1),i(n,{name:"ExternalLink",class:"w-3 h-3 inline ml-1"})],8,re)])])):c("",!0)])])]),t.client.notes?(l(),a("div",ce,[e("div",me,[s[9]||(s[9]=e("h2",{class:"text-lg font-semibold mb-4"},"Notes",-1)),e("div",ge,[e("p",he,o(t.client.notes),1)])])])):c("",!0),e("div",ye,[e("div",ue,[e("div",ve,[s[11]||(s[11]=e("h2",{class:"text-lg font-semibold"},"Projects",-1)),e("div",fe,[s[10]||(s[10]=e("span",null,"Project Filter:",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-2 py-1 text-xs text-gray-900 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-600 dark:focus:border-gray-100 dark:focus:ring-gray-100",value:t.client.id,onChange:s[0]||(s[0]=()=>{typeof t.window<"u"&&t.window.dispatchEvent(new t.CustomEvent("clientFilterChanged",{detail:{clientId:t.client.id,clientName:t.client.name}}))})},[e("option",{value:t.client.id},o(t.client.name),9,pe)],40,xe)])]),t.client.projects.length>0?(l(),a("div",_e,[(l(!0),a(b,null,E(t.client.projects,d=>(l(),a("div",{key:d.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",be,[e("div",{class:"w-3 h-3 rounded-full",style:N({backgroundColor:d.color})},null,4),e("div",null,[e("div",ke,o(d.name),1),e("div",we,o(d.key),1)])]),e("div",Ce,[e("div",null,o(d.stats.completed)+"/"+o(d.stats.total)+" tasks",1),e("div",Fe,o(d.stats.completion_rate)+"% complete",1)])]))),128))])):(l(),a("div",Se," No projects assigned to this client yet. "))])])]),e("div",je,[e("div",Ae,[e("div",Ee,[s[16]||(s[16]=e("h2",{class:"text-lg font-semibold mb-4"},"Statistics",-1)),e("div",Ne,[e("div",Pe,[e("div",Be,o(t.client.stats.total_projects),1),s[12]||(s[12]=e("div",{class:"text-sm text-gray-500"},"Projects",-1))]),e("div",Me,[e("div",Te,o(t.client.stats.total_todos),1),s[13]||(s[13]=e("div",{class:"text-sm text-gray-500"},"Total Tasks",-1))]),e("div",Ve,[e("div",$e,o(t.client.stats.completed_todos),1),s[14]||(s[14]=e("div",{class:"text-sm text-gray-500"},"Completed",-1))]),e("div",De,[e("div",Ie,o(t.client.stats.completion_rate)+"%",1),s[15]||(s[15]=e("div",{class:"text-sm text-gray-500"},"Completion Rate",-1))])])])])])])])])]),_:1},8,["company"])],64))}});export{tt as default};
