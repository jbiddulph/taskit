import{P as oe,c as W,_ as ja,a as za}from"./index-DSVPpywr.js";import{L as Ue,r as M,A as I,D as pe,d as S,q as D,o as f,w as m,R as P,u as s,k as G,I as Fe,a4 as Qe,P as Ie,j as ra,C as Ha,a5 as sa,c as A,U as H,a6 as Ua,a7 as Ka,a8 as Va,a9 as je,aa as na,a as y,p as he,V as ne,W as ve,y as we,i as fe,ab as Wa,x as Me,ac as Ga,ad as Xa,f as ie,t as V,_ as Ct,ae as Ya,b as g,n as K,F as ee,T as Qa,m as be,E as Ee,B as Ja,l as _e,s as Ft,$ as vt,v as Za}from"./app-DAltzVkj.js";import{i as kt,r as la,c as eo,u as to,a as Q,d as ao,e as oo,f as Ge,b as rt,g as ia,h as st,j as ro}from"./useForwardExpose-DTuFuTNY.js";import{g as da,c as $e,a as ye,P as ua,u as $t,b as so,d as nt}from"./Presence-qOenhvCC.js";import{o as no,p as lo,_ as Z,a as ca,c as io,r as ce,t as Ze,q as uo,e as co,L as po,s as fo,v as go,w as mo,H as Nt}from"./useClientStore-CICnWrWX.js";import{u as vo,D as pa,g as yo,a as ho,b as bo,c as _o,L as wo,f as xo,d as yt,e as Co,I as ko,h as $o,T as fa,j as So,k as Po,l as qo,m as Ao,n as Do,X as Oo,o as Mo}from"./x-zClj7Zz_.js";import{b as ga,R as Bo,u as To,V as Eo}from"./VisuallyHidden-D6IbAJGM.js";import{q as St}from"./index-CMWG4mbA.js";import{_ as Ro}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-lVkuUbq1.js";import{C as Io}from"./check-Bs-cY_Sf.js";const Lo=["INPUT","TEXTAREA"];function Fo(e,a,t,o={}){if(!a||o.enableIgnoredElement&&Lo.includes(a.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:n="[data-reka-collection-item]",itemsArray:l=[],loop:i=!0,dir:d="ltr",preventScroll:u=!0,focus:p=!1}=o,[c,v,h,b,x,q]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],B=h||b,T=c||v;if(!x&&!q&&(!B&&!T||r==="vertical"&&T||r==="horizontal"&&B))return null;const E=t?Array.from(t.querySelectorAll(n)):l;if(!E.length)return null;u&&e.preventDefault();let N=null;return T||B?N=ma(E,a,{goForward:B?b:d==="ltr"?c:v,loop:i}):x?N=E.at(0)||null:q&&(N=E.at(-1)||null),p&&N?.focus(),N}function ma(e,a,t,o=e.length){if(--o===0)return null;const r=e.indexOf(a),n=t.goForward?r+1:r-1;if(!t.loop&&(n<0||n>=e.length))return null;const l=(n+e.length)%e.length,i=e[l];return i?i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false"?ma(e,i,t,o):i:null}let ft=0;function No(){Ue(e=>{if(!kt)return;const a=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",a[0]??jt()),document.body.insertAdjacentElement("beforeend",a[1]??jt()),ft++,e(()=>{ft===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(t=>t.remove()),ft--})})}function jt(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function jo(e,a){const t=la(!1,300),o=M(null),r=eo();function n(){o.value=null,t.value=!1}function l(i,d){const u=i.currentTarget,p={x:i.clientX,y:i.clientY},c=zo(p,u.getBoundingClientRect()),v=Ho(p,c),h=Uo(d.getBoundingClientRect()),b=Vo([...v,...h]);o.value=b,t.value=!0}return Ue(i=>{if(e.value&&a.value){const d=p=>l(p,a.value),u=p=>l(p,e.value);e.value.addEventListener("pointerleave",d),a.value.addEventListener("pointerleave",u),i(()=>{e.value?.removeEventListener("pointerleave",d),a.value?.removeEventListener("pointerleave",u)})}}),Ue(i=>{if(o.value){const d=u=>{if(!o.value||!(u.target instanceof HTMLElement))return;const p=u.target,c={x:u.clientX,y:u.clientY},v=e.value?.contains(p)||a.value?.contains(p),h=!Ko(c,o.value),b=!!p.closest("[data-grace-area-trigger]");v?n():(h||b)&&(n(),r.trigger())};e.value?.ownerDocument.addEventListener("pointermove",d),i(()=>e.value?.ownerDocument.removeEventListener("pointermove",d))}}),{isPointerInTransit:t,onPointerExit:r.on}}function zo(e,a){const t=Math.abs(a.top-e.y),o=Math.abs(a.bottom-e.y),r=Math.abs(a.right-e.x),n=Math.abs(a.left-e.x);switch(Math.min(t,o,r,n)){case n:return"left";case r:return"right";case t:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Ho(e,a,t=5){const o=[];switch(a){case"top":o.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":o.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":o.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":o.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return o}function Uo(e){const{top:a,right:t,bottom:o,left:r}=e;return[{x:r,y:a},{x:t,y:a},{x:t,y:o},{x:r,y:o}]}function Ko(e,a){const{x:t,y:o}=e;let r=!1;for(let n=0,l=a.length-1;n<a.length;l=n++){const i=a[n].x,d=a[n].y,u=a[l].x,p=a[l].y;d>o!=p>o&&t<(u-i)*(o-d)/(p-d)+i&&(r=!r)}return r}function Vo(e){const a=e.slice();return a.sort((t,o)=>t.x<o.x?-1:t.x>o.x?1:t.y<o.y?-1:t.y>o.y?1:0),Wo(a)}function Wo(e){if(e.length<=1)return e.slice();const a=[];for(let o=0;o<e.length;o++){const r=e[o];for(;a.length>=2;){const n=a[a.length-1],l=a[a.length-2];if((n.x-l.x)*(r.y-l.y)>=(n.y-l.y)*(r.x-l.x))a.pop();else break}a.push(r)}a.pop();const t=[];for(let o=e.length-1;o>=0;o--){const r=e[o];for(;t.length>=2;){const n=t[t.length-1],l=t[t.length-2];if((n.x-l.x)*(r.y-l.y)>=(n.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}return t.pop(),a.length===1&&t.length===1&&a[0].x===t[0].x&&a[0].y===t[0].y?a:a.concat(t)}function Go(e){const a=M(),t=I(()=>a.value?.width??0),o=I(()=>a.value?.height??0);return pe(()=>{const r=to(e);if(r){a.value={width:r.offsetWidth,height:r.offsetHeight};const n=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const i=l[0];let d,u;if("borderBoxSize"in i){const p=i.borderBoxSize,c=Array.isArray(p)?p[0]:p;d=c.inlineSize,u=c.blockSize}else d=r.offsetWidth,u=r.offsetHeight;a.value={width:d,height:u}});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else a.value=void 0}),{width:t,height:o}}function Xo(e){const a=la("",1e3);return{search:a,handleTypeaheadSearch:(r,n)=>{a.value=a.value+r;{const l=da(),i=n.map(v=>({...v,textValue:v.value?.textValue??v.ref.textContent?.trim()??""})),d=i.find(v=>v.ref===l),u=i.map(v=>v.textValue),p=Qo(u,a.value,d?.textValue),c=i.find(v=>v.textValue===p);return c&&c.ref.focus(),c?.ref}},resetTypeahead:()=>{a.value=""}}}function Yo(e,a){return e.map((t,o)=>e[(a+o)%e.length])}function Qo(e,a,t){const r=a.length>1&&Array.from(a).every(u=>u===a[0])?a[0]:a,n=t?e.indexOf(t):-1;let l=Yo(e,Math.max(n,0));r.length===1&&(l=l.filter(u=>u!==t));const d=l.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return d!==t?d:void 0}const[va,Jo]=$e("AvatarRoot");var Zo=S({__name:"AvatarRoot",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return Q(),Jo({imageLoadingStatus:M("idle")}),(a,t)=>(f(),D(s(oe),{"as-child":a.asChild,as:a.as},{default:m(()=>[P(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),er=Zo,tr=S({__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const a=e,t=va();Q();const o=M(a.delayMs===void 0);return Ue(r=>{if(a.delayMs&&kt){const n=window.setTimeout(()=>{o.value=!0},a.delayMs);r(()=>{window.clearTimeout(n)})}}),(r,n)=>o.value&&s(t).imageLoadingStatus.value!=="loaded"?(f(),D(s(oe),{key:0,"as-child":r.asChild,as:r.as},{default:m(()=>[P(r.$slots,"default")]),_:3},8,["as-child","as"])):G("v-if",!0)}}),ar=tr;function zt(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function or(e,{referrerPolicy:a,crossOrigin:t}={}){const o=M(!1),r=M(null),n=I(()=>o.value?(!r.value&&kt&&(r.value=new window.Image),r.value):null),l=M(zt(n.value,e.value)),i=d=>()=>{o.value&&(l.value=d)};return pe(()=>{o.value=!0,Ue(d=>{const u=n.value;if(!u)return;l.value=zt(u,e.value);const p=i("loaded"),c=i("error");u.addEventListener("load",p),u.addEventListener("error",c),a?.value&&(u.referrerPolicy=a.value),typeof t?.value=="string"&&(u.crossOrigin=t.value),d(()=>{u.removeEventListener("load",p),u.removeEventListener("error",c)})})}),Fe(()=>{o.value=!1}),l}var rr=S({__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:a}){const t=e,o=a,{src:r,referrerPolicy:n,crossOrigin:l}=Qe(t);Q();const i=va(),d=or(r,{referrerPolicy:n,crossOrigin:l});return Ie(d,u=>{o("loadingStatusChange",u),u!=="idle"&&(i.imageLoadingStatus.value=u)},{immediate:!0}),(u,p)=>ra((f(),D(s(oe),{role:"img","as-child":u.asChild,as:u.as,src:s(r),"referrer-policy":s(n)},{default:m(()=>[P(u.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[Ha,s(d)==="loaded"]])}}),sr=rr;const[ya,nr]=$e("PopperRoot");var lr=S({inheritAttrs:!1,__name:"PopperRoot",setup(e){const a=M();return nr({anchor:a,onAnchorChange:t=>a.value=t}),(t,o)=>P(t.$slots,"default")}}),ha=lr,ir=S({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,{forwardRef:t,currentElement:o}=Q(),r=ya();return sa(()=>{r.onAnchorChange(a.reference??o.value)}),(n,l)=>(f(),D(s(oe),{ref:s(t),as:n.as,"as-child":n.asChild},{default:m(()=>[P(n.$slots,"default")]),_:3},8,["as","as-child"]))}}),ba=ir;const dr={key:0,d:"M0 0L6 6L12 0"},ur={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var cr=S({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const a=e;return Q(),(t,o)=>(f(),D(s(oe),H(a,{width:t.width,height:t.height,viewBox:t.asChild?void 0:"0 0 12 6",preserveAspectRatio:t.asChild?void 0:"none"}),{default:m(()=>[P(t.$slots,"default",{},()=>[t.rounded?(f(),A("path",ur)):(f(),A("path",dr))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),pr=cr;function fr(e){return e!==null}function gr(e){return{name:"transformOrigin",options:e,fn(a){const{placement:t,rects:o,middlewareData:r}=a,l=r.arrow?.centerOffset!==0,i=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,p]=ht(t),c={start:"0%",center:"50%",end:"100%"}[p],v=(r.arrow?.x??0)+i/2,h=(r.arrow?.y??0)+d/2;let b="",x="";return u==="bottom"?(b=l?c:`${v}px`,x=`${-d}px`):u==="top"?(b=l?c:`${v}px`,x=`${o.floating.height+d}px`):u==="right"?(b=`${-d}px`,x=l?c:`${h}px`):u==="left"&&(b=`${o.floating.width+d}px`,x=l?c:`${h}px`),{data:{x:b,y:x}}}}}function ht(e){const[a,t="center"]=e.split("-");return[a,t]}const mr=["top","right","bottom","left"],Be=Math.min,le=Math.max,tt=Math.round,et=Math.floor,Ce=e=>({x:e,y:e}),vr={left:"right",right:"left",bottom:"top",top:"bottom"},yr={start:"end",end:"start"};function bt(e,a,t){return le(e,Be(a,t))}function qe(e,a){return typeof e=="function"?e(a):e}function Ae(e){return e.split("-")[0]}function Ve(e){return e.split("-")[1]}function Pt(e){return e==="x"?"y":"x"}function qt(e){return e==="y"?"height":"width"}const hr=new Set(["top","bottom"]);function xe(e){return hr.has(Ae(e))?"y":"x"}function At(e){return Pt(xe(e))}function br(e,a,t){t===void 0&&(t=!1);const o=Ve(e),r=At(e),n=qt(r);let l=r==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return a.reference[n]>a.floating[n]&&(l=at(l)),[l,at(l)]}function _r(e){const a=at(e);return[_t(e),a,_t(a)]}function _t(e){return e.replace(/start|end/g,a=>yr[a])}const Ht=["left","right"],Ut=["right","left"],wr=["top","bottom"],xr=["bottom","top"];function Cr(e,a,t){switch(e){case"top":case"bottom":return t?a?Ut:Ht:a?Ht:Ut;case"left":case"right":return a?wr:xr;default:return[]}}function kr(e,a,t,o){const r=Ve(e);let n=Cr(Ae(e),t==="start",o);return r&&(n=n.map(l=>l+"-"+r),a&&(n=n.concat(n.map(_t)))),n}function at(e){return e.replace(/left|right|bottom|top/g,a=>vr[a])}function $r(e){return{top:0,right:0,bottom:0,left:0,...e}}function _a(e){return typeof e!="number"?$r(e):{top:e,right:e,bottom:e,left:e}}function ot(e){const{x:a,y:t,width:o,height:r}=e;return{width:o,height:r,top:t,left:a,right:a+o,bottom:t+r,x:a,y:t}}function Kt(e,a,t){let{reference:o,floating:r}=e;const n=xe(a),l=At(a),i=qt(l),d=Ae(a),u=n==="y",p=o.x+o.width/2-r.width/2,c=o.y+o.height/2-r.height/2,v=o[i]/2-r[i]/2;let h;switch(d){case"top":h={x:p,y:o.y-r.height};break;case"bottom":h={x:p,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:c};break;case"left":h={x:o.x-r.width,y:c};break;default:h={x:o.x,y:o.y}}switch(Ve(a)){case"start":h[l]-=v*(t&&u?-1:1);break;case"end":h[l]+=v*(t&&u?-1:1);break}return h}const Sr=async(e,a,t)=>{const{placement:o="bottom",strategy:r="absolute",middleware:n=[],platform:l}=t,i=n.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(a));let u=await l.getElementRects({reference:e,floating:a,strategy:r}),{x:p,y:c}=Kt(u,o,d),v=o,h={},b=0;for(let x=0;x<i.length;x++){const{name:q,fn:B}=i[x],{x:T,y:E,data:N,reset:w}=await B({x:p,y:c,initialPlacement:o,placement:v,strategy:r,middlewareData:h,rects:u,platform:l,elements:{reference:e,floating:a}});p=T??p,c=E??c,h={...h,[q]:{...h[q],...N}},w&&b<=50&&(b++,typeof w=="object"&&(w.placement&&(v=w.placement),w.rects&&(u=w.rects===!0?await l.getElementRects({reference:e,floating:a,strategy:r}):w.rects),{x:p,y:c}=Kt(u,v,d)),x=-1)}return{x:p,y:c,placement:v,strategy:r,middlewareData:h}};async function Xe(e,a){var t;a===void 0&&(a={});const{x:o,y:r,platform:n,rects:l,elements:i,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:c="floating",altBoundary:v=!1,padding:h=0}=qe(a,e),b=_a(h),q=i[v?c==="floating"?"reference":"floating":c],B=ot(await n.getClippingRect({element:(t=await(n.isElement==null?void 0:n.isElement(q)))==null||t?q:q.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(i.floating)),boundary:u,rootBoundary:p,strategy:d})),T=c==="floating"?{x:o,y:r,width:l.floating.width,height:l.floating.height}:l.reference,E=await(n.getOffsetParent==null?void 0:n.getOffsetParent(i.floating)),N=await(n.isElement==null?void 0:n.isElement(E))?await(n.getScale==null?void 0:n.getScale(E))||{x:1,y:1}:{x:1,y:1},w=ot(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:T,offsetParent:E,strategy:d}):T);return{top:(B.top-w.top+b.top)/N.y,bottom:(w.bottom-B.bottom+b.bottom)/N.y,left:(B.left-w.left+b.left)/N.x,right:(w.right-B.right+b.right)/N.x}}const Pr=e=>({name:"arrow",options:e,async fn(a){const{x:t,y:o,placement:r,rects:n,platform:l,elements:i,middlewareData:d}=a,{element:u,padding:p=0}=qe(e,a)||{};if(u==null)return{};const c=_a(p),v={x:t,y:o},h=At(r),b=qt(h),x=await l.getDimensions(u),q=h==="y",B=q?"top":"left",T=q?"bottom":"right",E=q?"clientHeight":"clientWidth",N=n.reference[b]+n.reference[h]-v[h]-n.floating[b],w=v[h]-n.reference[h],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let _=C?C[E]:0;(!_||!await(l.isElement==null?void 0:l.isElement(C)))&&(_=i.floating[E]||n.floating[b]);const F=N/2-w/2,k=_/2-x[b]/2-1,z=Be(c[B],k),U=Be(c[T],k),Y=z,te=_-x[b]-U,J=_/2-x[b]/2+F,re=bt(Y,J,te),ae=!d.arrow&&Ve(r)!=null&&J!==re&&n.reference[b]/2-(J<Y?z:U)-x[b]/2<0,$=ae?J<Y?J-Y:J-te:0;return{[h]:v[h]+$,data:{[h]:re,centerOffset:J-re-$,...ae&&{alignmentOffset:$}},reset:ae}}}),qr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(a){var t,o;const{placement:r,middlewareData:n,rects:l,initialPlacement:i,platform:d,elements:u}=a,{mainAxis:p=!0,crossAxis:c=!0,fallbackPlacements:v,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...q}=qe(e,a);if((t=n.arrow)!=null&&t.alignmentOffset)return{};const B=Ae(r),T=xe(i),E=Ae(i)===i,N=await(d.isRTL==null?void 0:d.isRTL(u.floating)),w=v||(E||!x?[at(i)]:_r(i)),C=b!=="none";!v&&C&&w.push(...kr(i,x,b,N));const _=[i,...w],F=await Xe(a,q),k=[];let z=((o=n.flip)==null?void 0:o.overflows)||[];if(p&&k.push(F[B]),c){const J=br(r,l,N);k.push(F[J[0]],F[J[1]])}if(z=[...z,{placement:r,overflows:k}],!k.every(J=>J<=0)){var U,Y;const J=(((U=n.flip)==null?void 0:U.index)||0)+1,re=_[J];if(re&&(!(c==="alignment"?T!==xe(re):!1)||z.every(R=>xe(R.placement)===T?R.overflows[0]>0:!0)))return{data:{index:J,overflows:z},reset:{placement:re}};let ae=(Y=z.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:Y.placement;if(!ae)switch(h){case"bestFit":{var te;const $=(te=z.filter(R=>{if(C){const O=xe(R.placement);return O===T||O==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(O=>O>0).reduce((O,j)=>O+j,0)]).sort((R,O)=>R[1]-O[1])[0])==null?void 0:te[0];$&&(ae=$);break}case"initialPlacement":ae=i;break}if(r!==ae)return{reset:{placement:ae}}}return{}}}};function Vt(e,a){return{top:e.top-a.height,right:e.right-a.width,bottom:e.bottom-a.height,left:e.left-a.width}}function Wt(e){return mr.some(a=>e[a]>=0)}const Ar=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(a){const{rects:t}=a,{strategy:o="referenceHidden",...r}=qe(e,a);switch(o){case"referenceHidden":{const n=await Xe(a,{...r,elementContext:"reference"}),l=Vt(n,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Wt(l)}}}case"escaped":{const n=await Xe(a,{...r,altBoundary:!0}),l=Vt(n,t.floating);return{data:{escapedOffsets:l,escaped:Wt(l)}}}default:return{}}}}},wa=new Set(["left","top"]);async function Dr(e,a){const{placement:t,platform:o,elements:r}=e,n=await(o.isRTL==null?void 0:o.isRTL(r.floating)),l=Ae(t),i=Ve(t),d=xe(t)==="y",u=wa.has(l)?-1:1,p=n&&d?-1:1,c=qe(a,e);let{mainAxis:v,crossAxis:h,alignmentAxis:b}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return i&&typeof b=="number"&&(h=i==="end"?b*-1:b),d?{x:h*p,y:v*u}:{x:v*u,y:h*p}}const Or=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(a){var t,o;const{x:r,y:n,placement:l,middlewareData:i}=a,d=await Dr(a,e);return l===((t=i.offset)==null?void 0:t.placement)&&(o=i.arrow)!=null&&o.alignmentOffset?{}:{x:r+d.x,y:n+d.y,data:{...d,placement:l}}}}},Mr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(a){const{x:t,y:o,placement:r}=a,{mainAxis:n=!0,crossAxis:l=!1,limiter:i={fn:q=>{let{x:B,y:T}=q;return{x:B,y:T}}},...d}=qe(e,a),u={x:t,y:o},p=await Xe(a,d),c=xe(Ae(r)),v=Pt(c);let h=u[v],b=u[c];if(n){const q=v==="y"?"top":"left",B=v==="y"?"bottom":"right",T=h+p[q],E=h-p[B];h=bt(T,h,E)}if(l){const q=c==="y"?"top":"left",B=c==="y"?"bottom":"right",T=b+p[q],E=b-p[B];b=bt(T,b,E)}const x=i.fn({...a,[v]:h,[c]:b});return{...x,data:{x:x.x-t,y:x.y-o,enabled:{[v]:n,[c]:l}}}}}},Br=function(e){return e===void 0&&(e={}),{options:e,fn(a){const{x:t,y:o,placement:r,rects:n,middlewareData:l}=a,{offset:i=0,mainAxis:d=!0,crossAxis:u=!0}=qe(e,a),p={x:t,y:o},c=xe(r),v=Pt(c);let h=p[v],b=p[c];const x=qe(i,a),q=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const E=v==="y"?"height":"width",N=n.reference[v]-n.floating[E]+q.mainAxis,w=n.reference[v]+n.reference[E]-q.mainAxis;h<N?h=N:h>w&&(h=w)}if(u){var B,T;const E=v==="y"?"width":"height",N=wa.has(Ae(r)),w=n.reference[c]-n.floating[E]+(N&&((B=l.offset)==null?void 0:B[c])||0)+(N?0:q.crossAxis),C=n.reference[c]+n.reference[E]+(N?0:((T=l.offset)==null?void 0:T[c])||0)-(N?q.crossAxis:0);b<w?b=w:b>C&&(b=C)}return{[v]:h,[c]:b}}}},Tr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(a){var t,o;const{placement:r,rects:n,platform:l,elements:i}=a,{apply:d=()=>{},...u}=qe(e,a),p=await Xe(a,u),c=Ae(r),v=Ve(r),h=xe(r)==="y",{width:b,height:x}=n.floating;let q,B;c==="top"||c==="bottom"?(q=c,B=v===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(B=c,q=v==="end"?"top":"bottom");const T=x-p.top-p.bottom,E=b-p.left-p.right,N=Be(x-p[q],T),w=Be(b-p[B],E),C=!a.middlewareData.shift;let _=N,F=w;if((t=a.middlewareData.shift)!=null&&t.enabled.x&&(F=E),(o=a.middlewareData.shift)!=null&&o.enabled.y&&(_=T),C&&!v){const z=le(p.left,0),U=le(p.right,0),Y=le(p.top,0),te=le(p.bottom,0);h?F=b-2*(z!==0||U!==0?z+U:le(p.left,p.right)):_=x-2*(Y!==0||te!==0?Y+te:le(p.top,p.bottom))}await d({...a,availableWidth:F,availableHeight:_});const k=await l.getDimensions(i.floating);return b!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}};function lt(){return typeof window<"u"}function Ne(e){return Dt(e)?(e.nodeName||"").toLowerCase():"#document"}function de(e){var a;return(e==null||(a=e.ownerDocument)==null?void 0:a.defaultView)||window}function Se(e){var a;return(a=(Dt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:a.documentElement}function Dt(e){return lt()?e instanceof Node||e instanceof de(e).Node:!1}function ge(e){return lt()?e instanceof Element||e instanceof de(e).Element:!1}function ke(e){return lt()?e instanceof HTMLElement||e instanceof de(e).HTMLElement:!1}function Gt(e){return!lt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof de(e).ShadowRoot}const Er=new Set(["inline","contents"]);function Je(e){const{overflow:a,overflowX:t,overflowY:o,display:r}=me(e);return/auto|scroll|overlay|hidden|clip/.test(a+o+t)&&!Er.has(r)}const Rr=new Set(["table","td","th"]);function Ir(e){return Rr.has(Ne(e))}const Lr=[":popover-open",":modal"];function it(e){return Lr.some(a=>{try{return e.matches(a)}catch{return!1}})}const Fr=["transform","translate","scale","rotate","perspective"],Nr=["transform","translate","scale","rotate","perspective","filter"],jr=["paint","layout","strict","content"];function Ot(e){const a=Mt(),t=ge(e)?me(e):e;return Fr.some(o=>t[o]?t[o]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!a&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!a&&(t.filter?t.filter!=="none":!1)||Nr.some(o=>(t.willChange||"").includes(o))||jr.some(o=>(t.contain||"").includes(o))}function zr(e){let a=Te(e);for(;ke(a)&&!Ke(a);){if(Ot(a))return a;if(it(a))return null;a=Te(a)}return null}function Mt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hr=new Set(["html","body","#document"]);function Ke(e){return Hr.has(Ne(e))}function me(e){return de(e).getComputedStyle(e)}function dt(e){return ge(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Te(e){if(Ne(e)==="html")return e;const a=e.assignedSlot||e.parentNode||Gt(e)&&e.host||Se(e);return Gt(a)?a.host:a}function xa(e){const a=Te(e);return Ke(a)?e.ownerDocument?e.ownerDocument.body:e.body:ke(a)&&Je(a)?a:xa(a)}function Ye(e,a,t){var o;a===void 0&&(a=[]),t===void 0&&(t=!0);const r=xa(e),n=r===((o=e.ownerDocument)==null?void 0:o.body),l=de(r);if(n){const i=wt(l);return a.concat(l,l.visualViewport||[],Je(r)?r:[],i&&t?Ye(i):[])}return a.concat(r,Ye(r,[],t))}function wt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ca(e){const a=me(e);let t=parseFloat(a.width)||0,o=parseFloat(a.height)||0;const r=ke(e),n=r?e.offsetWidth:t,l=r?e.offsetHeight:o,i=tt(t)!==n||tt(o)!==l;return i&&(t=n,o=l),{width:t,height:o,$:i}}function Bt(e){return ge(e)?e:e.contextElement}function He(e){const a=Bt(e);if(!ke(a))return Ce(1);const t=a.getBoundingClientRect(),{width:o,height:r,$:n}=Ca(a);let l=(n?tt(t.width):t.width)/o,i=(n?tt(t.height):t.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const Ur=Ce(0);function ka(e){const a=de(e);return!Mt()||!a.visualViewport?Ur:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function Kr(e,a,t){return a===void 0&&(a=!1),!t||a&&t!==de(e)?!1:a}function Le(e,a,t,o){a===void 0&&(a=!1),t===void 0&&(t=!1);const r=e.getBoundingClientRect(),n=Bt(e);let l=Ce(1);a&&(o?ge(o)&&(l=He(o)):l=He(e));const i=Kr(n,t,o)?ka(n):Ce(0);let d=(r.left+i.x)/l.x,u=(r.top+i.y)/l.y,p=r.width/l.x,c=r.height/l.y;if(n){const v=de(n),h=o&&ge(o)?de(o):o;let b=v,x=wt(b);for(;x&&o&&h!==b;){const q=He(x),B=x.getBoundingClientRect(),T=me(x),E=B.left+(x.clientLeft+parseFloat(T.paddingLeft))*q.x,N=B.top+(x.clientTop+parseFloat(T.paddingTop))*q.y;d*=q.x,u*=q.y,p*=q.x,c*=q.y,d+=E,u+=N,b=de(x),x=wt(b)}}return ot({width:p,height:c,x:d,y:u})}function Tt(e,a){const t=dt(e).scrollLeft;return a?a.left+t:Le(Se(e)).left+t}function $a(e,a,t){t===void 0&&(t=!1);const o=e.getBoundingClientRect(),r=o.left+a.scrollLeft-(t?0:Tt(e,o)),n=o.top+a.scrollTop;return{x:r,y:n}}function Vr(e){let{elements:a,rect:t,offsetParent:o,strategy:r}=e;const n=r==="fixed",l=Se(o),i=a?it(a.floating):!1;if(o===l||i&&n)return t;let d={scrollLeft:0,scrollTop:0},u=Ce(1);const p=Ce(0),c=ke(o);if((c||!c&&!n)&&((Ne(o)!=="body"||Je(l))&&(d=dt(o)),ke(o))){const h=Le(o);u=He(o),p.x=h.x+o.clientLeft,p.y=h.y+o.clientTop}const v=l&&!c&&!n?$a(l,d,!0):Ce(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-d.scrollLeft*u.x+p.x+v.x,y:t.y*u.y-d.scrollTop*u.y+p.y+v.y}}function Wr(e){return Array.from(e.getClientRects())}function Gr(e){const a=Se(e),t=dt(e),o=e.ownerDocument.body,r=le(a.scrollWidth,a.clientWidth,o.scrollWidth,o.clientWidth),n=le(a.scrollHeight,a.clientHeight,o.scrollHeight,o.clientHeight);let l=-t.scrollLeft+Tt(e);const i=-t.scrollTop;return me(o).direction==="rtl"&&(l+=le(a.clientWidth,o.clientWidth)-r),{width:r,height:n,x:l,y:i}}function Xr(e,a){const t=de(e),o=Se(e),r=t.visualViewport;let n=o.clientWidth,l=o.clientHeight,i=0,d=0;if(r){n=r.width,l=r.height;const u=Mt();(!u||u&&a==="fixed")&&(i=r.offsetLeft,d=r.offsetTop)}return{width:n,height:l,x:i,y:d}}const Yr=new Set(["absolute","fixed"]);function Qr(e,a){const t=Le(e,!0,a==="fixed"),o=t.top+e.clientTop,r=t.left+e.clientLeft,n=ke(e)?He(e):Ce(1),l=e.clientWidth*n.x,i=e.clientHeight*n.y,d=r*n.x,u=o*n.y;return{width:l,height:i,x:d,y:u}}function Xt(e,a,t){let o;if(a==="viewport")o=Xr(e,t);else if(a==="document")o=Gr(Se(e));else if(ge(a))o=Qr(a,t);else{const r=ka(e);o={x:a.x-r.x,y:a.y-r.y,width:a.width,height:a.height}}return ot(o)}function Sa(e,a){const t=Te(e);return t===a||!ge(t)||Ke(t)?!1:me(t).position==="fixed"||Sa(t,a)}function Jr(e,a){const t=a.get(e);if(t)return t;let o=Ye(e,[],!1).filter(i=>ge(i)&&Ne(i)!=="body"),r=null;const n=me(e).position==="fixed";let l=n?Te(e):e;for(;ge(l)&&!Ke(l);){const i=me(l),d=Ot(l);!d&&i.position==="fixed"&&(r=null),(n?!d&&!r:!d&&i.position==="static"&&!!r&&Yr.has(r.position)||Je(l)&&!d&&Sa(e,l))?o=o.filter(p=>p!==l):r=i,l=Te(l)}return a.set(e,o),o}function Zr(e){let{element:a,boundary:t,rootBoundary:o,strategy:r}=e;const l=[...t==="clippingAncestors"?it(a)?[]:Jr(a,this._c):[].concat(t),o],i=l[0],d=l.reduce((u,p)=>{const c=Xt(a,p,r);return u.top=le(c.top,u.top),u.right=Be(c.right,u.right),u.bottom=Be(c.bottom,u.bottom),u.left=le(c.left,u.left),u},Xt(a,i,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function es(e){const{width:a,height:t}=Ca(e);return{width:a,height:t}}function ts(e,a,t){const o=ke(a),r=Se(a),n=t==="fixed",l=Le(e,!0,n,a);let i={scrollLeft:0,scrollTop:0};const d=Ce(0);function u(){d.x=Tt(r)}if(o||!o&&!n)if((Ne(a)!=="body"||Je(r))&&(i=dt(a)),o){const h=Le(a,!0,n,a);d.x=h.x+a.clientLeft,d.y=h.y+a.clientTop}else r&&u();n&&!o&&r&&u();const p=r&&!o&&!n?$a(r,i):Ce(0),c=l.left+i.scrollLeft-d.x-p.x,v=l.top+i.scrollTop-d.y-p.y;return{x:c,y:v,width:l.width,height:l.height}}function gt(e){return me(e).position==="static"}function Yt(e,a){if(!ke(e)||me(e).position==="fixed")return null;if(a)return a(e);let t=e.offsetParent;return Se(e)===t&&(t=t.ownerDocument.body),t}function Pa(e,a){const t=de(e);if(it(e))return t;if(!ke(e)){let r=Te(e);for(;r&&!Ke(r);){if(ge(r)&&!gt(r))return r;r=Te(r)}return t}let o=Yt(e,a);for(;o&&Ir(o)&&gt(o);)o=Yt(o,a);return o&&Ke(o)&&gt(o)&&!Ot(o)?t:o||zr(e)||t}const as=async function(e){const a=this.getOffsetParent||Pa,t=this.getDimensions,o=await t(e.floating);return{reference:ts(e.reference,await a(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function os(e){return me(e).direction==="rtl"}const rs={convertOffsetParentRelativeRectToViewportRelativeRect:Vr,getDocumentElement:Se,getClippingRect:Zr,getOffsetParent:Pa,getElementRects:as,getClientRects:Wr,getDimensions:es,getScale:He,isElement:ge,isRTL:os};function qa(e,a){return e.x===a.x&&e.y===a.y&&e.width===a.width&&e.height===a.height}function ss(e,a){let t=null,o;const r=Se(e);function n(){var i;clearTimeout(o),(i=t)==null||i.disconnect(),t=null}function l(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),n();const u=e.getBoundingClientRect(),{left:p,top:c,width:v,height:h}=u;if(i||a(),!v||!h)return;const b=et(c),x=et(r.clientWidth-(p+v)),q=et(r.clientHeight-(c+h)),B=et(p),E={rootMargin:-b+"px "+-x+"px "+-q+"px "+-B+"px",threshold:le(0,Be(1,d))||1};let N=!0;function w(C){const _=C[0].intersectionRatio;if(_!==d){if(!N)return l();_?l(!1,_):o=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!qa(u,e.getBoundingClientRect())&&l(),N=!1}try{t=new IntersectionObserver(w,{...E,root:r.ownerDocument})}catch{t=new IntersectionObserver(w,E)}t.observe(e)}return l(!0),n}function ns(e,a,t,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:n=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,u=Bt(e),p=r||n?[...u?Ye(u):[],...Ye(a)]:[];p.forEach(B=>{r&&B.addEventListener("scroll",t,{passive:!0}),n&&B.addEventListener("resize",t)});const c=u&&i?ss(u,t):null;let v=-1,h=null;l&&(h=new ResizeObserver(B=>{let[T]=B;T&&T.target===u&&h&&(h.unobserve(a),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=h)==null||E.observe(a)})),t()}),u&&!d&&h.observe(u),h.observe(a));let b,x=d?Le(e):null;d&&q();function q(){const B=Le(e);x&&!qa(x,B)&&t(),x=B,b=requestAnimationFrame(q)}return t(),()=>{var B;p.forEach(T=>{r&&T.removeEventListener("scroll",t),n&&T.removeEventListener("resize",t)}),c?.(),(B=h)==null||B.disconnect(),h=null,d&&cancelAnimationFrame(b)}}const ls=Or,is=Mr,Qt=qr,ds=Tr,us=Ar,cs=Pr,ps=Br,fs=(e,a,t)=>{const o=new Map,r={platform:rs,...t},n={...r.platform,_c:o};return Sr(e,a,{...r,platform:n})};function gs(e){return e!=null&&typeof e=="object"&&"$el"in e}function xt(e){if(gs(e)){const a=e.$el;return Dt(a)&&Ne(a)==="#comment"?null:a}return e}function ze(e){return typeof e=="function"?e():s(e)}function ms(e){return{name:"arrow",options:e,fn(a){const t=xt(ze(e.element));return t==null?{}:cs({element:t,padding:e.padding}).fn(a)}}}function Aa(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jt(e,a){const t=Aa(e);return Math.round(a*t)/t}function vs(e,a,t){t===void 0&&(t={});const o=t.whileElementsMounted,r=I(()=>{var _;return(_=ze(t.open))!=null?_:!0}),n=I(()=>ze(t.middleware)),l=I(()=>{var _;return(_=ze(t.placement))!=null?_:"bottom"}),i=I(()=>{var _;return(_=ze(t.strategy))!=null?_:"absolute"}),d=I(()=>{var _;return(_=ze(t.transform))!=null?_:!0}),u=I(()=>xt(e.value)),p=I(()=>xt(a.value)),c=M(0),v=M(0),h=M(i.value),b=M(l.value),x=Ua({}),q=M(!1),B=I(()=>{const _={position:h.value,left:"0",top:"0"};if(!p.value)return _;const F=Jt(p.value,c.value),k=Jt(p.value,v.value);return d.value?{..._,transform:"translate("+F+"px, "+k+"px)",...Aa(p.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:F+"px",top:k+"px"}});let T;function E(){if(u.value==null||p.value==null)return;const _=r.value;fs(u.value,p.value,{middleware:n.value,placement:l.value,strategy:i.value}).then(F=>{c.value=F.x,v.value=F.y,h.value=F.strategy,b.value=F.placement,x.value=F.middlewareData,q.value=_!==!1})}function N(){typeof T=="function"&&(T(),T=void 0)}function w(){if(N(),o===void 0){E();return}if(u.value!=null&&p.value!=null){T=o(u.value,p.value,E);return}}function C(){r.value||(q.value=!1)}return Ie([n,l,i,r],E,{flush:"sync"}),Ie([u,p],w,{flush:"sync"}),Ie(r,C,{flush:"sync"}),Ka()&&Va(N),{x:je(c),y:je(v),strategy:je(h),placement:je(b),middlewareData:je(x),isPositioned:je(q),floatingStyles:B,update:E}}const Da={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[ys,hs]=$e("PopperContent");var bs=S({inheritAttrs:!1,__name:"PopperContent",props:na({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Da}),emits:["placed"],setup(e,{emit:a}){const t=e,o=a,r=ya(),{forwardRef:n,currentElement:l}=Q(),i=M(),d=M(),{width:u,height:p}=Go(d),c=I(()=>t.side+(t.align!=="center"?`-${t.align}`:"")),v=I(()=>typeof t.collisionPadding=="number"?t.collisionPadding:{top:0,right:0,bottom:0,left:0,...t.collisionPadding}),h=I(()=>Array.isArray(t.collisionBoundary)?t.collisionBoundary:[t.collisionBoundary]),b=I(()=>({padding:v.value,boundary:h.value.filter(fr),altBoundary:h.value.length>0})),x=I(()=>({mainAxis:t.sideFlip,crossAxis:t.alignFlip})),q=ao(()=>[ls({mainAxis:t.sideOffset+p.value,alignmentAxis:t.alignOffset}),t.prioritizePosition&&t.avoidCollisions&&Qt({...b.value,...x.value}),t.avoidCollisions&&is({mainAxis:!0,crossAxis:!!t.prioritizePosition,limiter:t.sticky==="partial"?ps():void 0,...b.value}),!t.prioritizePosition&&t.avoidCollisions&&Qt({...b.value,...x.value}),ds({...b.value,apply:({elements:Y,rects:te,availableWidth:J,availableHeight:re})=>{const{width:ae,height:$}=te.reference,R=Y.floating.style;R.setProperty("--reka-popper-available-width",`${J}px`),R.setProperty("--reka-popper-available-height",`${re}px`),R.setProperty("--reka-popper-anchor-width",`${ae}px`),R.setProperty("--reka-popper-anchor-height",`${$}px`)}}),d.value&&ms({element:d.value,padding:t.arrowPadding}),gr({arrowWidth:u.value,arrowHeight:p.value}),t.hideWhenDetached&&us({strategy:"referenceHidden",...b.value})]),B=I(()=>t.reference??r.anchor.value),{floatingStyles:T,placement:E,isPositioned:N,middlewareData:w}=vs(B,i,{strategy:t.positionStrategy,placement:c,whileElementsMounted:(...Y)=>ns(...Y,{layoutShift:!t.disableUpdateOnLayoutShift,animationFrame:t.updatePositionStrategy==="always"}),middleware:q}),C=I(()=>ht(E.value)[0]),_=I(()=>ht(E.value)[1]);sa(()=>{N.value&&o("placed")});const F=I(()=>w.value.arrow?.centerOffset!==0),k=M("");Ue(()=>{l.value&&(k.value=window.getComputedStyle(l.value).zIndex)});const z=I(()=>w.value.arrow?.x??0),U=I(()=>w.value.arrow?.y??0);return hs({placedSide:C,onArrowChange:Y=>d.value=Y,arrowX:z,arrowY:U,shouldHideArrow:F}),(Y,te)=>(f(),A("div",{ref_key:"floatingRef",ref:i,"data-reka-popper-content-wrapper":"",style:he({...s(T),transform:s(N)?s(T).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:k.value,"--reka-popper-transform-origin":[s(w).transformOrigin?.x,s(w).transformOrigin?.y].join(" "),...s(w).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[y(s(oe),H({ref:s(n)},Y.$attrs,{"as-child":t.asChild,as:Y.as,"data-side":C.value,"data-align":_.value,style:{animation:s(N)?void 0:"none"}}),{default:m(()=>[P(Y.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),Oa=bs;const _s={top:"bottom",right:"left",bottom:"top",left:"right"};var ws=S({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const{forwardRef:a}=Q(),t=ys(),o=I(()=>_s[t.placedSide.value]);return(r,n)=>(f(),A("span",{ref:l=>{s(t).onArrowChange(l)},style:he({position:"absolute",left:s(t).arrowX?.value?`${s(t).arrowX?.value}px`:void 0,top:s(t).arrowY?.value?`${s(t).arrowY?.value}px`:void 0,[o.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s(t).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s(t).placedSide.value],visibility:s(t).shouldHideArrow.value?"hidden":void 0})},[y(pr,H(r.$attrs,{ref:s(a),style:{display:"block"},as:r.as,"as-child":r.asChild,rounded:r.rounded,width:r.width,height:r.height}),{default:m(()=>[P(r.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}}),xs=ws,Cs=S({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return(t,o)=>(f(),D(s(ba),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),ks=Cs;function $s(){const e=M(!1);return pe(()=>{Ge("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),Ge(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const Ss=oo($s),[ut,Ps]=$e(["MenuRoot","MenuSub"],"MenuContext"),[Et,qs]=$e("MenuRoot");var As=S({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:a}){const t=e,o=a,{modal:r,dir:n}=Qe(t),l=ga(n),i=rt(t,"open",o),d=M(),u=Ss();return Ps({open:i,onOpenChange:p=>{i.value=p},content:d,onContentChange:p=>{d.value=p}}),qs({onClose:()=>{i.value=!1},isUsingKeyboardRef:u,dir:l,modal:r}),(p,c)=>(f(),D(s(ha),null,{default:m(()=>[P(p.$slots,"default")]),_:3}))}}),Ds=As;const[Ma,Os]=$e("MenuContent");var Ms=S({__name:"MenuContentImpl",props:na({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Da}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:a}){const t=e,o=a,r=ut(),n=Et(),{trapFocus:l,disableOutsidePointerEvents:i,loop:d}=Qe(t);No(),vo(i.value);const u=M(""),p=M(0),c=M(0),v=M(null),h=M("right"),b=M(0),x=M(null),q=M(),{forwardRef:B,currentElement:T}=Q(),{handleTypeaheadSearch:E}=Xo();Ie(T,k=>{r.onContentChange(k)}),Fe(()=>{window.clearTimeout(p.value)});function N(k){return h.value===v.value?.side&&bo(k,v.value?.area)}async function w(k){o("openAutoFocus",k),!k.defaultPrevented&&(k.preventDefault(),T.value?.focus({preventScroll:!0}))}function C(k){if(k.defaultPrevented)return;const U=k.target.closest("[data-reka-menu-content]")===k.currentTarget,Y=k.ctrlKey||k.altKey||k.metaKey,te=k.key.length===1,J=Fo(k,da(),T.value,{loop:d.value,arrowKeyOptions:"vertical",dir:n?.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(J)return J?.focus();if(k.code==="Space")return;const re=q.value?.getItems()??[];if(U&&(k.key==="Tab"&&k.preventDefault(),!Y&&te&&E(k.key,re)),k.target!==T.value||!_o.includes(k.key))return;k.preventDefault();const ae=[...re.map($=>$.ref)];wo.includes(k.key)&&ae.reverse(),xo(ae)}function _(k){k?.currentTarget?.contains?.(k.target)||(window.clearTimeout(p.value),u.value="")}function F(k){if(!yt(k))return;const z=k.target,U=b.value!==k.clientX;if(k?.currentTarget?.contains(z)&&U){const Y=k.clientX>b.value?"right":"left";h.value=Y,b.value=k.clientX}}return Os({onItemEnter:k=>!!N(k),onItemLeave:k=>{N(k)||(T.value?.focus(),x.value=null)},onTriggerLeave:k=>!!N(k),searchRef:u,pointerGraceTimerRef:c,onPointerGraceIntentChange:k=>{v.value=k}}),(k,z)=>(f(),D(s(ho),{"as-child":"",trapped:s(l),onMountAutoFocus:w,onUnmountAutoFocus:z[7]||(z[7]=U=>o("closeAutoFocus",U))},{default:m(()=>[y(s(pa),{"as-child":"","disable-outside-pointer-events":s(i),onEscapeKeyDown:z[2]||(z[2]=U=>o("escapeKeyDown",U)),onPointerDownOutside:z[3]||(z[3]=U=>o("pointerDownOutside",U)),onFocusOutside:z[4]||(z[4]=U=>o("focusOutside",U)),onInteractOutside:z[5]||(z[5]=U=>o("interactOutside",U)),onDismiss:z[6]||(z[6]=U=>o("dismiss"))},{default:m(()=>[y(s(Bo),{ref_key:"rovingFocusGroupRef",ref:q,"current-tab-stop-id":x.value,"onUpdate:currentTabStopId":z[0]||(z[0]=U=>x.value=U),"as-child":"",orientation:"vertical",dir:s(n).dir.value,loop:s(d),onEntryFocus:z[1]||(z[1]=U=>{o("entryFocus",U),s(n).isUsingKeyboardRef.value||U.preventDefault()})},{default:m(()=>[y(s(Oa),{ref:s(B),role:"menu",as:k.as,"as-child":k.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":s(yo)(s(r).open.value),dir:s(n).dir.value,side:k.side,"side-offset":k.sideOffset,align:k.align,"align-offset":k.alignOffset,"avoid-collisions":k.avoidCollisions,"collision-boundary":k.collisionBoundary,"collision-padding":k.collisionPadding,"arrow-padding":k.arrowPadding,"prioritize-position":k.prioritizePosition,"position-strategy":k.positionStrategy,"update-position-strategy":k.updatePositionStrategy,sticky:k.sticky,"hide-when-detached":k.hideWhenDetached,reference:k.reference,onKeydown:C,onBlur:_,onPointermove:F},{default:m(()=>[P(k.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Ba=Ms,Bs=S({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,t=Ma(),{forwardRef:o}=Q(),{CollectionItem:r}=To(),n=M(!1);async function l(d){d.defaultPrevented||yt(d)&&(a.disabled?t.onItemLeave(d):t.onItemEnter(d)||d.currentTarget?.focus({preventScroll:!0}))}async function i(d){await we(),!d.defaultPrevented&&yt(d)&&t.onItemLeave(d)}return(d,u)=>(f(),D(s(r),{value:{textValue:d.textValue}},{default:m(()=>[y(s(oe),H({ref:s(o),role:"menuitem",tabindex:"-1"},d.$attrs,{as:d.as,"as-child":d.asChild,"aria-disabled":d.disabled||void 0,"data-disabled":d.disabled?"":void 0,"data-highlighted":n.value?"":void 0,onPointermove:l,onPointerleave:i,onFocus:u[0]||(u[0]=async p=>{await we(),!(p.defaultPrevented||d.disabled)&&(n.value=!0)}),onBlur:u[1]||(u[1]=async p=>{await we(),!p.defaultPrevented&&(n.value=!1)})}),{default:m(()=>[P(d.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),Ts=Bs,Es=S({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:a}){const t=e,o=a,{forwardRef:r,currentElement:n}=Q(),l=Et(),i=Ma(),d=M(!1);async function u(){const p=n.value;if(!t.disabled&&p){const c=new CustomEvent(ko,{bubbles:!0,cancelable:!0});o("select",c),await we(),c.defaultPrevented?d.value=!1:l.onClose()}}return(p,c)=>(f(),D(Ts,H(t,{ref:s(r),onClick:u,onPointerdown:c[0]||(c[0]=()=>{d.value=!0}),onPointerup:c[1]||(c[1]=async v=>{await we(),!v.defaultPrevented&&(d.value||v.currentTarget?.click())}),onKeydown:c[2]||(c[2]=async v=>{const h=s(i).searchRef.value!=="";p.disabled||h&&v.key===" "||s(Co).includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})}),{default:m(()=>[P(p.$slots,"default")]),_:3},16))}}),Rs=Es,Is=S({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const t=e,o=a,r=ye(t,o),n=ut(),{forwardRef:l,currentElement:i}=Q();return $o(i),(d,u)=>(f(),D(Ba,H(s(r),{ref:s(l),"trap-focus":s(n).open.value,"disable-outside-pointer-events":s(n).open.value,"disable-outside-scroll":!0,onDismiss:u[0]||(u[0]=p=>s(n).onOpenChange(!1)),onFocusOutside:u[1]||(u[1]=fe(p=>o("focusOutside",p),["prevent"]))}),{default:m(()=>[P(d.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),Ls=Is,Fs=S({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const r=ye(e,a),n=ut();return(l,i)=>(f(),D(Ba,H(s(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:i[0]||(i[0]=d=>s(n).onOpenChange(!1))}),{default:m(()=>[P(l.$slots,"default")]),_:3},16))}}),Ns=Fs,js=S({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const r=ye(e,a),n=ut(),l=Et();return(i,d)=>(f(),D(s(ua),{present:i.forceMount||s(n).open.value},{default:m(()=>[s(l).modal.value?(f(),D(Ls,ne(H({key:0},{...i.$attrs,...s(r)})),{default:m(()=>[P(i.$slots,"default")]),_:3},16)):(f(),D(Ns,ne(H({key:1},{...i.$attrs,...s(r)})),{default:m(()=>[P(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),zs=js,Hs=S({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return(t,o)=>(f(),D(s(oe),H({role:"group"},a),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),Us=Hs,Ks=S({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const a=e;return(t,o)=>(f(),D(s(oe),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),Vs=Ks,Ws=S({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const a=e;return(t,o)=>(f(),D(s(fa),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),Gs=Ws,Xs=S({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return(t,o)=>(f(),D(s(oe),H(a,{role:"separator","aria-orientation":"horizontal"}),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),Ys=Xs;const[Ta,Qs]=$e("DropdownMenuRoot");var Js=S({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:a}){const t=e,o=a;Q();const r=rt(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),n=M(),{modal:l,dir:i}=Qe(t),d=ga(i);return Qs({open:r,onOpenChange:u=>{r.value=u},onOpenToggle:()=>{r.value=!r.value},triggerId:"",triggerElement:n,contentId:"",modal:l,dir:d}),(u,p)=>(f(),D(s(Ds),{open:s(r),"onUpdate:open":p[0]||(p[0]=c=>Wa(r)?r.value=c:null),dir:s(d),modal:s(l)},{default:m(()=>[P(u.$slots,"default",{open:s(r)})]),_:3},8,["open","dir","modal"]))}}),Zs=Js,en=S({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:a}){const r=ye(e,a);Q();const n=Ta(),l=M(!1);function i(d){d.defaultPrevented||(l.value||setTimeout(()=>{n.triggerElement.value?.focus()},0),l.value=!1,d.preventDefault())}return n.contentId||=$t(void 0,"reka-dropdown-menu-content"),(d,u)=>(f(),D(s(zs),H(s(r),{id:s(n).contentId,"aria-labelledby":s(n)?.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i,onInteractOutside:u[0]||(u[0]=p=>{if(p.defaultPrevented)return;const c=p.detail.originalEvent,v=c.button===0&&c.ctrlKey===!0,h=c.button===2||v;(!s(n).modal.value||h)&&(l.value=!0),s(n).triggerElement.value?.contains(p.target)&&p.preventDefault()})}),{default:m(()=>[P(d.$slots,"default")]),_:3},16,["id","aria-labelledby"]))}}),tn=en,an=S({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return Q(),(t,o)=>(f(),D(s(Us),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),on=an,rn=S({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:a}){const t=e,r=so(a);return Q(),(n,l)=>(f(),D(s(Rs),ne(ve({...t,...s(r)})),{default:m(()=>[P(n.$slots,"default")]),_:3},16))}}),sn=rn,nn=S({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return Q(),(t,o)=>(f(),D(s(Vs),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),ln=nn,dn=S({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const a=e;return(t,o)=>(f(),D(s(Gs),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),un=dn,cn=S({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return Q(),(t,o)=>(f(),D(s(Ys),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),pn=cn,fn=S({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const a=e,t=Ta(),{forwardRef:o,currentElement:r}=Q();return pe(()=>{t.triggerElement=r}),t.triggerId||=$t(void 0,"reka-dropdown-menu-trigger"),(n,l)=>(f(),D(s(ks),{"as-child":""},{default:m(()=>[y(s(oe),{id:s(t).triggerId,ref:s(o),type:n.as==="button"?"button":void 0,"as-child":a.asChild,as:n.as,"aria-haspopup":"menu","aria-expanded":s(t).open.value,"aria-controls":s(t).open.value?s(t).contentId:void 0,"data-disabled":n.disabled?"":void 0,disabled:n.disabled,"data-state":s(t).open.value?"open":"closed",onClick:l[0]||(l[0]=async i=>{!n.disabled&&i.button===0&&i.ctrlKey===!1&&(s(t)?.onOpenToggle(),await we(),s(t).open.value&&i.preventDefault())}),onKeydown:l[1]||(l[1]=Me(i=>{n.disabled||(["Enter"," "].includes(i.key)&&s(t).onOpenToggle(),i.key==="ArrowDown"&&s(t).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())},["enter","space","arrow-down"]))},{default:m(()=>[P(n.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),gn=fn,mn=S({__name:"TooltipArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const a=e;return Q(),(t,o)=>(f(),D(s(xs),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),vn=mn;const[Rt,yn]=$e("TooltipProvider");var hn=S({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(e){const a=e,{delayDuration:t,skipDelayDuration:o,disableHoverableContent:r,disableClosingTrigger:n,ignoreNonKeyboardFocus:l,disabled:i}=Qe(a);Q();const d=M(!0),u=M(!1),{start:p,stop:c}=ia(()=>{d.value=!0},o,{immediate:!1});return yn({isOpenDelayed:d,delayDuration:t,onOpen(){c(),d.value=!1},onClose(){p()},isPointerInTransitRef:u,disableHoverableContent:r,disableClosingTrigger:n,disabled:i,ignoreNonKeyboardFocus:l}),(v,h)=>P(v.$slots,"default")}}),bn=hn;const Ea="tooltip.open",[ct,_n]=$e("TooltipRoot");var wn=S({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:a}){const t=e,o=a;Q();const r=Rt(),n=I(()=>t.disableHoverableContent??r.disableHoverableContent.value),l=I(()=>t.disableClosingTrigger??r.disableClosingTrigger.value),i=I(()=>t.disabled??r.disabled.value),d=I(()=>t.delayDuration??r.delayDuration.value),u=I(()=>t.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),p=rt(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0});Ie(p,E=>{r.onClose&&(E?(r.onOpen(),document.dispatchEvent(new CustomEvent(Ea))):r.onClose())});const c=M(!1),v=M(),h=I(()=>p.value?c.value?"delayed-open":"instant-open":"closed"),{start:b,stop:x}=ia(()=>{c.value=!0,p.value=!0},d,{immediate:!1});function q(){x(),c.value=!1,p.value=!0}function B(){x(),p.value=!1}function T(){b()}return _n({contentId:"",open:p,stateAttribute:h,trigger:v,onTriggerChange(E){v.value=E},onTriggerEnter(){r.isOpenDelayed.value?T():q()},onTriggerLeave(){n.value?B():x()},onOpen:q,onClose:B,disableHoverableContent:n,disableClosingTrigger:l,disabled:i,ignoreNonKeyboardFocus:u}),(E,N)=>(f(),D(s(ha),null,{default:m(()=>[P(E.$slots,"default",{open:s(p)})]),_:3}))}}),xn=wn,Cn=S({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:a}){const t=e,o=a,r=ct(),{forwardRef:n}=Q(),l=Ga(),i=I(()=>l.default?.({})),d=I(()=>{if(t.ariaLabel)return t.ariaLabel;let p="";function c(v){typeof v.children=="string"&&v.type!==Xa?p+=v.children:Array.isArray(v.children)&&v.children.forEach(h=>c(h))}return i.value?.forEach(v=>c(v)),p}),u=I(()=>{const{ariaLabel:p,...c}=t;return c});return pe(()=>{Ge(window,"scroll",p=>{p.target?.contains(r.trigger.value)&&r.onClose()}),Ge(window,Ea,r.onClose)}),(p,c)=>(f(),D(s(pa),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:c[0]||(c[0]=v=>o("escapeKeyDown",v)),onPointerDownOutside:c[1]||(c[1]=v=>{s(r).disableClosingTrigger.value&&s(r).trigger.value?.contains(v.target)&&v.preventDefault(),o("pointerDownOutside",v)}),onFocusOutside:c[2]||(c[2]=fe(()=>{},["prevent"])),onDismiss:c[3]||(c[3]=v=>s(r).onClose())},{default:m(()=>[y(s(Oa),H({ref:s(n),"data-state":s(r).stateAttribute.value},{...p.$attrs,...u.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:m(()=>[P(p.$slots,"default"),y(s(Eo),{id:s(r).contentId,role:"tooltip"},{default:m(()=>[ie(V(d.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Ra=Cn,kn=S({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(e){const t=nt(e),{forwardRef:o,currentElement:r}=Q(),{trigger:n,onClose:l}=ct(),i=Rt(),{isPointerInTransit:d,onPointerExit:u}=jo(n,r);return i.isPointerInTransitRef=d,u(()=>{l()}),(p,c)=>(f(),D(Ra,H({ref:s(o)},s(t)),{default:m(()=>[P(p.$slots,"default")]),_:3},16))}}),$n=kn,Sn=S({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:a}){const t=e,o=a,r=ct(),n=ye(t,o),{forwardRef:l}=Q();return(i,d)=>(f(),D(s(ua),{present:i.forceMount||s(r).open.value},{default:m(()=>[(f(),D(Ct(s(r).disableHoverableContent.value?Ra:$n),H({ref:s(l)},s(n)),{default:m(()=>[P(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Pn=Sn,qn=S({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const a=e;return(t,o)=>(f(),D(s(fa),ne(ve(a)),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),An=qn,Dn=S({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const a=e,t=ct(),o=Rt();t.contentId||=$t(void 0,"reka-tooltip-content");const{forwardRef:r,currentElement:n}=Q(),l=M(!1),i=M(!1),d=I(()=>t.disabled.value?{}:{click:x,focus:h,pointermove:c,pointerleave:v,pointerdown:p,blur:b});pe(()=>{t.onTriggerChange(n.value)});function u(){setTimeout(()=>{l.value=!1},1)}function p(){t.open&&!t.disableClosingTrigger.value&&t.onClose(),l.value=!0,document.addEventListener("pointerup",u,{once:!0})}function c(q){q.pointerType!=="touch"&&!i.value&&!o.isPointerInTransitRef.value&&(t.onTriggerEnter(),i.value=!0)}function v(){t.onTriggerLeave(),i.value=!1}function h(q){l.value||t.ignoreNonKeyboardFocus.value&&!q.target.matches?.(":focus-visible")||t.onOpen()}function b(){t.onClose()}function x(){t.disableClosingTrigger.value||t.onClose()}return(q,B)=>(f(),D(s(ba),{"as-child":"",reference:q.reference},{default:m(()=>[y(s(oe),H({ref:s(r),"aria-describedby":s(t).open.value?s(t).contentId:void 0,"data-state":s(t).stateAttribute.value,as:q.as,"as-child":a.asChild,"data-grace-area-trigger":""},Ya(d.value)),{default:m(()=>[P(q.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),On=Dn;const Mn=S({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:a}){const r=ye(e,a);return(n,l)=>(f(),D(s(So),H({"data-slot":"sheet"},s(r)),{default:m(()=>[P(n.$slots,"default")]),_:3},16))}}),Bn=S({__name:"SheetOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=I(()=>{const{class:o,...r}=a;return r});return(o,r)=>(f(),D(s(Po),H({"data-slot":"sheet-overlay",class:s(W)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a.class)},t.value),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),Tn=S({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{default:"right"},forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const t=e,o=a,r=st(t,"class","side"),n=ye(r,o);return(l,i)=>(f(),D(s(qo),null,{default:m(()=>[y(Bn),y(s(Ao),H({"data-slot":"sheet-content",class:s(W)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",l.side==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",l.side==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",l.side==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",l.side==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t.class)},{...s(n),...l.$attrs}),{default:m(()=>[P(l.$slots,"default"),y(s(Do),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none"},{default:m(()=>[y(s(Oo),{class:"size-4"}),i[0]||(i[0]=g("span",{class:"sr-only"},"Close",-1))]),_:1,__:[0]})]),_:3},16,["class"])]),_:3}))}}),En=S({__name:"SheetDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=I(()=>{const{class:o,...r}=a;return r});return(o,r)=>(f(),D(s(no),H({"data-slot":"sheet-description",class:s(W)("text-muted-foreground text-sm",a.class)},t.value),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),Rn=S({__name:"SheetHeader",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("div",{"data-slot":"sheet-header",class:K(s(W)("flex flex-col gap-1.5 p-4",a.class))},[P(t.$slots,"default")],2))}}),In=S({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=I(()=>{const{class:o,...r}=a;return r});return(o,r)=>(f(),D(s(Mo),H({"data-slot":"sheet-title",class:s(W)("text-foreground font-semibold",a.class)},t.value),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),Ln="sidebar_state",Fn=3600*24*7,Nn="16rem",jn="18rem",zn="3rem",Hn="b",[pt,Un]=$e("Sidebar"),Kn={class:"flex h-full w-full flex-col"},Vn=["data-state","data-collapsible","data-variant","data-side"],Wn={"data-sidebar":"sidebar",class:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"},Gn=S({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{}},setup(e){const a=e,{isMobile:t,state:o,openMobile:r,setOpenMobile:n}=pt();return(l,i)=>l.collapsible==="none"?(f(),A("div",H({key:0,"data-slot":"sidebar",class:s(W)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",a.class)},l.$attrs),[P(l.$slots,"default")],16)):s(t)?(f(),D(s(Mn),H({key:1,open:s(r)},l.$attrs,{"onUpdate:open":s(n)}),{default:m(()=>[y(s(Tn),{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",side:l.side,class:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:he({"--sidebar-width":s(jn)})},{default:m(()=>[y(Rn,{class:"sr-only"},{default:m(()=>[y(In,null,{default:m(()=>i[0]||(i[0]=[ie("Sidebar",-1)])),_:1,__:[0]}),y(En,null,{default:m(()=>i[1]||(i[1]=[ie("Displays the mobile sidebar.",-1)])),_:1,__:[1]})]),_:1}),g("div",Kn,[P(l.$slots,"default")])]),_:3},8,["side","style"])]),_:3},16,["open","onUpdate:open"])):(f(),A("div",{key:2,class:"group peer text-sidebar-foreground hidden md:block","data-slot":"sidebar","data-state":s(o),"data-collapsible":s(o)==="collapsed"?l.collapsible:"","data-variant":l.variant,"data-side":l.side},[g("div",{class:K(s(W)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",l.variant==="floating"||l.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)"))},null,2),g("div",H({class:s(W)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",l.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",l.variant==="floating"||l.variant==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",a.class),style:{"padding-right":"0px"}},l.$attrs),[g("div",Wn,[P(l.$slots,"default")])],16)],8,Vn))}}),Xn=S({__name:"SidebarContent",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("div",{"data-slot":"sidebar-content","data-sidebar":"content",class:K(s(W)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a.class))},[P(t.$slots,"default")],2))}}),Yn=S({__name:"SidebarFooter",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",class:K(s(W)("flex flex-col gap-2 p-2",a.class))},[P(t.$slots,"default")],2))}}),Qn=S({__name:"SidebarGroup",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("div",{"data-slot":"sidebar-group","data-sidebar":"group",class:K(s(W)("relative flex w-full min-w-0 flex-col p-2",a.class))},[P(t.$slots,"default")],2))}}),Jn=S({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e;return(t,o)=>(f(),D(s(oe),{"data-slot":"sidebar-group-label","data-sidebar":"group-label",as:t.as,"as-child":t.asChild,class:K(s(W)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",a.class))},{default:m(()=>[P(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Zn=S({__name:"SidebarHeader",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:K(s(W)("flex flex-col gap-2 p-2",a.class))},[P(t.$slots,"default")],2))}}),el=S({__name:"SidebarInset",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("main",{"data-slot":"sidebar-inset",class:K(s(W)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",a.class))},[P(t.$slots,"default")],2))}}),It=S({__name:"SidebarMenu",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",class:K(s(W)("flex w-full min-w-0 flex-col gap-1",a.class))},[P(t.$slots,"default")],2))}}),tl=S({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:a}){const r=ye(e,a);return(n,l)=>(f(),D(s(xn),H({"data-slot":"tooltip"},s(r)),{default:m(()=>[P(n.$slots,"default")]),_:3},16))}}),al=S({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:a}){const t=e,o=a,r=st(t,"class"),n=ye(r,o);return(l,i)=>(f(),D(s(An),null,{default:m(()=>[y(s(Pn),H({"data-slot":"tooltip-content"},{...s(n),...l.$attrs},{class:s(W)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",t.class)}),{default:m(()=>[P(l.$slots,"default"),y(s(vn),{class:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]),_:3},16,["class"])]),_:3}))}}),ol=S({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(e){const a=e;return(t,o)=>(f(),D(s(On),H({"data-slot":"tooltip-trigger"},a),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),Zt=S({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const a=e;return(t,o)=>(f(),D(s(oe),H({"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":t.size,"data-active":t.isActive,class:s(W)(s(nl)({variant:t.variant,size:t.size}),a.class),as:t.as,"as-child":t.asChild},t.$attrs),{default:m(()=>[P(t.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),Re=S({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(e){const a=e,{isMobile:t,state:o}=pt(),r=I(()=>{const{tooltip:n,...l}=a;return l});return(n,l)=>n.tooltip?(f(),D(s(tl),{key:1},{default:m(()=>[y(s(ol),{"as-child":""},{default:m(()=>[y(Zt,ne(ve({...r.value,...n.$attrs})),{default:m(()=>[P(n.$slots,"default")]),_:3},16)]),_:3}),y(s(al),{side:"right",align:"center",hidden:s(o)!=="collapsed"||s(t)},{default:m(()=>[typeof n.tooltip=="string"?(f(),A(ee,{key:0},[ie(V(n.tooltip),1)],64)):(f(),D(Ct(n.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(f(),D(Zt,ne(H({key:0},{...r.value,...n.$attrs})),{default:m(()=>[P(n.$slots,"default")]),_:3},16))}}),Pe=S({__name:"SidebarMenuItem",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",class:K(s(W)("group/menu-item relative",a.class))},[P(t.$slots,"default")],2))}}),rl=S({__name:"SidebarProvider",props:{defaultOpen:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},class:{}},emits:["update:open"],setup(e,{emit:a}){const t=e,o=a,r=ro("(max-width: 768px)"),n=M(!1),l=rt(t,"open",o,{defaultValue:t.defaultOpen??!1,passive:t.open===void 0});function i(c){l.value=c,document.cookie=`${Ln}=${l.value}; path=/; max-age=${Fn}`}function d(c){n.value=c}function u(){return r.value?d(!n.value):i(!l.value)}Ge("keydown",c=>{c.key===Hn&&(c.metaKey||c.ctrlKey)&&(c.preventDefault(),u())});const p=I(()=>l.value?"expanded":"collapsed");return Un({state:p,open:l,setOpen:i,isMobile:r,openMobile:n,setOpenMobile:d,toggleSidebar:u}),(c,v)=>(f(),D(s(bn),{"delay-duration":0},{default:m(()=>[g("div",H({"data-slot":"sidebar-wrapper",style:{"--sidebar-width":s(Nn),"--sidebar-width-icon":s(zn)},class:s(W)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",t.class)},c.$attrs),[P(c.$slots,"default")],16)]),_:3}))}}),sl=S({__name:"SidebarTrigger",props:{class:{}},setup(e){const a=e,{toggleSidebar:t}=pt();return(o,r)=>(f(),D(s(ja),{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",class:K(s(W)("h-7 w-7",a.class)),onClick:s(t)},{default:m(()=>[y(s(lo)),r[0]||(r[0]=g("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1,__:[0]},8,["class","onClick"]))}}),nl=za("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:pr-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),ll=S({__name:"AppContent",props:{variant:{},class:{},projectColor:{}},setup(e){const a=e,t=I(()=>a.class);return(o,r)=>a.variant==="sidebar"?(f(),D(s(el),{key:0,class:K(t.value)},{default:m(()=>[P(o.$slots,"default")]),_:3},8,["class"])):(f(),A("main",{key:1,class:K(["mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",t.value]),style:he(o.projectColor?{borderColor:o.projectColor,borderWidth:"1px",borderStyle:"solid"}:{})},[P(o.$slots,"default")],6))}}),il={class:"fixed top-4 right-4 z-50 space-y-2"},dl={class:"flex-shrink-0"},ul={class:"flex-1"},cl={class:"font-medium"},pl={key:0,class:"text-sm opacity-90"},fl=["onClick"],gl=S({__name:"NotificationSystem",setup(e,{expose:a}){const t=M([]),o=i=>{switch(i){case"success":return"CheckCircle";case"error":return"XCircle";case"warning":return"AlertTriangle";case"info":return"Info";default:return"Info"}},r=i=>{const d=Date.now().toString()+Math.random().toString(36).substr(2,9),u={id:d,...i,duration:i.duration||5e3};return t.value.push(u),u.duration>0&&setTimeout(()=>{n(d)},u.duration),d},n=i=>{const d=t.value.findIndex(u=>u.id===i);d>-1&&t.value.splice(d,1)};return a({addNotification:r,removeNotification:n,clearAll:()=>{t.value=[]}}),pe(()=>{window.$notify=r}),(i,d)=>(f(),A("div",il,[y(Qa,{name:"notification",tag:"div",class:"space-y-2"},{default:m(()=>[(f(!0),A(ee,null,be(t.value,u=>(f(),A("div",{key:u.id,class:K(["flex items-center gap-3 p-4 rounded-lg shadow-lg border-l-4 min-w-80 max-w-md",u.type==="success"?"bg-green-500 border-green-600 text-white dark:bg-green-600 dark:border-green-700":u.type==="error"?"bg-red-500 border-red-600 text-white dark:bg-red-600 dark:border-red-700":u.type==="warning"?"bg-yellow-500 border-yellow-600 text-white dark:bg-yellow-600 dark:border-yellow-700":"bg-blue-500 border-blue-600 text-white dark:bg-blue-600 dark:border-blue-700"])},[g("div",dl,[y(Z,{name:o(u.type),class:"w-5 h-5 text-white"},null,8,["name"])]),g("div",ul,[g("p",cl,V(u.title),1),u.message?(f(),A("p",pl,V(u.message),1)):G("",!0)]),g("button",{onClick:p=>n(u.id),class:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[y(Z,{name:"X",class:"w-4 h-4"})],8,fl)],2))),128))]),_:1})]))}}),ea=ca(gl,[["__scopeId","data-v-9e388c2d"]]),ml={key:0,class:"flex min-h-screen w-full flex-col"},vl=S({__name:"AppShell",props:{variant:{}},setup(e){const a=Ee().props.sidebarOpen;return(t,o)=>t.variant==="header"?(f(),A("div",ml,[P(t.$slots,"default"),y(ea)])):(f(),D(s(rl),{key:1,"default-open":s(a)},{default:m(()=>[P(t.$slots,"default"),y(ea)]),_:3},8,["default-open"]))}}),yl={class:"flex items-center justify-between gap-2"},hl={key:0,class:"flex items-center gap-1 text-[11px] text-gray-600 dark:text-gray-300"},bl=["value"],_l=["value"],wl={class:"flex items-center gap-2"},xl={class:"flex items-center gap-2 w-full"},Cl=["onDragstart"],kl={class:"flex-1 truncate"},$l={class:"text-xs text-gray-500 flex-shrink-0"},Sl={class:"reveal-on-hover-focus"},Pl=["onClick","tooltip"],ql={class:"flex-1 truncate"},Al={class:"text-xs text-gray-500"},Dl={class:"flex items-center gap-2 w-full"},Ol=["onDragstart"],Ml={class:"flex-1 truncate"},Bl={class:"text-xs text-gray-500 flex-shrink-0"},Tl={class:"reveal-on-hover-focus"},El=["onClick","tooltip"],Rl={class:"flex items-center gap-2 w-full"},Il=["onDragstart"],Ll={class:"flex-1 truncate"},Fl={class:"text-xs text-gray-500 flex-shrink-0"},Nl={class:"reveal-on-hover-focus"},jl=["onClick","tooltip"],zl=S({__name:"NavProjects",setup(e){const{t:a}=Ja(),t=M([]),o=M(null),{selectedClientId:r,setClientId:n}=io(),l=M(!1),i=Ee(),d=I(()=>{const $=i.props;return $.user??$.auth?.user??null});I(()=>{const $=i.props;return $.company??$.auth?.user?.company??null});const u=I(()=>{const $=d.value;return!$||!$.id||$.company_id!==null&&$.company_id!==void 0||!t.value||!Array.isArray(t.value)?!1:t.value.filter(L=>L&&L.owner_id===$.id).length>=3});I(()=>u.value?"You have reached the FREE plan project limit (3 projects). To add more projects, please upgrade your subscription.":"");const p=I(()=>!o.value||!o.value.clients?[]:Object.values(o.value.clients).map($=>({id:$.id,name:$.name}))),c=M(null),v=M(!1),h=M(!1),b=M(new Set);let x=null;const q=I(()=>window.location.pathname==="/subscription"),B=I(()=>window.location.pathname==="/dashboard");pe(async()=>{await T(),x=ce.onProject(async $=>{switch(console.log("Real-time project event received:",$),$.type){case"project_created":const R=$.data;t.value.find(se=>se.id===R.id)||(t.value.push(R),console.log("Added new project to list:",R.name));break;case"project_updated":const O=$.data,j=t.value.findIndex(se=>se.id===O.id);j!==-1&&(t.value[j]=O,console.log("Updated project in list:",O.name));break;case"project_deleted":const L=$.data,X=t.value.findIndex(se=>se.id===L.id);X!==-1&&(t.value.splice(X,1),console.log("Removed project from list:",L.name));break}}),window.addEventListener("projectCreated",async()=>{await T()}),window.addEventListener("todoChanged",async()=>{await T()}),window.addEventListener("projectSelected",async $=>{if($.detail?.projectId&&!h.value){h.value=!0;try{const R=t.value.find(O=>O.id===$.detail.projectId);R&&(c.value=R,console.log("Sidebar updated to show selected project:",R.name))}finally{h.value=!1}}}),window.addEventListener("subscription-downgrade",async $=>{console.log("Subscription downgrade detected, reloading projects:",$.detail),await T()}),window.addEventListener("todosLoaded",()=>{l.value=!0})}),Fe(()=>{x&&x()});const T=async()=>{try{v.value=!0;const $=await Ze.getProjectsWithStats();console.log("Projects with stats:",$),Array.isArray($)?(t.value=$,o.value=null):$.data&&Array.isArray($.data)?(t.value=$.data,o.value=$.grouped||null):(t.value=[],o.value=null);const R=localStorage.getItem("currentProjectId");if(R){const O=t.value.find(j=>j.id===parseInt(R));O&&(c.value=O)}}catch($){console.error("Failed to load projects:",$)}finally{v.value=!1}},E=I(()=>{if(!o.value)return null;if(!r.value)return o.value;const $=o.value.clients||{},R=Object.values($).find(O=>O.id===r.value);return R?{no_client:[],clients:{[R.id]:R}}:{no_client:[],clients:{}}}),N=I(()=>r.value?t.value.filter($=>$.client_id===r.value):t.value),w=$=>{c.value=$,localStorage.setItem("currentProjectId",$.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:$.id}})),window.location.href="/dashboard"},C=async($,R)=>{R.stopPropagation();const O=$.total_todos||0;if(O>0){if(confirm(`Project "${$.name}" contains ${O} todos.

Choose:
- OK: Delete project AND all todos
- Cancel: Keep project and todos`)&&confirm(` FINAL WARNING: This will permanently delete:
 ${a("dashboard.project")}: "${$.name}"
 ${O} todos

This action CANNOT be undone. Are you absolutely sure?`))try{await Ze.deleteProjectWithTodos($.id);const L=t.value.findIndex(X=>X.id===$.id);if(L!==-1&&t.value.splice(L,1),c.value?.id===$.id){let X=null;t.value.length>0&&(L<t.value.length?X=t.value[L]:L>0?X=t.value[L-1]:X=t.value[0]),X?(c.value=X,localStorage.setItem("currentProjectId",X.id.toString()),console.log(`Auto-selected next project: ${X.name} (ID: ${X.id})`),console.log("Projects remaining after deletion:",t.value.map(se=>({id:se.id,name:se.name}))),console.log("Updated localStorage to project ID:",X.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:X.id}}))):(c.value=null,localStorage.removeItem("currentProjectId"),console.log("No projects left after deletion"),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:null}})))}console.log(`Project "${$.name}" and ${O} todos deleted successfully`),window.dispatchEvent(new CustomEvent("todoChanged")),window.dispatchEvent(new CustomEvent("projectListChanged")),window.$notify&&window.$notify({type:"success",title:"Project Deleted",message:`Project "${$.name}" and ${O} todos have been deleted successfully.`})}catch(L){console.error("Failed to delete project with todos:",L),window.$notify&&window.$notify({type:"error",title:"Delete Failed",message:"Failed to delete project. Please try again."})}}else if(confirm(`Are you sure you want to delete "${$.name}"? This action cannot be undone.`))try{await Ze.deleteProject($.id);const j=t.value.findIndex(L=>L.id===$.id);if(j!==-1&&t.value.splice(j,1),c.value?.id===$.id){let L=null;t.value.length>0&&(j<t.value.length?L=t.value[j]:j>0?L=t.value[j-1]:L=t.value[0]),L?(c.value=L,localStorage.setItem("currentProjectId",L.id.toString()),console.log(`Auto-selected next project: ${L.name} (ID: ${L.id})`),console.log("Projects remaining after deletion:",t.value.map(X=>({id:X.id,name:X.name}))),console.log("Updated localStorage to project ID:",L.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:L.id}}))):(c.value=null,localStorage.removeItem("currentProjectId"),console.log("No projects left after deletion"),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:null}})))}console.log(`Project "${$.name}" deleted successfully`),window.dispatchEvent(new CustomEvent("todoChanged")),window.dispatchEvent(new CustomEvent("projectListChanged")),window.$notify&&window.$notify({type:"success",title:"Project Deleted",message:`Project "${$.name}" has been deleted successfully.`})}catch(j){console.error("Failed to delete project:",j),window.$notify&&window.$notify({type:"error",title:"Delete Failed",message:"Failed to delete project. Please try again."})}},_=()=>{if(q.value){window.$notify&&window.$notify({type:"warning",title:"Project Creation Unavailable",message:"Please complete your subscription upgrade to create new projects."});return}window.dispatchEvent(new CustomEvent("openCreateProjectModal"))},F=M(null),k=M(null),z=($,R)=>{F.value=R,$.dataTransfer&&($.dataTransfer.effectAllowed="move",$.dataTransfer.setData("text/plain",R.id.toString()))},U=($,R)=>{$.preventDefault(),$.dataTransfer&&($.dataTransfer.dropEffect="move"),k.value=R},Y=()=>{k.value=null},te=async($,R)=>{if($.preventDefault(),k.value=null,!F.value)return;const O=t.value.findIndex(se=>se.id===F.value.id);if(O===-1||O===R){F.value=null;return}const j=[...t.value],[L]=j.splice(O,1);j.splice(R,0,L);const X=j.map((se,Na)=>({id:se.id,viewing_order:Na+1}));try{await Ze.updateProjectOrder(X),t.value=j,window.$notify&&window.$notify({type:"success",title:"Project Order Updated",message:"Projects have been reordered successfully."})}catch(se){console.error("Failed to update project order:",se),window.$notify&&window.$notify({type:"error",title:"Update Failed",message:"Failed to reorder projects. Please try again."})}F.value=null},J=()=>{F.value=null,k.value=null},re=$=>{b.value.has($)?b.value.delete($):b.value.add($)},ae=$=>b.value.has($);return($,R)=>(f(),D(s(Qn),{class:"px-2 py-0"},{default:m(()=>[g("div",yl,[y(s(Jn),null,{default:m(()=>R[4]||(R[4]=[ie("Projects",-1)])),_:1,__:[4]}),d.value?.company_id!=null&&p.value.length>0?(f(),A("div",hl,[g("select",{class:"rounded-md border border-gray-300 bg-white px-1.5 py-0.5 text-[10px] text-gray-900 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-600 dark:focus:border-gray-100 dark:focus:ring-gray-100",value:s(r)||"all",onChange:R[0]||(R[0]=O=>{const L=O.target.value;s(n)(L==="all"?null:Number(L))})},[R[5]||(R[5]=g("option",{value:"all"},"All",-1)),(f(!0),A(ee,null,be(p.value,O=>(f(),A("option",{key:O.id,value:O.id},V(O.name),9,_l))),128))],40,bl)])):G("",!0)]),y(s(It),null,{default:m(()=>[!v.value&&B.value&&l.value&&!u.value?(f(),D(s(Pe),{key:0},{default:m(()=>[y(s(Re),{onClick:_,tooltip:q.value?"Complete subscription upgrade to create projects":"Create New Project",class:K(["justify-between rounded-md border text-sm font-medium transition-colors","bg-black text-white hover:bg-gray-900 hover:border-gray-900","dark:bg-white dark:text-black dark:hover:bg-gray-100 dark:hover:border-gray-300",{"opacity-50 cursor-not-allowed":q.value}])},{default:m(()=>[g("div",wl,[y(Z,{name:"Plus",class:"w-4 h-4"}),R[6]||(R[6]=g("span",null,"New Project",-1))])]),_:1},8,["tooltip","class"])]),_:1})):G("",!0),E.value?(f(),A(ee,{key:1},[E.value.no_client&&E.value.no_client.length>0?(f(),A(ee,{key:0},[y(s(Pe),null,{default:m(()=>R[7]||(R[7]=[g("div",{class:"px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"No Client",-1)])),_:1,__:[7]}),(f(!0),A(ee,null,be(E.value.no_client,(O,j)=>(f(),D(s(Pe),{key:`no-client-${O.id}`,onDragover:L=>U(L,j),onDragleave:Y,onDrop:L=>te(L,j),class:K({"drag-over":k.value===j})},{default:m(()=>[y(s(Re),{onClick:L=>w(O),"is-active":c.value?.id===O.id,tooltip:O.name,class:K(["group relative ml-2",{"selected-project":c.value?.id===O.id}]),style:he(c.value?.id===O.id?{borderTop:`1px solid ${O.color}`,borderLeft:`1px solid ${O.color}`,borderBottom:`1px solid ${O.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[g("div",xl,[g("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:he({backgroundColor:O.color}),draggable:"true",onDragstart:L=>z(L,O),onDragend:J,title:"Drag to reorder"},null,44,Cl),g("span",kl,V(O.name),1),g("span",$l,V(O.total_todos||0),1),g("div",Sl,[g("button",{onTouchstart:R[1]||(R[1]=fe(()=>{},["stop"])),onClick:L=>C(O,L),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${O.name}`},[y(Z,{name:"Trash2",class:"w-3 h-3"})],40,Pl)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128))],64)):G("",!0),(f(!0),A(ee,null,be(Object.values(E.value.clients),O=>(f(),A(ee,{key:`client-${O.id}`},[y(s(Pe),null,{default:m(()=>[y(s(Re),{onClick:j=>re(O.name),class:"text-xs font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"},{default:m(()=>[y(Z,{name:ae(O.name)?"ChevronRight":"ChevronDown",class:"w-3 h-3"},null,8,["name"]),g("span",ql,V(O.name),1),g("span",Al,V(O.projects.length),1)]),_:2},1032,["onClick"])]),_:2},1024),ae(O.name)?G("",!0):(f(!0),A(ee,{key:0},be(O.projects,(j,L)=>(f(),D(s(Pe),{key:`client-${O.id}-project-${j.id}`,onDragover:X=>U(X,L),onDragleave:Y,onDrop:X=>te(X,L),class:K({"drag-over":k.value===L})},{default:m(()=>[y(s(Re),{onClick:X=>w(j),"is-active":c.value?.id===j.id,tooltip:j.name,class:K(["group relative ml-4",{"selected-project":c.value?.id===j.id}]),style:he(c.value?.id===j.id?{borderTop:`1px solid ${j.color}`,borderLeft:`1px solid ${j.color}`,borderBottom:`1px solid ${j.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[g("div",Dl,[g("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:he({backgroundColor:j.color}),draggable:"true",onDragstart:X=>z(X,j),onDragend:J,title:"Drag to reorder"},null,44,Ol),g("span",Ml,V(j.name),1),g("span",Bl,V(j.total_todos||0),1),g("div",Tl,[g("button",{onTouchstart:R[2]||(R[2]=fe(()=>{},["stop"])),onClick:X=>C(j,X),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${j.name}`},[y(Z,{name:"Trash2",class:"w-3 h-3"})],40,El)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128))],64))),128))],64)):(f(!0),A(ee,{key:2},be(N.value,(O,j)=>(f(),D(s(Pe),{key:O.id,onDragover:L=>U(L,j),onDragleave:Y,onDrop:L=>te(L,j),class:K({"drag-over":k.value===j})},{default:m(()=>[y(s(Re),{onClick:L=>w(O),"is-active":c.value?.id===O.id,tooltip:O.name,class:K(["group relative",{"selected-project":c.value?.id===O.id}]),style:he(c.value?.id===O.id?{borderTop:`1px solid ${O.color}`,borderLeft:`1px solid ${O.color}`,borderBottom:`1px solid ${O.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[g("div",Rl,[g("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:he({backgroundColor:O.color}),draggable:"true",onDragstart:L=>z(L,O),onDragend:J,title:"Drag to reorder"},null,44,Il),g("span",Ll,V(O.name),1),g("span",Fl,V(O.total_todos||0),1),g("div",Nl,[g("button",{onTouchstart:R[3]||(R[3]=fe(()=>{},["stop"])),onClick:L=>C(O,L),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${O.name}`},[y(Z,{name:"Trash2",class:"w-3 h-3"})],40,jl)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128)),v.value?(f(),D(s(Pe),{key:3},{default:m(()=>[y(s(Re),{disabled:""},{default:m(()=>[y(Z,{name:"Loader2",class:"w-4 h-4 animate-spin"}),R[8]||(R[8]=g("span",null,"Loading...",-1))]),_:1,__:[8]})]),_:1})):G("",!0)]),_:1})]),_:1}))}}),Hl=ca(zl,[["__scopeId","data-v-86f58d68"]]),Ul=S({__name:"Avatar",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),D(s(er),{"data-slot":"avatar",class:K(s(W)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a.class))},{default:m(()=>[P(t.$slots,"default")]),_:3},8,["class"]))}}),Kl=S({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=I(()=>{const{class:o,...r}=a;return r});return(o,r)=>(f(),D(s(ar),H({"data-slot":"avatar-fallback"},t.value,{class:s(W)("bg-muted flex size-full items-center justify-center rounded-full",a.class)}),{default:m(()=>[P(o.$slots,"default")]),_:3},16,["class"]))}}),Vl=S({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){const a=e;return(t,o)=>(f(),D(s(sr),H({"data-slot":"avatar-image"},a,{class:"aspect-square size-full"}),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}});function Wl(e){if(!e)return"";const a=e.trim().split(" ");return a.length===0?"":a.length===1?a[0].charAt(0).toUpperCase():`${a[0].charAt(0)}${a[a.length-1].charAt(0)}`.toUpperCase()}function Gl(){return{getInitials:Wl}}const Xl={class:"grid flex-1 text-left text-sm leading-tight"},Yl={class:"truncate font-medium"},Ql={key:0,class:"truncate text-xs text-muted-foreground"},Ia=S({__name:"UserInfo",props:{user:{},showEmail:{type:Boolean,default:!1}},setup(e){const a=e,{getInitials:t}=Gl(),o=I(()=>a.user.avatar&&a.user.avatar!=="");return(r,n)=>(f(),A(ee,null,[y(s(Ul),{class:"h-8 w-8 overflow-hidden rounded-lg"},{default:m(()=>[o.value?(f(),D(s(Vl),{key:0,src:r.user.avatar,alt:r.user.name},null,8,["src","alt"])):G("",!0),y(s(Kl),{class:"rounded-lg text-black dark:text-white"},{default:m(()=>[ie(V(s(t)(r.user.name)),1)]),_:1})]),_:1}),g("div",Xl,[g("span",Yl,V(r.user.name),1),r.showEmail?(f(),A("span",Ql,V(r.user.email),1)):G("",!0)])],64))}}),Jl=S({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:a}){const r=ye(e,a);return(n,l)=>(f(),D(s(Zs),H({"data-slot":"dropdown-menu"},s(r)),{default:m(()=>[P(n.$slots,"default")]),_:3},16))}}),Zl=S({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:a}){const t=e,o=a,r=I(()=>{const{class:l,...i}=t;return i}),n=ye(r,o);return(l,i)=>(f(),D(s(un),null,{default:m(()=>[y(s(tn),H({"data-slot":"dropdown-menu-content"},s(n),{class:s(W)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--reka-dropdown-menu-content-available-height) min-w-[8rem] origin-(--reka-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t.class)}),{default:m(()=>[P(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ei=S({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(t,o)=>(f(),D(s(on),H({"data-slot":"dropdown-menu-group"},a),{default:m(()=>[P(t.$slots,"default")]),_:3},16))}}),mt=S({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean},variant:{default:"default"}},setup(e){const a=e,t=st(a,"inset","variant"),o=nt(t);return(r,n)=>(f(),D(s(sn),H({"data-slot":"dropdown-menu-item","data-inset":r.inset?"":void 0,"data-variant":r.variant},s(o),{class:s(W)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a.class)}),{default:m(()=>[P(r.$slots,"default")]),_:3},16,["data-inset","data-variant","class"]))}}),ti=S({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const a=e,t=st(a,"class","inset"),o=nt(t);return(r,n)=>(f(),D(s(ln),H({"data-slot":"dropdown-menu-label","data-inset":r.inset?"":void 0},s(o),{class:s(W)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",a.class)}),{default:m(()=>[P(r.$slots,"default")]),_:3},16,["data-inset","class"]))}}),ta=S({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=I(()=>{const{class:o,...r}=a;return r});return(o,r)=>(f(),D(s(pn),H({"data-slot":"dropdown-menu-separator"},t.value,{class:s(W)("bg-border -mx-1 my-1 h-px",a.class)}),null,16,["class"]))}}),ai=S({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=nt(e);return(o,r)=>(f(),D(s(gn),H({"data-slot":"dropdown-menu-trigger"},s(t)),{default:m(()=>[P(o.$slots,"default")]),_:3},16))}}),ue=e=>({url:ue.url(e),method:"get"});ue.definition={methods:["get","head"],url:"/settings/profile"};ue.url=e=>ue.definition.url+St(e);ue.get=e=>({url:ue.url(e),method:"get"});ue.head=e=>({url:ue.url(e),method:"head"});const Lt=e=>({action:ue.url(e),method:"get"});Lt.get=e=>({action:ue.url(e),method:"get"});Lt.head=e=>({action:ue.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});ue.form=Lt;const De=e=>({url:De.url(e),method:"patch"});De.definition={methods:["patch"],url:"/settings/profile"};De.url=e=>De.definition.url+St(e);De.patch=e=>({url:De.url(e),method:"patch"});const La=e=>({action:De.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});La.patch=e=>({action:De.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});De.form=La;const Oe=e=>({url:Oe.url(e),method:"delete"});Oe.definition={methods:["delete"],url:"/settings/profile"};Oe.url=e=>Oe.definition.url+St(e);Oe.delete=e=>({url:Oe.url(e),method:"delete"});const Fa=e=>({action:Oe.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Fa.delete=e=>({action:Oe.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Oe.form=Fa;const oi={class:"flex items-center gap-2 px-1 py-1.5 text-left text-sm"},ri=S({__name:"UserMenuContent",props:{user:{}},setup(e){const a=()=>{Ft.post("/logout",{onSuccess:()=>Ft.visit("/")})};return(t,o)=>(f(),A(ee,null,[y(s(ti),{class:"p-0 font-normal"},{default:m(()=>[g("div",oi,[y(Ia,{user:t.user,"show-email":!0},null,8,["user"])])]),_:1}),y(s(ta)),y(s(ei),null,{default:m(()=>[y(s(mt),{"as-child":!0},{default:m(()=>[y(s(_e),{class:"block w-full",href:s(ue)(),prefetch:"",as:"button"},{default:m(()=>[y(s(uo),{class:"mr-2 h-4 w-4"}),o[0]||(o[0]=ie(" Settings ",-1))]),_:1,__:[0]},8,["href"])]),_:1}),y(s(mt),{"as-child":!0},{default:m(()=>[y(s(_e),{class:"block w-full",href:"/subscription",prefetch:"",as:"button"},{default:m(()=>[y(s(co),{class:"mr-2 h-4 w-4"}),o[1]||(o[1]=ie(" Subscription ",-1))]),_:1,__:[1]})]),_:1})]),_:1}),y(s(ta)),y(s(mt),{"as-child":!0},{default:m(()=>[y(s(_e),{class:"block w-full",href:"#",onClick:fe(a,["prevent"]),as:"button"},{default:m(()=>[y(s(po),{class:"mr-2 h-4 w-4"}),o[2]||(o[2]=ie(" Log out ",-1))]),_:1,__:[2]})]),_:1})],64))}}),si=S({__name:"NavUser",setup(e){const t=Ee().props.auth.user,{isMobile:o,state:r}=pt();return(n,l)=>(f(),D(s(It),null,{default:m(()=>[y(s(Pe),null,{default:m(()=>[y(s(Jl),null,{default:m(()=>[y(s(ai),{"as-child":""},{default:m(()=>[y(s(Re),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:m(()=>[y(Ia,{user:s(t)},null,8,["user"]),y(s(fo),{class:"ml-auto size-4"})]),_:1})]),_:1}),y(s(Zl),{class:"w-(--reka-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:s(o)?"bottom":s(r)==="collapsed"?"left":"bottom",align:"end","side-offset":4},{default:m(()=>[y(ri,{user:s(t)},null,8,["user"])]),_:1},8,["side"])]),_:1})]),_:1})]),_:1}))}}),ni={key:0,class:"flex items-center"},li=["src","alt"],ii=S({__name:"AppLogo",setup(e){const a=Ee(),t=I(()=>a.props.auth?.user?.company),o=I(()=>t.value?.logo_url),r=I(()=>!!o.value);return(n,l)=>r.value?(f(),A("div",ni,[g("img",{src:o.value,alt:t.value?.name+" logo",class:"object-contain"},null,8,li)])):(f(),A(ee,{key:1},[g("div",null,[y(Ro,{class:"size-5 fill-current text-white dark:text-black"})]),l[0]||(l[0]=g("div",{class:"grid flex-1 text-left text-sm"},[g("span",{class:"mb-0.5 truncate leading-tight font-semibold"},"ZapTask")],-1))],64))}}),di={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},ui=S({__name:"AppSidebar",setup(e){return Ee().props.company,(t,o)=>(f(),A(ee,null,[y(s(Gn),{collapsible:"icon",variant:"inset"},{default:m(()=>[y(s(Zn),null,{default:m(()=>[y(s(It),null,{default:m(()=>[y(s(Pe),null,{default:m(()=>[y(s(_e),{href:"/dashboard",class:"flex items-center gap-1 p-2 rounded-md hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"},{default:m(()=>[y(ii)]),_:1})]),_:1})]),_:1})]),_:1}),y(s(Xn),null,{default:m(()=>[y(Hl)]),_:1}),y(s(Yn),null,{default:m(()=>[g("div",di,[y(si)])]),_:1})]),_:1}),P(t.$slots,"default")],64))}}),ci=S({__name:"Breadcrumb",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",class:K(a.class)},[P(t.$slots,"default")],2))}}),pi=S({__name:"BreadcrumbItem",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("li",{"data-slot":"breadcrumb-item",class:K(s(W)("inline-flex items-center gap-1.5",a.class))},[P(t.$slots,"default")],2))}}),fi=S({__name:"BreadcrumbLink",props:{asChild:{type:Boolean},as:{default:"a"},class:{}},setup(e){const a=e;return(t,o)=>(f(),D(s(oe),{"data-slot":"breadcrumb-link",as:t.as,"as-child":t.asChild,class:K(s(W)("hover:text-foreground transition-colors",a.class))},{default:m(()=>[P(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),gi=S({__name:"BreadcrumbList",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("ol",{"data-slot":"breadcrumb-list",class:K(s(W)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",a.class))},[P(t.$slots,"default")],2))}}),mi=S({__name:"BreadcrumbPage",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",class:K(s(W)("text-foreground font-normal",a.class))},[P(t.$slots,"default")],2))}}),vi=S({__name:"BreadcrumbSeparator",props:{class:{}},setup(e){const a=e;return(t,o)=>(f(),A("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",class:K(s(W)("[&>svg]:size-3.5",a.class))},[P(t.$slots,"default",{},()=>[y(s(go))])],2))}}),yi=S({__name:"Breadcrumbs",props:{breadcrumbs:{}},setup(e){return(a,t)=>(f(),D(s(ci),null,{default:m(()=>[y(s(gi),null,{default:m(()=>[(f(!0),A(ee,null,be(a.breadcrumbs,(o,r)=>(f(),A(ee,{key:r},[y(s(pi),null,{default:m(()=>[r===a.breadcrumbs.length-1?(f(),D(s(mi),{key:0},{default:m(()=>[ie(V(o.title),1)]),_:2},1024)):(f(),D(s(fi),{key:1,"as-child":""},{default:m(()=>[y(s(_e),{href:o.href??"#"},{default:m(()=>[ie(V(o.title),1)]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024),r!==a.breadcrumbs.length-1?(f(),D(s(vi),{key:0})):G("",!0)],64))),128))]),_:1})]),_:1}))}}),hi={key:0,class:"flex items-center gap-4"},bi={class:"flex items-center gap-2"},_i=["title"],wi={class:"font-semibold"},xi={key:0,class:"flex items-center gap-2"},aa=S({__name:"CompanyCodeDisplay",props:{companyCode:{},companyName:{},subscriptionType:{}},setup(e){const a=e,t=M(!1),o=async()=>{if(a.companyCode)try{await navigator.clipboard.writeText(a.companyCode),t.value=!0,setTimeout(()=>{t.value=!1},2e3)}catch(r){console.error("Failed to copy: ",r)}};return(r,n)=>r.companyCode?(f(),A("div",hi,[g("div",bi,[n[0]||(n[0]=g("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Company Code: ",-1)),g("button",{onClick:o,class:"flex items-center gap-1 px-2 py-1 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md text-xs font-mono text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:`Click to copy company code: ${r.companyCode}`},[g("span",wi,V(r.companyCode),1),(f(),D(Ct(t.value?s(Io):s(mo)),{size:12,class:"text-blue-600 dark:text-blue-400"}))],8,_i)]),r.subscriptionType?(f(),A("div",xi,[n[1]||(n[1]=g("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Plan: ",-1)),g("div",{class:K(["px-2 py-1 rounded-md text-xs font-semibold",{"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":r.subscriptionType==="FREE","bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800":r.subscriptionType==="MIDI","bg-gradient-to-r from-yellow-100 to-amber-100 dark:from-yellow-900/20 dark:to-amber-900/20 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800":r.subscriptionType==="MAXI"}])},V(r.subscriptionType),3)])):G("",!0)])):G("",!0)}});class Ci{baseUrl="/notifications";async request(a,t,o){try{return(await vt({method:a,url:`${this.baseUrl}${t}`,data:o,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})).data}catch(r){throw console.error(`Notification API ${a} error:`,r),new Error(r.response?.data?.message||`Failed to ${a.toLowerCase()} notification`)}}async getNotifications(a=1){return this.request("GET",`?page=${a}`)}async getUnreadCount(){return this.request("GET","/unread-count")}async markAsRead(a){return this.request("PATCH",`/${a}/read`)}async markAllAsRead(){return this.request("PATCH","/mark-all-read")}async deleteNotification(a){return this.request("DELETE",`/${a}`)}async createNotification(a){return this.request("POST","",a)}}const We=new Ci,ki={class:"relative"},$i=["onKeydown","aria-label","aria-expanded"],Si={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium animate-pulse","aria-hidden":"true"},Pi={key:1,class:"sr-only"},qi={key:0,role:"dialog","aria-modal":"false","aria-label":"Notifications","aria-labelledby":"notifications-heading",class:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50"},Ai={class:"p-4 border-b border-gray-200 dark:border-gray-700"},Di={class:"flex items-center justify-between"},Oi={class:"flex items-center gap-2"},Mi=["onKeydown"],Bi={class:"max-h-96 overflow-y-auto"},Ti={key:0,class:"p-4 text-center text-gray-500"},Ei={key:1,class:"p-4 text-center text-gray-500"},Ri={key:2},Ii=["onClick"],Li={class:"flex items-start gap-3"},Fi={class:"flex-1 min-w-0"},Ni={class:"flex items-start justify-between"},ji={class:"flex-1"},zi={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Hi={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Ui={class:"text-xs text-gray-500 dark:text-gray-500 mt-2"},Ki=["onClick"],Vi=["onClick"],Wi={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-700"},Gi=S({__name:"NotificationBadge",setup(e){const a=M(!1),t=M([]),o=M(0),r=M(!1),n=M(1);let l=null;const i=w=>{if(w.type==="new_notification"){const C=w.data;C.data?.message_id&&C.data?.sender_id&&d(C.data.sender_id)?console.log("Chat is open with sender, skipping notification badge update"):(a.value&&t.value.unshift(C),p())}},d=w=>{const C=window.currentChatState;return C?.isOpen&&C?.otherUserId===w},u=async()=>{try{r.value=!0;const w=await We.getNotifications(n.value);console.log(" Loaded notifications:",w.data.length),console.log(" Notification types:",w.data.map(C=>C.type)),n.value===1?t.value=w.data:t.value.push(...w.data)}catch(w){console.error("Failed to load notifications:",w)}finally{r.value=!1}},p=async()=>{try{const w=await We.getUnreadCount();console.log(" Unread count:",w.count),o.value=w.count}catch(w){console.error("Failed to load unread count:",w)}},c=()=>{a.value=!a.value,a.value&&t.value.length===0&&u()},v=async w=>{try{await We.markAsRead(w);const C=t.value.find(_=>_.id===w);C&&(C.is_read=!0,C.read_at=new Date().toISOString()),await p()}catch(C){console.error("Failed to mark notification as read:",C)}},h=async()=>{try{await We.markAllAsRead(),t.value.forEach(w=>{w.is_read=!0,w.read_at=new Date().toISOString()}),o.value=0}catch(w){console.error("Failed to mark all notifications as read:",w)}},b=async w=>{try{await We.deleteNotification(w),t.value=t.value.filter(C=>C.id!==w),await p()}catch(C){console.error("Failed to delete notification:",C)}},x=async w=>{w.is_read||await v(w.id);const C=w.data||{};if(w.type==="mention"&&C.todo_id){a.value=!1,window.dispatchEvent(new CustomEvent("openTodoById",{detail:{todoId:C.todo_id,highlight:C.comment_id||null}}));return}if(w.data?.sender_id){const _=w.data.sender_id,F=w.data.sender_name||"Unknown User";try{window.dispatchEvent(new CustomEvent("openChat",{detail:{user:{id:_,name:F,email:""}}})),a.value=!1}catch(k){console.error("Failed to open chat:",k)}}},q=async()=>{n.value++,await u()},B=w=>({info:"Info",warning:"AlertTriangle",error:"XCircle",success:"CheckCircle",mention:"AtSign",comment:"MessageSquare",assignment:"UserCheck"})[w]||"Bell",T=w=>({info:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400",warning:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-400",error:"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-400",success:"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400",mention:"bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-400",comment:"bg-indigo-100 text-indigo-600 dark:bg-indigo-900 dark:text-indigo-400",assignment:"bg-cyan-100 text-cyan-600 dark:bg-cyan-900 dark:text-cyan-400"})[w]||"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",E=w=>{const C=new Date(w),F=new Date().getTime()-C.getTime(),k=Math.floor(F/(1e3*60*60*24)),z=Math.floor(F/(1e3*60*60)),U=Math.floor(F/(1e3*60));return U<1?"Just now":U<60?`${U}m ago`:z<24?`${z}h ago`:k<7?`${k}d ago`:C.toLocaleDateString()},N=w=>{w.target.closest(".relative")||(a.value=!1)};return pe(()=>{p(),document.addEventListener("click",N),l=ce.onNotification(i);const w=setInterval(p,3e4);Fe(()=>{clearInterval(w),document.removeEventListener("click",N),l&&l()})}),(w,C)=>(f(),A("div",ki,[g("button",{onClick:c,onKeydown:[Me(c,["enter"]),Me(fe(c,["prevent"]),["space"])],"aria-label":`Notifications${o.value>0?`, ${o.value} unread`:""}`,"aria-expanded":a.value,"aria-haspopup":"true",class:"relative p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md"},[y(Z,{name:"Bell",class:"w-5 h-5","aria-hidden":"true"}),o.value>0?(f(),A("span",Si,V(o.value>99?"99+":o.value),1)):G("",!0),o.value>0?(f(),A("span",Pi,V(o.value)+" unread notifications",1)):G("",!0)],40,$i),a.value?(f(),A("div",qi,[g("div",Ai,[g("div",Di,[C[5]||(C[5]=g("h3",{id:"notifications-heading",class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Notifications ",-1)),g("div",Oi,[o.value>0?(f(),A("button",{key:0,onClick:h,onKeydown:[Me(h,["enter"]),Me(fe(h,["prevent"]),["space"])],"aria-label":"Mark all notifications as read",class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded px-1"}," Mark all read ",40,Mi)):G("",!0),g("button",{onClick:C[0]||(C[0]=_=>a.value=!1),onKeydown:[C[1]||(C[1]=Me(_=>a.value=!1,["enter"])),C[2]||(C[2]=Me(fe(_=>a.value=!1,["prevent"]),["space"])),C[3]||(C[3]=Me(_=>a.value=!1,["escape"]))],"aria-label":"Close notifications",class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 rounded p-1"},[y(Z,{name:"X",class:"w-4 h-4","aria-hidden":"true"})],32)])])]),g("div",Bi,[r.value?(f(),A("div",Ti,[y(Z,{name:"Loader2",class:"w-6 h-6 animate-spin mx-auto mb-2"}),C[6]||(C[6]=ie(" Loading notifications... ",-1))])):t.value.length===0?(f(),A("div",Ei," No notifications yet ")):(f(),A("div",Ri,[(f(!0),A(ee,null,be(t.value,_=>(f(),A("div",{key:_.id,class:K(["p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",{"bg-blue-50 dark:bg-blue-900/20":!_.is_read}]),onClick:F=>x(_)},[g("div",Li,[g("div",{class:K(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",T(_.type)])},[y(Z,{name:B(_.type),class:"w-4 h-4"},null,8,["name"])],2),g("div",Fi,[g("div",Ni,[g("div",ji,[g("h4",zi,V(_.title),1),g("p",Hi,V(_.message),1),g("p",Ui,V(E(_.created_at)),1)]),g("div",{class:"flex items-center gap-1 ml-2",onClick:C[4]||(C[4]=fe(()=>{},["stop"]))},[_.is_read?G("",!0):(f(),A("button",{key:0,onClick:F=>v(_.id),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Mark as read"},[y(Z,{name:"Check",class:"w-4 h-4"})],8,Ki)),g("button",{onClick:F=>b(_.id),class:"text-gray-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete"},[y(Z,{name:"Trash2",class:"w-4 h-4"})],8,Vi)])])])])],10,Ii))),128))]))]),t.value.length>0?(f(),A("div",Wi,[g("button",{onClick:q,class:"w-full text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Load more notifications ")])):G("",!0)])):G("",!0)]))}}),Xi={class:"relative",id:"company-users-dropdown"},Yi={key:0,class:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50"},Qi={class:"max-h-80 overflow-y-auto"},Ji={key:0,class:"p-4 text-center"},Zi={key:1,class:"p-4 text-center"},ed={key:2,class:"py-1"},td={class:"flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},ad={class:"flex-1"},od={class:"flex items-center gap-3"},rd={class:"flex-shrink-0"},sd={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},nd={class:"text-sm font-medium text-blue-600 dark:text-blue-400"},ld={class:"flex-1 min-w-0"},id={class:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate"},dd={class:"text-xs text-gray-400"},ud={key:0,class:"flex-shrink-0 bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center"},cd=["onClick"],pd={key:0,class:"mx-4 border-b border-gray-200 dark:border-gray-600"},oa=S({__name:"CompanyUsersDropdown",setup(e){const a=M(!1),t=M([]),o=M(!1),r=M(!1),n=b=>{const x=b.trim().split(" ");return x.length===1?x[0].substring(0,2).toUpperCase():(x[0].charAt(0)+x[x.length-1].charAt(0)).toUpperCase()},l=async()=>{o.value=!0;try{const b=await fetch("/api/company-users",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(b.ok){const x=await b.json();t.value=x.data||[]}}catch(b){console.error("Failed to load company users:",b)}finally{o.value=!1}},i=b=>{window.dispatchEvent(new CustomEvent("openChat",{detail:{user:b}})),a.value=!1},d=()=>{a.value=!a.value,a.value&&l()},u=b=>{const x=b.target,q=document.getElementById("company-users-dropdown");q&&!q.contains(x)&&(a.value=!1)};let p=null;const c=b=>{a.value&&l()},v=()=>{document.removeEventListener("click",u),p&&p()},h=b=>{const x=b;r.value=x.detail.isOpen};return pe(()=>{document.addEventListener("click",u),p=ce.onUnreadCountChange(c),window.addEventListener("chatStateChange",h)}),Fe(()=>{v(),window.removeEventListener("chatStateChange",h)}),(b,x)=>(f(),A("div",Xi,[g("button",{onClick:d,class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Users"},[y(Z,{name:"Users",class:"w-4 h-4"}),x[0]||(x[0]=g("span",{class:"hidden sm:inline"},"Team",-1)),y(Z,{name:a.value?"ChevronUp":"ChevronDown",class:"w-3 h-3"},null,8,["name"])]),a.value?(f(),A("div",Yi,[x[4]||(x[4]=g("div",{class:"p-3 border-b border-gray-200 dark:border-gray-700"},[g("h3",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Company Team")],-1)),g("div",Qi,[o.value?(f(),A("div",Ji,[y(Z,{name:"Loader2",class:"w-5 h-5 animate-spin mx-auto text-gray-400"}),x[1]||(x[1]=g("p",{class:"text-sm text-gray-500 mt-2"},"Loading team members...",-1))])):t.value.length===0?(f(),A("div",Zi,[y(Z,{name:"Users",class:"w-8 h-8 mx-auto text-gray-400 mb-2"}),x[2]||(x[2]=g("p",{class:"text-sm text-gray-500"},"No other team members",-1))])):(f(),A("div",ed,[(f(!0),A(ee,null,be(t.value,(q,B)=>(f(),A("div",{key:q.id,class:"group"},[g("div",td,[g("div",ad,[g("div",od,[g("div",rd,[g("div",sd,[g("span",nd,V(n(q.name)),1)])]),g("div",ld,[g("p",id,V(q.name),1),g("p",dd," Joined "+V(q.joined_at),1)]),q.unread_messages>0&&!r.value?(f(),A("div",ud,V(q.unread_messages),1)):G("",!0)])]),g("button",{onClick:T=>i(q),class:"ml-3 flex-shrink-0 inline-flex items-center justify-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium border transition-colors cursor-pointer bg-black text-white hover:bg-gray-900 hover:border-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100 dark:hover:border-gray-300"},[y(Z,{name:"MessageCircle",class:"w-3 h-3 mr-1"}),x[3]||(x[3]=ie(" Message ",-1))],8,cd)]),B<t.value.length-1?(f(),A("div",pd)):G("",!0)]))),128))]))])])):G("",!0)]))}}),fd={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-sidebar-border/70 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4"},gd={class:"flex items-center gap-2"},md={class:"flex-1 flex justify-center"},vd={class:"flex items-center gap-3"},yd={key:1,class:"hidden md:flex items-center gap-3"},hd={class:"flex flex-col h-full"},bd={class:"flex-1 overflow-y-auto p-4"},_d={class:"flex flex-col gap-4"},wd={class:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},xd={class:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},Cd={class:"text-base font-semibold text-gray-900 dark:text-white"},kd={class:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg"},$d=S({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]},company:{default:null}},setup(e){const a=M(!1),t=()=>{a.value=!a.value},o=()=>{a.value=!1},r=Ee(),n=I(()=>{const i=r.props;return i.user??i.auth?.user??null}),l=I(()=>{const i=n.value;return i&&(i.company_id===null||i.company_id===void 0)});return(i,d)=>(f(),A("header",fd,[g("div",gd,[y(s(sl),{class:"-ml-1"}),i.breadcrumbs&&i.breadcrumbs.length>0?(f(),D(yi,{key:0,breadcrumbs:i.breadcrumbs},null,8,["breadcrumbs"])):G("",!0)]),g("div",md,[l.value?(f(),D(s(_e),{key:0,href:"/ltd/redeem",class:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Apply Redemption Code"},{default:m(()=>d[1]||(d[1]=[g("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})],-1),g("span",null,"Apply Redemption Code",-1)])),_:1,__:[1]})):G("",!0)]),g("div",vd,[i.$slots.dashboardActions?P(i.$slots,"dashboardActions",{key:0}):G("",!0),i.company?(f(),A("div",yd,[y(aa,{"company-code":i.company.code,"company-name":i.company.name,"subscription-type":i.company.subscription_type},null,8,["company-code","company-name","subscription-type"]),y(s(_e),{href:`/companies/${i.company.id}`,class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Information"},{default:m(()=>d[2]||(d[2]=[g("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),g("span",{class:"hidden sm:inline"},"Company",-1)])),_:1,__:[2]},8,["href"]),y(s(_e),{href:"/clients",class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Clients"},{default:m(()=>[y(s(Nt),{class:"w-4 h-4"}),d[3]||(d[3]=g("span",{class:"hidden sm:inline"},"Clients",-1))]),_:1,__:[3]}),y(oa)])):G("",!0),i.company?(f(),A("button",{key:2,onClick:t,class:"md:hidden inline-flex items-center justify-center p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Menu"},d[4]||(d[4]=[g("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))):G("",!0),y(Gi)]),a.value&&i.company?(f(),A("div",{key:0,class:"fixed inset-0 z-50 md:hidden",onClick:o},[d[11]||(d[11]=g("div",{class:"fixed inset-0 bg-black/50"},null,-1)),g("div",{class:"fixed top-0 right-0 h-full w-full sm:w-80 bg-white dark:bg-gray-800 shadow-xl",onClick:d[0]||(d[0]=fe(()=>{},["stop"]))},[g("div",hd,[g("div",{class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},[d[6]||(d[6]=g("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Company Menu",-1)),g("button",{onClick:o,class:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Close menu"},d[5]||(d[5]=[g("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),g("div",bd,[g("div",_d,[g("div",wd,[y(aa,{"company-code":i.company.code,"company-name":i.company.name,"subscription-type":i.company.subscription_type},null,8,["company-code","company-name","subscription-type"])]),g("div",xd,[d[7]||(d[7]=g("div",{class:"flex items-center gap-2 mb-1"},[g("span",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},"Plan")],-1)),g("div",Cd,V(i.company.subscription_type),1)]),y(s(_e),{href:`/companies/${i.company.id}`,onClick:o,class:"flex items-center gap-3 p-4 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors border border-gray-200 dark:border-gray-600 min-h-[44px]"},{default:m(()=>d[8]||(d[8]=[g("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),g("span",{class:"font-medium"},"Company Information",-1)])),_:1,__:[8]},8,["href"]),y(s(_e),{href:"/clients",onClick:o,class:"flex items-center gap-3 p-4 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors border border-gray-200 dark:border-gray-600 min-h-[44px]"},{default:m(()=>[y(s(Nt),{class:"w-5 h-5 flex-shrink-0"}),d[9]||(d[9]=g("span",{class:"font-medium"},"Clients",-1))]),_:1,__:[9]}),g("div",kd,[d[10]||(d[10]=g("div",{class:"mb-2"},[g("span",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},"Team")],-1)),y(oa)])])])])])])):G("",!0)]))}}),Sd={class:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-gray-700 rounded-t-lg"},Pd={class:"flex items-center gap-2"},qd={class:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},Ad={class:"text-xs font-medium text-blue-600 dark:text-blue-400"},Dd={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Od={class:"text-xs text-gray-500"},Md={class:"flex items-center gap-1"},Bd=["title"],Td={key:0,class:"flex flex-col h-80"},Ed={key:0,class:"text-center py-4"},Rd={key:1},Id={key:0,class:"text-center py-8"},Ld={class:"border-t border-gray-200 dark:border-gray-700 p-3"},Fd={class:"flex gap-2"},Nd=["disabled"],jd=["disabled"],zd=S({__name:"ChatWindow",setup(e){const a=M(!1),t=M(!1),o=M(!1),r=M(!1),n=M(""),l=M([]),i=M(null),d=M(null),u=C=>{i.value=C,a.value=!0,t.value=!1,window.currentChatState={isOpen:!0,isMinimized:!1,otherUserId:C.id},window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:!0,isMinimized:!1}})),v()},p=()=>{a.value=!1,t.value=!1,l.value=[],i.value=null,n.value="",window.currentChatState={isOpen:!1,isMinimized:!1,otherUserId:null},window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:!1,isMinimized:!1}}))},c=()=>{t.value=!t.value,window.currentChatState&&(window.currentChatState.isMinimized=t.value),window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:a.value,isMinimized:t.value}}))},v=async()=>{if(i.value){o.value=!0;try{const C=await fetch(`/api/company-users/${i.value.id}/messages`,{credentials:"include",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(C.ok){const F=(await C.json()).data;l.value=F.messages,await we(),b()}else console.error("Failed to load messages:",C.status,C.statusText),C.status===403&&window.$notify&&window.$notify({type:"error",title:"Access Denied",message:"You cannot access messages with this user.",duration:3e3})}catch(C){console.error("Failed to load messages:",C)}finally{o.value=!1}}},h=async()=>{if(!n.value.trim()||!i.value||r.value)return;r.value=!0;const C=n.value.trim();n.value="";try{await vt.get(`${window.location.origin}/sanctum/csrf-cookie`,{withCredentials:!0});const _=await vt.post("/company-messages",{recipient_id:i.value.id,message:C});_.data.success?(l.value.push(_.data.data),await we(),b(),window.dispatchEvent(new CustomEvent("messagesSent"))):(n.value=C,_.status===419?(console.error("CSRF token mismatch - please refresh the page"),window.$notify&&window.$notify({type:"error",title:"Authentication Error",message:"Session expired. Please refresh the page and try again.",duration:5e3})):_.status===403?(console.error("Unauthorized - user not in same company"),window.$notify&&window.$notify({type:"error",title:"Permission Error",message:"You do not have permission to send messages to this user.",duration:5e3})):(console.error("Failed to send message:",_.status,_.statusText),window.$notify&&window.$notify({type:"error",title:"Message Failed",message:"Failed to send message. Please try again.",duration:3e3})))}catch(_){n.value=C,console.error("Failed to send message:",_),_.response?.status===419?window.$notify&&window.$notify({type:"error",title:"Authentication Error",message:"Session expired. Please refresh the page and try again.",duration:5e3}):window.$notify&&window.$notify({type:"error",title:"Message Failed",message:_.message||"Failed to send message. Please try again.",duration:3e3})}finally{r.value=!1}},b=()=>{d.value&&(d.value.scrollTop=d.value.scrollHeight)},x=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),h())},q=C=>{const{user:_}=C.detail;u(_)};Ie(l,()=>{we(()=>{b()})});let B=null;const T=C=>{if(C.type==="new_message"&&i.value){const _=C.data;if(_.sender_id===i.value.id&&_.recipient_id===w.value||_.sender_id===w.value&&_.recipient_id===i.value.id){const F={id:_.id,message:_.message,sender_id:_.sender_id,sender_name:_.sender_id===w.value?"You":i.value.name,recipient_id:_.recipient_id,recipient_name:_.recipient_id===w.value?"You":i.value.name,is_read:_.is_read,created_at:new Date(_.created_at).toLocaleString(),created_at_human:"Just now"};l.value.find(k=>k.id===F.id)||(l.value.push(F),t.value&&_.sender_id===i.value.id&&E(),we(()=>{b()}))}}},E=()=>{window.$notify&&window.$notify({type:"info",title:"New Message",message:`${i.value?.name} sent you a message`,duration:3e3})};pe(()=>{window.addEventListener("openChat",q),B=ce.onMessage(T)}),Fe(()=>{window.removeEventListener("openChat",q),B&&B()});const N=Ee(),w=M(N.props.auth?.user?.id);return(C,_)=>a.value?(f(),A("div",{key:0,class:K(["fixed bottom-4 right-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",{"h-16":t.value,"h-96":!t.value}])},[g("div",Sd,[g("div",Pd,[g("div",qd,[g("span",Ad,V(i.value?.name.charAt(0).toUpperCase()),1)]),g("div",null,[g("h3",Dd,V(i.value?.name),1),g("p",Od,V(i.value?.email),1)])]),g("div",Md,[g("button",{onClick:c,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",title:t.value?"Maximize":"Minimize"},[y(Z,{name:t.value?"Maximize2":"Minimize2",class:"w-4 h-4"},null,8,["name"])],8,Bd),g("button",{onClick:p,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",title:"Close"},[y(Z,{name:"X",class:"w-4 h-4"})])])]),t.value?G("",!0):(f(),A("div",Td,[g("div",{ref_key:"messagesContainer",ref:d,class:"flex-1 overflow-y-auto p-3 space-y-3"},[o.value?(f(),A("div",Ed,[y(Z,{name:"Loader2",class:"w-5 h-5 animate-spin mx-auto text-gray-400"}),_[1]||(_[1]=g("p",{class:"text-xs text-gray-500 mt-2"},"Loading messages...",-1))])):(f(),A("div",Rd,[(f(!0),A(ee,null,be(l.value,F=>(f(),A("div",{key:F.id,class:K(["flex",F.sender_id===w.value?"justify-end":"justify-start"])},[g("div",{class:K(["max-w-xs px-3 py-2 rounded-lg text-sm",F.sender_id===w.value?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"])},[g("p",null,V(F.message),1),g("p",{class:K(["text-xs mt-1",F.sender_id===w.value?"text-blue-100":"text-gray-500 dark:text-gray-400"])},V(F.created_at_human),3)],2)],2))),128)),!o.value&&l.value.length===0?(f(),A("div",Id,[y(Z,{name:"MessageCircle",class:"w-8 h-8 mx-auto text-gray-400 mb-2"}),_[2]||(_[2]=g("p",{class:"text-sm text-gray-500"},"No messages yet",-1)),_[3]||(_[3]=g("p",{class:"text-xs text-gray-400"},"Start the conversation!",-1))])):G("",!0)]))],512),g("div",Ld,[g("div",Fd,[ra(g("textarea",{"onUpdate:modelValue":_[0]||(_[0]=F=>n.value=F),onKeypress:x,placeholder:"Type a message...",rows:"1",class:"flex-1 resize-none border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",disabled:r.value},null,40,Nd),[[Za,n.value]]),g("button",{onClick:h,disabled:!n.value.trim()||r.value,class:"inline-flex items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium border transition-colors cursor-pointer bg-black text-white hover:bg-gray-900 hover:border-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100 dark:hover:border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed"},[y(Z,{name:r.value?"Loader2":"Send",class:K(["w-4 h-4",{"animate-spin":r.value}])},null,8,["name","class"])],8,jd)]),_[4]||(_[4]=g("p",{class:"text-xs text-gray-500 mt-1"},"Press Enter to send, Shift+Enter for new line",-1))])]))],2)):G("",!0)}}),Hd=S({__name:"SkipToMain",setup(e){const a=t=>{t.preventDefault();const o=document.getElementById("main-content");o&&(o.focus(),o.scrollIntoView({behavior:"smooth",block:"start"}))};return(t,o)=>(f(),A("a",{href:"#main-content",class:"skip-to-main",onClick:a}," Skip to main content "))}}),eu=S({__name:"AppSidebarLayout",props:{breadcrumbs:{default:()=>[]},company:{default:null},projectColor:{}},setup(e){const a=e,o=Ee().props.auth?.user;return pe(()=>{o?.id&&a.company?.id&&(ce.init(o.id,a.company.id),window.testRealtime=()=>{ce.testRealtime()},window.testDatabaseRealtime=()=>{ce.testDatabaseRealtime()},window.testRealtimeEvents=()=>{ce.testRealtimeEvents()},window.testSupabaseConnection=()=>{ce.testSupabaseConnection()},window.testDeleteEvents=()=>{ce.testDeleteEvents()},window.testActivityRealtime=()=>{console.log("Testing activity real-time..."),console.log("Current company ID:",a.company?.id),console.log("Current user ID:",o?.id)},window.testActivitySubscription=()=>{console.log("Testing activity subscription...");const r=l=>{console.log("Test activity callback received:",l)},n=ce.onActivity(r);console.log("Test callback registered"),setTimeout(()=>{n(),console.log("Test callback unregistered")},1e4)})}),Fe(()=>{ce.disconnect()}),(r,n)=>(f(),A(ee,null,[y(Hd),y(vl,{variant:"sidebar"},{default:m(()=>[y(ui),y(ll,{variant:"sidebar",class:"overflow-x-hidden","project-color":r.projectColor},{default:m(()=>[y($d,{breadcrumbs:r.breadcrumbs,company:r.company?{...r.company,subscription_type:r.company.subscription_type||"FREE"}:null},{dashboardActions:m(()=>[P(r.$slots,"dashboardActions")]),_:3},8,["breadcrumbs","company"]),P(r.$slots,"default")]),_:3},8,["project-color"]),y(zd)]),_:3})],64))}});export{eu as _,ue as e};
