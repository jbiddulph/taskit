import{d as h,k as y,A as b,c as l,o as i,a as r,b as n,h as v,w as c,e as t,t as e,F as u,r as x,n as m,j as k,i as f}from"./app-DVbr1BYk.js";import{_ as w}from"./index-CJWfc4c0.js";import{_ as j,a as C,b as N,c as S}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D2zidtei.js";import{_ as D}from"./SubdomainLayout.vue_vue_type_script_setup_true_lang-k9bPgVgj.js";import{G as _}from"./globe-CzQ3QaPF.js";import{F as $,S as P}from"./x-Bvowkeyp.js";import"./Presence-C-dnFLa6.js";import"./useForwardExpose-BjDSYQG_.js";const B={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},V={class:"bg-white dark:bg-gray-800 shadow-sm border-b"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"flex justify-between items-center py-4"},z={class:"flex items-center gap-3"},G={class:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"},U={class:"text-xl font-semibold text-gray-900 dark:text-white"},A={class:"flex items-center gap-3"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},M={class:"mb-8"},q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-6"},E={class:"flex items-center gap-4"},O={class:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"},R={class:"text-2xl font-bold text-gray-900 dark:text-white"},H={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},I={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border"},J={class:"p-6 border-b"},K={class:"text-sm text-gray-500 dark:text-gray-400"},Q={class:"p-6"},W={key:0,class:"text-center py-8"},X={class:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center mx-auto mb-4"},Y={key:1,class:"space-y-3"},Z={class:"flex items-center gap-3"},tt={class:"flex-1"},st={class:"font-medium text-gray-900 dark:text-white"},et={class:"text-sm text-gray-500 dark:text-gray-400"},at={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border"},ot={class:"p-6 border-b"},rt={class:"text-sm text-gray-500 dark:text-gray-400"},dt={class:"p-6"},lt={key:0,class:"text-center py-8"},it={class:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center mx-auto mb-4"},nt={key:1,class:"space-y-3"},ct=["onClick"],gt={class:"flex items-start gap-3"},ut={class:"flex-1 min-w-0"},mt={class:"font-medium text-gray-900 dark:text-white truncate"},pt={class:"text-sm text-gray-500 dark:text-gray-400"},xt={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},_t={class:"space-y-4"},ht={key:0,class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},yt={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},bt={class:"grid grid-cols-2 gap-4 text-sm"},vt={class:"ml-2 text-gray-600 dark:text-gray-300"},kt={class:"ml-2 text-gray-600 dark:text-gray-300"},ft={class:"ml-2 text-gray-600 dark:text-gray-300"},wt={class:"ml-2 text-gray-600 dark:text-gray-300"},Tt=h({__name:"PublicDashboard",props:{company:{},projects:{},todos:{},isSubdomain:{type:Boolean},isGuest:{type:Boolean}},setup(jt){const d=y(null),p=b(()=>d.value!==null),g=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return(a,s)=>(i(),l(u,null,[r(n(v),{title:`${a.company.name} - Public Dashboard`},null,8,["title"]),r(D,null,{default:c(()=>[t("div",B,[t("div",V,[t("div",F,[t("div",T,[t("div",z,[t("div",G,[r(n(_),{class:"w-6 h-6 text-white"})]),t("div",null,[t("h1",U,e(a.company.name),1),s[1]||(s[1]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Public Dashboard ",-1))])]),t("div",A,[r(n(w),{"as-child":"",variant:"outline",size:"sm"},{default:c(()=>s[2]||(s[2]=[t("a",{href:"https://zaptask.co.uk"}," Visit Main Site ",-1)])),_:1,__:[2]})])])])]),t("div",L,[t("div",M,[t("div",q,[t("div",E,[t("div",O,[r(n(_),{class:"w-8 h-8 text-blue-600 dark:text-blue-400"})]),t("div",null,[t("h2",R,e(a.company.name),1),s[3]||(s[3]=t("p",{class:"text-gray-600 dark:text-gray-400"}," View our projects and tasks ",-1))])])])]),t("div",H,[t("div",I,[t("div",J,[s[4]||(s[4]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Projects ",-1)),t("p",K,e(a.projects.length)+" project"+e(a.projects.length!==1?"s":""),1)]),t("div",Q,[a.projects.length===0?(i(),l("div",W,[t("div",X,[r(n($),{class:"w-6 h-6 text-gray-400"})]),s[5]||(s[5]=t("p",{class:"text-gray-500 dark:text-gray-400"},"No projects available",-1))])):(i(),l("div",Y,[(i(!0),l(u,null,x(a.projects,o=>(i(),l("div",{key:o.id,class:"p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[t("div",Z,[t("div",{class:"w-4 h-4 rounded-full",style:m({backgroundColor:o.color})},null,4),t("div",tt,[t("h4",st,e(o.name),1),t("p",et,e(o.todos.length)+" task"+e(o.todos.length!==1?"s":""),1)])])]))),128))]))])]),t("div",at,[t("div",ot,[s[6]||(s[6]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Recent Tasks ",-1)),t("p",rt,e(a.todos.length)+" task"+e(a.todos.length!==1?"s":""),1)]),t("div",dt,[a.todos.length===0?(i(),l("div",lt,[t("div",it,[r(n(P),{class:"w-6 h-6 text-gray-400"})]),s[7]||(s[7]=t("p",{class:"text-gray-500 dark:text-gray-400"},"No tasks available",-1))])):(i(),l("div",nt,[(i(!0),l(u,null,x(a.todos.slice(0,10),o=>(i(),l("div",{key:o.id,class:"p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:Ct=>d.value=o},[t("div",gt,[t("div",{class:"w-3 h-3 rounded-full mt-2 flex-shrink-0",style:m({backgroundColor:o.project?.color||"#6b7280"})},null,4),t("div",ut,[t("h4",mt,e(o.title),1),t("p",pt,e(o.project?.name||"No Project"),1),t("p",xt,e(g(o.created_at)),1)])])],8,ct))),128))]))])])])])]),r(n(j),{open:p.value,"onUpdate:open":s[0]||(s[0]=o=>p.value=o)},{default:c(()=>[r(n(C),{class:"max-w-2xl"},{default:c(()=>[r(n(N),null,{default:c(()=>[r(n(S),{class:"flex items-center gap-2"},{default:c(()=>[t("div",{class:"w-3 h-3 rounded-full",style:m({backgroundColor:d.value?.project?.color||"#6b7280"})},null,4),k(" "+e(d.value?.title),1)]),_:1})]),_:1}),t("div",_t,[d.value?.description?(i(),l("div",ht,[s[8]||(s[8]=t("h4",{class:"font-medium text-gray-900 dark:text-white mb-2"},"Description",-1)),t("p",yt,e(d.value.description),1)])):f("",!0),t("div",bt,[t("div",null,[s[9]||(s[9]=t("span",{class:"font-medium text-gray-900 dark:text-white"},"Project:",-1)),t("span",vt,e(d.value?.project?.name||"No Project"),1)]),t("div",null,[s[10]||(s[10]=t("span",{class:"font-medium text-gray-900 dark:text-white"},"Status:",-1)),t("span",kt,e(d.value?.status||"Not Set"),1)]),t("div",null,[s[11]||(s[11]=t("span",{class:"font-medium text-gray-900 dark:text-white"},"Created:",-1)),t("span",ft,e(g(d.value?.created_at)),1)]),t("div",null,[s[12]||(s[12]=t("span",{class:"font-medium text-gray-900 dark:text-white"},"Updated:",-1)),t("span",wt,e(g(d.value?.updated_at)),1)])])])]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Tt as default};
