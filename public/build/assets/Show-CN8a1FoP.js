import{d as S,g as A,r as f,c as a,o as l,a as i,u as d,h as E,w as y,b as t,l as _,f as x,t as o,k as c,F as b,m as j,p as N,n as p}from"./app-1IDYcMtw.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7VnYpwD.js";import{_ as n}from"./useClientStore-BNEN0los.js";import{i as B,e as M,d as T}from"./index-D5INol4S.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-Bc65PhvE.js";import"./index-C3Ozvxkr.js";import"./useForwardExpose-CG-rs0sA.js";import"./Presence-BZaGnVCQ.js";import"./x-CKgTd4oM.js";import"./createLucideIcon-BBcjIKFj.js";import"./VisuallyHidden-DYLkQAmh.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DV4l67za.js";import"./check-Ce3BskzS.js";import"./lock-vO6GRo31.js";import"./globe-CBAnjFnu.js";import"./loader-circle-BCMWm6Nt.js";const V=["title"],$=["title"],D=["title"],I={class:"py-12"},L={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},z={class:"mb-6"},H={class:"flex items-center gap-4 mb-4"},U={class:"flex justify-between items-start"},q={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},G={class:"text-gray-600 dark:text-gray-400 mt-1"},K={class:"flex gap-3"},R=["disabled"],W={key:0},J={key:1},O={class:"grid gap-6 lg:grid-cols-3"},Q={class:"lg:col-span-2 space-y-6"},X={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6"},Z={class:"space-y-4"},tt={key:0,class:"flex items-center gap-3"},et={class:"font-medium"},st={key:1,class:"flex items-center gap-3"},ot=["href"],it={key:2,class:"flex items-center gap-3"},at=["href"],lt={key:3,class:"flex items-start gap-3"},nt={class:"font-medium whitespace-pre-line"},rt={key:4,class:"flex items-center gap-3"},dt=["href"],ct={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},mt={class:"p-6"},gt={class:"prose dark:prose-invert max-w-none"},ht={class:"whitespace-pre-wrap"},yt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ut={class:"p-6"},vt={class:"flex items-center justify-between mb-4"},ft={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},xt=["value"],pt=["value"],_t={key:0,class:"space-y-3"},bt={class:"flex items-center gap-3"},kt={class:"font-medium"},wt={class:"text-sm text-gray-500"},Ct={class:"text-right text-sm"},Ft={class:"text-gray-500"},St={key:1,class:"text-center py-8 text-gray-500"},At={class:"space-y-6"},Et={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},jt={class:"p-6"},Nt={class:"space-y-4"},Pt={class:"text-center"},Bt={class:"text-3xl font-bold text-blue-600"},Mt={class:"text-center"},Tt={class:"text-3xl font-bold text-green-600"},Vt={class:"text-center"},$t={class:"text-3xl font-bold text-purple-600"},Dt={class:"text-center"},It={class:"text-3xl font-bold text-orange-600"},se=S({__name:"Show",props:{client:{},company:{}},setup(u){typeof window<"u"&&window.dispatchEvent(new CustomEvent("clientFilterChanged",{detail:{clientId:u.client.id,clientName:u.client.name}}));const v=A({}),k=()=>{confirm("Are you sure you want to delete this client? This will remove the client association from all projects but will not delete the projects themselves.")&&v.delete(T.url(u.client.id))},m=f(!1),g=f(!1),h=f(!1),w=()=>{m.value=!m.value},C=()=>{g.value=!g.value},F=()=>{h.value=!h.value};return(e,s)=>(l(),a(b,null,[i(d(E),{title:e.client.name},null,8,["title"]),i(P,{company:e.company},{dashboardActions:y(()=>[t("button",{onClick:w,title:m.value?"Hide Calendar":"Show Calendar",class:p(["inline-flex items-center justify-center p-2 transition-colors",m.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[i(n,{name:"Calendar",class:"w-5 h-5"})],10,V),t("button",{onClick:C,title:g.value?"Hide Activity Feed":"Show Activity Feed",class:p(["inline-flex items-center justify-center p-2 transition-colors",g.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[i(n,{name:"Activity",class:"w-5 h-5"})],10,$),t("button",{onClick:F,title:h.value?"Exit Select Mode":"Select for Bulk Update",class:p(["inline-flex items-center justify-center p-2 transition-colors",h.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[i(n,{name:"CheckSquare",class:"w-5 h-5"})],10,D)]),default:y(()=>[t("div",I,[t("div",L,[t("div",z,[t("div",H,[i(d(_),{href:d(B).url(),class:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"},{default:y(()=>[i(n,{name:"ArrowLeft",class:"w-4 h-4"}),s[1]||(s[1]=x(" Back to Clients ",-1))]),_:1,__:[1]},8,["href"])]),t("div",U,[t("div",null,[t("h1",q,o(e.client.name),1),t("p",G," Added by "+o(e.client.created_by)+" on "+o(e.client.created_at),1)]),t("div",K,[i(d(_),{href:d(M).url(e.client.id),class:"inline-flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium border transition-colors cursor-pointer bg-black text-white hover:bg-gray-900 hover:border-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100 dark:hover:border-gray-300"},{default:y(()=>[i(n,{name:"Edit",class:"w-4 h-4"}),s[2]||(s[2]=x(" Edit ",-1))]),_:1,__:[2]},8,["href"]),t("button",{onClick:k,disabled:d(v).processing,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i(n,{name:"Trash2",class:"w-4 h-4"}),d(v).processing?(l(),a("span",W,"Deleting...")):(l(),a("span",J,"Delete"))],8,R)])])]),t("div",O,[t("div",Q,[t("div",X,[t("div",Y,[s[8]||(s[8]=t("h2",{class:"text-lg font-semibold mb-4"},"Contact Information",-1)),t("div",Z,[e.client.key_contact_name?(l(),a("div",tt,[i(n,{name:"User",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[3]||(s[3]=t("div",{class:"text-sm text-gray-500"},"Key Contact",-1)),t("div",et,o(e.client.key_contact_name),1)])])):c("",!0),e.client.key_contact_email?(l(),a("div",st,[i(n,{name:"Mail",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[4]||(s[4]=t("div",{class:"text-sm text-gray-500"},"Email",-1)),t("a",{href:`mailto:${e.client.key_contact_email}`,class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},o(e.client.key_contact_email),9,ot)])])):c("",!0),e.client.key_contact_phone?(l(),a("div",it,[i(n,{name:"Phone",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[5]||(s[5]=t("div",{class:"text-sm text-gray-500"},"Phone",-1)),t("a",{href:`tel:${e.client.key_contact_phone}`,class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},o(e.client.key_contact_phone),9,at)])])):c("",!0),e.client.full_address?(l(),a("div",lt,[i(n,{name:"MapPin",class:"w-5 h-5 text-gray-500 mt-0.5"}),t("div",null,[s[6]||(s[6]=t("div",{class:"text-sm text-gray-500"},"Address",-1)),t("div",nt,o(e.client.full_address),1)])])):c("",!0),e.client.website?(l(),a("div",rt,[i(n,{name:"Globe",class:"w-5 h-5 text-gray-500"}),t("div",null,[s[7]||(s[7]=t("div",{class:"text-sm text-gray-500"},"Website",-1)),t("a",{href:e.client.website,target:"_blank",class:"font-medium text-black hover:text-gray-900 dark:text-white dark:hover:text-gray-100"},[x(o(e.client.website.replace(/^https?:\/\//,""))+" ",1),i(n,{name:"ExternalLink",class:"w-3 h-3 inline ml-1"})],8,dt)])])):c("",!0)])])]),e.client.notes?(l(),a("div",ct,[t("div",mt,[s[9]||(s[9]=t("h2",{class:"text-lg font-semibold mb-4"},"Notes",-1)),t("div",gt,[t("p",ht,o(e.client.notes),1)])])])):c("",!0),t("div",yt,[t("div",ut,[t("div",vt,[s[11]||(s[11]=t("h2",{class:"text-lg font-semibold"},"Projects",-1)),t("div",ft,[s[10]||(s[10]=t("span",null,"Project Filter:",-1)),t("select",{class:"rounded-md border border-gray-300 bg-white px-2 py-1 text-xs text-gray-900 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-600 dark:focus:border-gray-100 dark:focus:ring-gray-100",value:e.client.id,onChange:s[0]||(s[0]=()=>{typeof e.window<"u"&&e.window.dispatchEvent(new e.CustomEvent("clientFilterChanged",{detail:{clientId:e.client.id,clientName:e.client.name}}))})},[t("option",{value:e.client.id},o(e.client.name),9,pt)],40,xt)])]),e.client.projects.length>0?(l(),a("div",_t,[(l(!0),a(b,null,j(e.client.projects,r=>(l(),a("div",{key:r.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("div",bt,[t("div",{class:"w-3 h-3 rounded-full",style:N({backgroundColor:r.color})},null,4),t("div",null,[t("div",kt,o(r.name),1),t("div",wt,o(r.key),1)])]),t("div",Ct,[t("div",null,o(r.stats.completed)+"/"+o(r.stats.total)+" tasks",1),t("div",Ft,o(r.stats.completion_rate)+"% complete",1)])]))),128))])):(l(),a("div",St," No projects assigned to this client yet. "))])])]),t("div",At,[t("div",Et,[t("div",jt,[s[16]||(s[16]=t("h2",{class:"text-lg font-semibold mb-4"},"Statistics",-1)),t("div",Nt,[t("div",Pt,[t("div",Bt,o(e.client.stats.total_projects),1),s[12]||(s[12]=t("div",{class:"text-sm text-gray-500"},"Projects",-1))]),t("div",Mt,[t("div",Tt,o(e.client.stats.total_todos),1),s[13]||(s[13]=t("div",{class:"text-sm text-gray-500"},"Total Tasks",-1))]),t("div",Vt,[t("div",$t,o(e.client.stats.completed_todos),1),s[14]||(s[14]=t("div",{class:"text-sm text-gray-500"},"Completed",-1))]),t("div",Dt,[t("div",It,o(e.client.stats.completion_rate)+"%",1),s[15]||(s[15]=t("div",{class:"text-sm text-gray-500"},"Completion Rate",-1))])])])])])])])])]),_:1},8,["company"])],64))}});export{se as default};
