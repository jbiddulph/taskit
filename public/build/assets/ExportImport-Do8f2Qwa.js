import{d as q,D as L,K as h,r as W,c as I,a as p,o as n,f as o,A as s,J as G,q as l,b as t,e as c,p as K,t as r,g as i,w as j,h as x,F as y,j as b,E as g}from"./app-CkcNsLUW.js";import{_ as F}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CdOJwB1P.js";import{_ as w,b as S,c as k,d as O,a as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-De6q3sj9.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BMhqQABP.js";import{_ as H,a as Q}from"./Layout.vue_vue_type_script_setup_true_lang-DFyLLpBQ.js";import{_ as R}from"./Input.vue_vue_type_script_setup_true_lang-BFZ7L4ab.js";import{D as V,i as X,F as $,P as N,j as M,k as Y,l as Z,g as B,C as ee,b as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-fd6zUre2.js";import"./useForwardExpose-C2EWmRFu.js";import"./index-y7MiuvJb.js";import"./index-Chnu9G4N.js";import"./check-69nupJAv.js";const se={class:"space-y-6"},oe={key:0,class:"rounded-md bg-green-50 p-4 border border-green-200"},le={class:"flex"},ae={class:"ml-3"},re={class:"text-sm font-medium text-green-800"},ie={class:"space-y-2"},ne=["value"],de={key:0,class:"text-sm text-red-600"},ue={class:"space-y-2"},pe=["value"],me={key:0,class:"text-sm text-red-600"},fe={class:"rounded-md bg-yellow-50 p-4 border border-yellow-200"},ce={class:"flex"},ye={class:"flex-shrink-0"},_e={class:"space-y-2"},ve=["value"],xe={key:0,class:"text-sm text-red-600"},be={class:"space-y-2"},ge={key:0,class:"text-sm text-red-600"},we={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2 text-sm"},Se={class:"font-mono"},Me=q({__name:"ExportImport",props:{user:{},company:{}},setup(ke){const D=L(),d=h({data_type:"",format:""}),u=h({file:null,import_type:""}),v=W(),J=()=>{d.post("/settings/export",{preserveScroll:!0,onSuccess:()=>{}})},P=f=>{const e=f.target;e.files&&e.files.length>0&&(u.file=e.files[0])},T=()=>{u.post("/settings/import",{preserveScroll:!0,onSuccess:()=>{u.reset(),v.value&&(v.value.value="")}})},m=I(()=>D.props.errors||{}),E=I(()=>D.props.flash?.success||""),U=[{value:"all",label:"All Data",icon:X,description:"Export everything: projects, todos, comments, and users"},{value:"projects",label:"Projects Only",icon:$,description:"Export only project information"},{value:"todos",label:"To-Dos Only",icon:N,description:"Export only task information"},{value:"comments",label:"Comments Only",icon:M,description:"Export only comment information"}],z=[{value:"json",label:"JSON Format",icon:Y,description:"Structured data format, best for re-importing"},{value:"csv",label:"CSV Format",icon:Z,description:"Spreadsheet format, best for analysis"}],A=[{value:"projects",label:"Projects",icon:$,description:"Import project data"},{value:"todos",label:"To-Dos",icon:N,description:"Import task data"},{value:"comments",label:"Comments",icon:M,description:"Import comment data"}];return(f,e)=>(n(),p(y,null,[o(s(G),{title:"Export & Import"}),o(te,null,{default:l(()=>[o(H,null,{default:l(()=>[t("div",se,[e[22]||(e[22]=t("div",null,[t("h3",{class:"text-lg font-medium"},"Export & Import"),t("p",{class:"text-sm text-muted-foreground"}," Export your company data for backup or analysis, and import data from external sources. ")],-1)),o(s(Q)),E.value?(n(),p("div",oe,[t("div",le,[e[3]||(e[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),t("div",ae,[t("p",re,r(E.value),1)])])])):c("",!0),o(s(w),null,{default:l(()=>[o(s(S),null,{default:l(()=>[o(s(k),{class:"flex items-center gap-2"},{default:l(()=>[o(s(V),{class:"h-5 w-5 text-blue-600"}),e[4]||(e[4]=i(" Export Data ",-1))]),_:1,__:[4]}),o(s(O),null,{default:l(()=>e[5]||(e[5]=[i(" Download your company data in JSON or CSV format for backup or analysis. ",-1)])),_:1,__:[5]})]),_:1}),o(s(C),{class:"space-y-6"},{default:l(()=>[t("form",{onSubmit:j(J,["prevent"]),class:"space-y-4"},[t("div",ie,[o(s(_),{for:"data_type"},{default:l(()=>e[6]||(e[6]=[i("What data would you like to export?",-1)])),_:1,__:[6]}),x(t("select",{id:"data_type",name:"data_type","onUpdate:modelValue":e[0]||(e[0]=a=>s(d).data_type=a),class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"},[e[7]||(e[7]=t("option",{value:""},"Select data type...",-1)),(n(),p(y,null,b(U,a=>t("option",{key:a.value,value:a.value},r(a.label)+" - "+r(a.description),9,ne)),64))],512),[[g,s(d).data_type]]),m.value.data_type?(n(),p("p",de,r(m.value.data_type),1)):c("",!0)]),t("div",ue,[o(s(_),{for:"format"},{default:l(()=>e[8]||(e[8]=[i("Export format",-1)])),_:1,__:[8]}),x(t("select",{id:"format",name:"format","onUpdate:modelValue":e[1]||(e[1]=a=>s(d).format=a),class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"},[e[9]||(e[9]=t("option",{value:""},"Select format...",-1)),(n(),p(y,null,b(z,a=>t("option",{key:a.value,value:a.value},r(a.label)+" - "+r(a.description),9,pe)),64))],512),[[g,s(d).format]]),m.value.format?(n(),p("p",me,r(m.value.format),1)):c("",!0)]),o(s(F),{type:"submit",disabled:s(d).processing||!s(d).data_type||!s(d).format,class:"w-full"},{default:l(()=>[o(s(V),{class:"mr-2 h-4 w-4"}),i(" "+r(s(d).processing?"Preparing Export...":"Export Data"),1)]),_:1},8,["disabled"])],32)]),_:1})]),_:1}),o(s(w),null,{default:l(()=>[o(s(S),null,{default:l(()=>[o(s(k),{class:"flex items-center gap-2"},{default:l(()=>[o(s(B),{class:"h-5 w-5 text-green-600"}),e[10]||(e[10]=i(" Import Data ",-1))]),_:1,__:[10]}),o(s(O),null,{default:l(()=>e[11]||(e[11]=[i(" Upload a JSON or CSV file to import data into your company workspace. ",-1)])),_:1,__:[11]})]),_:1}),o(s(C),{class:"space-y-6"},{default:l(()=>[t("div",fe,[t("div",ce,[t("div",ye,[o(s(ee),{class:"h-5 w-5 text-yellow-400"})]),e[12]||(e[12]=t("div",{class:"ml-3"},[t("h4",{class:"text-sm font-medium text-yellow-800"},"Import Guidelines"),t("div",{class:"mt-2 text-sm text-yellow-700"},[t("ul",{class:"list-disc list-inside space-y-1"},[t("li",null,"Ensure your file follows the correct format (JSON/CSV)"),t("li",null,"Projects will be assigned to you as the owner"),t("li",null,"Duplicate data may be created if records already exist"),t("li",null,"Maximum file size: 10MB")])])],-1))])]),t("form",{onSubmit:j(T,["prevent"]),class:"space-y-4"},[t("div",_e,[o(s(_),{for:"import_type"},{default:l(()=>e[13]||(e[13]=[i("What type of data are you importing?",-1)])),_:1,__:[13]}),x(t("select",{id:"import_type",name:"import_type","onUpdate:modelValue":e[2]||(e[2]=a=>s(u).import_type=a),class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"},[e[14]||(e[14]=t("option",{value:""},"Select import type...",-1)),(n(),p(y,null,b(A,a=>t("option",{key:a.value,value:a.value},r(a.label)+" - "+r(a.description),9,ve)),64))],512),[[g,s(u).import_type]]),m.value.import_type?(n(),p("p",xe,r(m.value.import_type),1)):c("",!0)]),t("div",be,[o(s(_),{for:"file"},{default:l(()=>e[15]||(e[15]=[i("Select file to import",-1)])),_:1,__:[15]}),o(s(R),{ref_key:"fileInput",ref:v,type:"file",accept:".json,.csv,.txt",onChange:P,class:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,512),e[16]||(e[16]=t("p",{class:"text-xs text-muted-foreground"}," Supported formats: JSON, CSV (max 10MB) ",-1)),m.value.file?(n(),p("p",ge,r(m.value.file),1)):c("",!0)]),o(s(F),{type:"submit",disabled:s(u).processing||!s(u).file||!s(u).import_type,class:"w-full"},{default:l(()=>[o(s(B),{class:"mr-2 h-4 w-4"}),i(" "+r(s(u).processing?"Importing...":"Import Data"),1)]),_:1},8,["disabled"])],32)]),_:1})]),_:1}),f.company?(n(),K(s(w),{key:1},{default:l(()=>[o(s(S),null,{default:l(()=>[o(s(k),{class:"text-sm"},{default:l(()=>e[17]||(e[17]=[i("Export Information",-1)])),_:1,__:[17]})]),_:1}),o(s(C),null,{default:l(()=>[t("dl",we,[t("div",null,[e[18]||(e[18]=t("dt",{class:"font-medium text-muted-foreground"},"Company",-1)),t("dd",null,r(f.company.name),1)]),t("div",null,[e[19]||(e[19]=t("dt",{class:"font-medium text-muted-foreground"},"Company Code",-1)),t("dd",Se,r(f.company.code),1)]),t("div",null,[e[20]||(e[20]=t("dt",{class:"font-medium text-muted-foreground"},"Subscription",-1)),t("dd",null,r(f.company.subscription_type),1)]),t("div",null,[e[21]||(e[21]=t("dt",{class:"font-medium text-muted-foreground"},"Exported by",-1)),t("dd",null,r(f.user.name)+" ("+r(f.user.email)+")",1)])])]),_:1})]),_:1})):c("",!0)])]),_:1})]),_:1})],64))}});export{Me as default};
