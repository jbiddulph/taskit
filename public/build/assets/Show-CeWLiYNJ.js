import{d as A,u as j,r as _,c as i,o as a,a as l,b as r,h as F,w as g,e as t,l as p,j as y,t as o,i as c,F as f,k as E,m as N,n as x}from"./app-DXAI_yF1.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-DIqnyz_V.js";import{_ as n}from"./realtimeService-ROP44FhX.js";import{i as M,e as P,d as T}from"./index-D5INol4S.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-BVzqqjuK.js";import"./index-DFd0VpSk.js";import"./useForwardExpose-BrAsb0oF.js";import"./Presence-CdRCB9Ii.js";import"./x-BR3aCEYe.js";import"./VisuallyHidden-CgyRXe1U.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DRPUU-zI.js";import"./check-C61oeIL5.js";import"./lock-Dw6Kzknz.js";import"./globe-BGDtczYB.js";import"./loader-circle-8mqh32Zo.js";const V=["title"],$=["title"],D=["title"],L={class:"py-12"},z={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},H={class:"mb-6"},U={class:"flex items-center gap-4 mb-4"},q={class:"flex justify-between items-start"},G={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},I={class:"text-gray-600 dark:text-gray-400 mt-1"},K={class:"flex gap-3"},R=["disabled"],W={key:0},J={key:1},O={class:"grid gap-6 lg:grid-cols-3"},Q={class:"lg:col-span-2 space-y-6"},X={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6"},Z={class:"space-y-4"},tt={key:0,class:"flex items-center gap-3"},et={class:"font-medium"},st={key:1,class:"flex items-center gap-3"},ot=["href"],lt={key:2,class:"flex items-center gap-3"},it=["href"],at={key:3,class:"flex items-start gap-3"},nt={class:"font-medium whitespace-pre-line"},dt={key:4,class:"flex items-center gap-3"},rt=["href"],ct={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},mt={class:"p-6"},ut={class:"prose dark:prose-invert max-w-none"},ht={class:"whitespace-pre-wrap"},gt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},vt={class:"p-6"},_t={key:0,class:"space-y-3"},yt={class:"flex items-center gap-3"},xt={class:"font-medium"},pt={class:"text-sm text-gray-500"},ft={class:"text-right text-sm"},bt={class:"text-gray-500"},kt={key:1,class:"text-center py-8 text-gray-500"},wt={class:"space-y-6"},Ct={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},St={class:"p-6"},At={class:"space-y-4"},jt={class:"text-center"},Ft={class:"text-3xl font-bold text-blue-600"},Et={class:"text-center"},Nt={class:"text-3xl font-bold text-green-600"},Bt={class:"text-center"},Mt={class:"text-3xl font-bold text-purple-600"},Pt={class:"text-center"},Tt={class:"text-3xl font-bold text-orange-600"},Xt=A({__name:"Show",props:{client:{},company:{}},setup(b){const v=j({}),k=()=>{confirm("Are you sure you want to delete this client? This will remove the client association from all projects but will not delete the projects themselves.")&&v.delete(T.url(b.client.id))},m=_(!1),u=_(!1),h=_(!1),w=()=>{m.value=!m.value},C=()=>{u.value=!u.value},S=()=>{h.value=!h.value};return(s,e)=>(a(),i(f,null,[l(r(F),{title:s.client.name},null,8,["title"]),l(B,{company:s.company},{dashboardActions:g(()=>[t("button",{onClick:w,title:m.value?"Hide Calendar":"Show Calendar",class:x(["inline-flex items-center justify-center p-2 transition-colors",m.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[l(n,{name:"Calendar",class:"w-5 h-5"})],10,V),t("button",{onClick:C,title:u.value?"Hide Activity Feed":"Show Activity Feed",class:x(["inline-flex items-center justify-center p-2 transition-colors",u.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[l(n,{name:"Activity",class:"w-5 h-5"})],10,$),t("button",{onClick:S,title:h.value?"Exit Select Mode":"Select for Bulk Update",class:x(["inline-flex items-center justify-center p-2 transition-colors",h.value?"text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"])},[l(n,{name:"CheckSquare",class:"w-5 h-5"})],10,D)]),default:g(()=>[t("div",L,[t("div",z,[t("div",H,[t("div",U,[l(r(p),{href:r(M).url(),class:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"},{default:g(()=>[l(n,{name:"ArrowLeft",class:"w-4 h-4"}),e[0]||(e[0]=y(" Back to Clients ",-1))]),_:1,__:[0]},8,["href"])]),t("div",q,[t("div",null,[t("h1",G,o(s.client.name),1),t("p",I," Added by "+o(s.client.created_by)+" on "+o(s.client.created_at),1)]),t("div",K,[l(r(p),{href:r(P).url(s.client.id),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"},{default:g(()=>[l(n,{name:"Edit",class:"w-4 h-4"}),e[1]||(e[1]=y(" Edit ",-1))]),_:1,__:[1]},8,["href"]),t("button",{onClick:k,disabled:r(v).processing,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[l(n,{name:"Trash2",class:"w-4 h-4"}),r(v).processing?(a(),i("span",W,"Deleting...")):(a(),i("span",J,"Delete"))],8,R)])])]),t("div",O,[t("div",Q,[t("div",X,[t("div",Y,[e[7]||(e[7]=t("h2",{class:"text-lg font-semibold mb-4"},"Contact Information",-1)),t("div",Z,[s.client.key_contact_name?(a(),i("div",tt,[l(n,{name:"User",class:"w-5 h-5 text-gray-500"}),t("div",null,[e[2]||(e[2]=t("div",{class:"text-sm text-gray-500"},"Key Contact",-1)),t("div",et,o(s.client.key_contact_name),1)])])):c("",!0),s.client.key_contact_email?(a(),i("div",st,[l(n,{name:"Mail",class:"w-5 h-5 text-gray-500"}),t("div",null,[e[3]||(e[3]=t("div",{class:"text-sm text-gray-500"},"Email",-1)),t("a",{href:`mailto:${s.client.key_contact_email}`,class:"font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"},o(s.client.key_contact_email),9,ot)])])):c("",!0),s.client.key_contact_phone?(a(),i("div",lt,[l(n,{name:"Phone",class:"w-5 h-5 text-gray-500"}),t("div",null,[e[4]||(e[4]=t("div",{class:"text-sm text-gray-500"},"Phone",-1)),t("a",{href:`tel:${s.client.key_contact_phone}`,class:"font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"},o(s.client.key_contact_phone),9,it)])])):c("",!0),s.client.full_address?(a(),i("div",at,[l(n,{name:"MapPin",class:"w-5 h-5 text-gray-500 mt-0.5"}),t("div",null,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-500"},"Address",-1)),t("div",nt,o(s.client.full_address),1)])])):c("",!0),s.client.website?(a(),i("div",dt,[l(n,{name:"Globe",class:"w-5 h-5 text-gray-500"}),t("div",null,[e[6]||(e[6]=t("div",{class:"text-sm text-gray-500"},"Website",-1)),t("a",{href:s.client.website,target:"_blank",class:"font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"},[y(o(s.client.website.replace(/^https?:\/\//,""))+" ",1),l(n,{name:"ExternalLink",class:"w-3 h-3 inline ml-1"})],8,rt)])])):c("",!0)])])]),s.client.notes?(a(),i("div",ct,[t("div",mt,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold mb-4"},"Notes",-1)),t("div",ut,[t("p",ht,o(s.client.notes),1)])])])):c("",!0),t("div",gt,[t("div",vt,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold mb-4"},"Projects",-1)),s.client.projects.length>0?(a(),i("div",_t,[(a(!0),i(f,null,E(s.client.projects,d=>(a(),i("div",{key:d.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("div",yt,[t("div",{class:"w-3 h-3 rounded-full",style:N({backgroundColor:d.color})},null,4),t("div",null,[t("div",xt,o(d.name),1),t("div",pt,o(d.key),1)])]),t("div",ft,[t("div",null,o(d.stats.completed)+"/"+o(d.stats.total)+" tasks",1),t("div",bt,o(d.stats.completion_rate)+"% complete",1)])]))),128))])):(a(),i("div",kt," No projects assigned to this client yet. "))])])]),t("div",wt,[t("div",Ct,[t("div",St,[e[14]||(e[14]=t("h2",{class:"text-lg font-semibold mb-4"},"Statistics",-1)),t("div",At,[t("div",jt,[t("div",Ft,o(s.client.stats.total_projects),1),e[10]||(e[10]=t("div",{class:"text-sm text-gray-500"},"Projects",-1))]),t("div",Et,[t("div",Nt,o(s.client.stats.total_todos),1),e[11]||(e[11]=t("div",{class:"text-sm text-gray-500"},"Total Tasks",-1))]),t("div",Bt,[t("div",Mt,o(s.client.stats.completed_todos),1),e[12]||(e[12]=t("div",{class:"text-sm text-gray-500"},"Completed",-1))]),t("div",Pt,[t("div",Tt,o(s.client.stats.completion_rate)+"%",1),e[13]||(e[13]=t("div",{class:"text-sm text-gray-500"},"Completion Rate",-1))])])])])])])])])]),_:1},8,["company"])],64))}});export{Xt as default};
