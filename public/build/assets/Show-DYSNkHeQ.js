import{d as T,r as k,p as B,o as r,w as l,e,a as s,c as m,j as d,t as n,g as F,s as C,v as V,b as i,i as I,n as $,F as D,k as E,m as U,x as X,q as A}from"./app-BsDcms0y.js";import{_ as L}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-DSJu9tnP.js";import{_ as P}from"./Heading.vue_vue_type_script_setup_true_lang-DXP6B7I3.js";import{_ as y,a as _,b as f,c as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-alXhisRm.js";import{_ as p}from"./realtimeService-Ch5aMGjF.js";import"./index-BSblr4iX.js";import"./useForwardExpose-CEFSZAzh.js";import"./Presence-8zfM-I3p.js";import"./x-C45ZuI8J.js";import"./VisuallyHidden-B0y2ibLU.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CLH8maKF.js";import"./check-OlPdrdZB.js";import"./lock-Bzs2QBbK.js";import"./globe-CUoq0-bI.js";import"./loader-circle-7gpi_qZp.js";const z={class:"space-y-6 p-6"},K={class:"flex items-center gap-2"},O={key:0,class:"flex items-center gap-2"},R={key:1,class:"flex items-center gap-2"},q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},J={class:"text-lg font-semibold"},G={class:"text-lg font-mono"},H={key:0},Q={class:"text-gray-700"},W={class:"flex items-center gap-2"},Y={class:"text-lg"},Z={key:0},j={key:1},ee={key:2},te={class:"text-lg"},se={key:0},ae={key:1},ne={key:2},oe={class:"overflow-hidden"},le={class:"space-y-3"},ie={class:"font-medium"},re={class:"text-sm text-gray-500"},me={class:"text-sm text-gray-500"},de={class:"overflow-hidden"},ce={class:"space-y-3"},pe=["onClick"],ue={class:"font-medium flex items-center gap-2"},ye={class:"inline-flex items-center rounded-full bg-gray-200 dark:bg-gray-600 px-2 py-0.5 text-xs text-gray-700 dark:text-gray-200"},_e={class:"text-sm text-gray-500"},fe={key:0,class:"text-sm text-blue-600"},ge={class:"text-right"},be={class:"text-sm text-gray-500"},ve={class:"text-sm text-gray-500"},Xe=T({__name:"Show",props:{company:{},members:{},projects:{}},setup(N){const b=N,u=k(!1),c=k(""),v=k(),x=t=>new Date(t).toLocaleDateString(),M=t=>{const a={FREE:"bg-gray-100 text-gray-800",MIDI:"bg-blue-100 text-blue-800",MAXI:"bg-green-100 text-green-800"};return a[t]||a.FREE},S=async()=>{u.value=!0,c.value=b.company.name,await X(),v.value?.focus(),v.value?.select()},h=()=>{c.value.trim()&&c.value!==b.company.name&&A.put(`/companies/${b.company.id}`,{name:c.value.trim()},{preserveState:!0,preserveScroll:!0}),u.value=!1},w=()=>{u.value=!1,c.value=""};return(t,a)=>(r(),B(L,{company:t.company},{default:l(()=>[e("div",z,[e("div",K,[u.value?(r(),m("div",R,[F(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>c.value=o),onKeydown:[C(h,["enter"]),C(w,["escape"])],onBlur:h,class:"text-3xl font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b-2 border-blue-500 focus:outline-none focus:border-blue-600",placeholder:"Enter company name",ref_key:"nameInput",ref:v},null,544),[[V,c.value]]),e("button",{onClick:h,class:"p-1 text-green-500 hover:text-green-600 transition-colors",title:"Save"},[s(p,{name:"Check",class:"w-5 h-5"})]),e("button",{onClick:w,class:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Cancel"},[s(p,{name:"X",class:"w-5 h-5"})])])):(r(),m("div",O,[s(P,{title:t.company.name},{default:l(()=>[d(n(t.company.name),1)]),_:1},8,["title"]),e("button",{onClick:S,class:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit company name"},[s(p,{name:"Edit3",class:"w-5 h-5"})])]))]),e("div",q,[s(i(y),null,{default:l(()=>[s(i(_),null,{default:l(()=>[s(i(f),{class:"flex items-center gap-2"},{default:l(()=>[s(p,{name:"Building",class:"w-5 h-5"}),a[1]||(a[1]=d(" Company Information ",-1))]),_:1,__:[1]})]),_:1}),s(i(g),{class:"space-y-4"},{default:l(()=>[e("div",null,[a[2]||(a[2]=e("label",{class:"text-sm font-medium text-gray-500"},"Company Name",-1)),e("p",J,n(t.company.name),1)]),e("div",null,[a[3]||(a[3]=e("label",{class:"text-sm font-medium text-gray-500"},"Company Code",-1)),e("p",G,n(t.company.code),1)]),t.company.description?(r(),m("div",H,[a[4]||(a[4]=e("label",{class:"text-sm font-medium text-gray-500"},"Description",-1)),e("p",Q,n(t.company.description),1)])):I("",!0),e("div",null,[a[5]||(a[5]=e("label",{class:"text-sm font-medium text-gray-500"},"Created",-1)),e("p",null,n(x(t.company.created_at)),1)])]),_:1})]),_:1}),s(i(y),null,{default:l(()=>[s(i(_),null,{default:l(()=>[s(i(f),{class:"flex items-center gap-2"},{default:l(()=>[s(p,{name:"CreditCard",class:"w-5 h-5"}),a[6]||(a[6]=d(" Subscription Details ",-1))]),_:1,__:[6]})]),_:1}),s(i(g),{class:"space-y-4"},{default:l(()=>[e("div",null,[a[7]||(a[7]=e("label",{class:"text-sm font-medium text-gray-500"},"Plan",-1)),e("div",W,[e("span",{class:$([M(t.company.subscription_type),"px-2 py-1 rounded-full text-sm font-medium"])},n(t.company.subscription_type),3)])]),e("div",null,[a[8]||(a[8]=e("label",{class:"text-sm font-medium text-gray-500"},"Members",-1)),e("p",Y,[d(n(t.company.current_member_count)+" / ",1),t.company.subscription_type==="MAXI"?(r(),m("span",Z,"Unlimited")):t.company.subscription_type==="MIDI"?(r(),m("span",j,"10")):(r(),m("span",ee,n(t.company.member_limit),1))])]),e("div",null,[a[9]||(a[9]=e("label",{class:"text-sm font-medium text-gray-500"},"Projects",-1)),e("p",te,[d(n(t.company.current_project_count)+" / ",1),t.company.subscription_type==="MAXI"?(r(),m("span",se,"Unlimited")):t.company.subscription_type==="MIDI"?(r(),m("span",ae,"20")):(r(),m("span",ne,n(t.company.project_limit),1))])])]),_:1})]),_:1})]),s(i(y),null,{default:l(()=>[s(i(_),null,{default:l(()=>[s(i(f),{class:"flex items-center gap-2"},{default:l(()=>[s(p,{name:"Users",class:"w-5 h-5"}),d(" Team Members ("+n(t.members.length)+") ",1)]),_:1})]),_:1}),s(i(g),null,{default:l(()=>[e("div",oe,[e("div",le,[(r(!0),m(D,null,E(t.members,o=>(r(),m("div",{key:o.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",null,[e("p",ie,n(o.name),1),e("p",re,n(o.email),1)]),e("div",me," Joined "+n(x(o.created_at)),1)]))),128))])])]),_:1})]),_:1}),s(i(y),null,{default:l(()=>[s(i(_),null,{default:l(()=>[s(i(f),{class:"flex items-center gap-2"},{default:l(()=>[s(p,{name:"FolderOpen",class:"w-5 h-5"}),d(" Projects ("+n(t.projects.length)+") ",1)]),_:1})]),_:1}),s(i(g),null,{default:l(()=>[e("div",de,[e("div",ce,[(r(!0),m(D,null,E(t.projects,o=>(r(),m("div",{key:o.id,class:$(["flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-[6px] cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",o.color?"":"border-l-blue-500"]),style:U(o.color?{borderLeftColor:o.color}:void 0),onClick:xe=>t.$inertia.visit(`/projects/${o.id}`)},[e("div",null,[e("p",ue,[d(n(o.name)+" ",1),e("span",ye,n(o.total_todos??0)+" "+n((o.total_todos??0)===1?"Todo":"Todos"),1)]),e("p",_e,n(o.key),1),o.client?(r(),m("p",fe,n(o.client.name),1)):I("",!0)]),e("div",ge,[e("p",be,"Owner: "+n(o.owner.name),1),e("p",ve,n(x(o.created_at)),1)])],14,pe))),128))])])]),_:1})]),_:1})])]),_:1},8,["company"]))}});export{Xe as default};
