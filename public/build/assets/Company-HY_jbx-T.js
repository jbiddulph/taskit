import{d as ce,D as pe,A as h,u as B,r as b,c as d,o as i,a as s,b as t,h as ge,w as l,e,i as u,p as I,l as be,j as r,t as n,F as O,k as fe,n as S,q as F}from"./app-ChVc29wN.js";import{_ as T}from"./index-2dNpGkN1.js";import{_ as f,c as x,a as A,b as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-B2cN908R.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-DXofyUJM.js";import{_ as q}from"./Input.vue_vue_type_script_setup_true_lang-Gyj465lH.js";import{_ as R}from"./Label.vue_vue_type_script_setup_true_lang-Bk_PHjlE.js";import{_ as xe}from"./AppLayout.vue_vue_type_script_setup_true_lang-CiPjbt9a.js";import{_ as ve}from"./Layout.vue_vue_type_script_setup_true_lang-BpZujFU5.js";import{_ as ye,I as E,b as Q,E as G,g as ke,h as _e,i as he,j as we}from"./realtimeService-Dc0rngrr.js";import{C as ee}from"./lock-Bg1ET6WD.js";import{G as Z}from"./globe-BNUdEAXc.js";import"./useForwardExpose-BFy65UgU.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-ByJv9x6E.js";import"./Presence-C88m1tPn.js";import"./x-CL3fb_bP.js";import"./VisuallyHidden-Cg1lbCl_.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BaN0G1lI.js";import"./check-CO57XRK3.js";import"./Heading.vue_vue_type_script_setup_true_lang-P2UXFXVn.js";import"./index-8O20627j.js";import"./index-ObrdfWFb.js";import"./loader-circle-BOZLX3Lw.js";const Ce={class:"space-y-6"},Se={class:"flex items-center gap-3 mb-2"},Te={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Ae={key:0,class:"text-lg font-normal text-gray-600 dark:text-gray-400 ml-2"},Le={class:"mb-6"},Pe={class:"flex items-start gap-3"},Ie={key:0,class:"mb-6"},Fe={class:"flex items-center gap-2 text-amber-700 dark:text-amber-300"},Ue={key:1,class:"mb-6"},Ee={class:"flex items-center gap-2 text-green-700 dark:text-green-300"},je={class:"text-sm font-medium"},De={key:2,class:"mb-6"},$e={class:"flex items-center gap-2 text-red-700 dark:text-red-300"},ze={class:"text-sm font-medium"},Me={key:3,class:"mb-6"},Ne={class:"space-y-3"},Ve={class:"text-sm text-blue-700 dark:text-blue-300"},Be={class:"font-medium mb-2"},Re={class:"list-decimal list-inside space-y-1"},Ge={class:"flex gap-2 mt-1"},Ze={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},He={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ye={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},qe={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Je={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Xe={class:"mt-4"},Ke={key:0,class:"text-sm text-red-600 dark:text-red-400"},We={key:1,class:"space-y-2 text-sm"},Oe={class:"flex items-center gap-2"},Qe={key:0,class:"text-xs text-gray-500"},ea={class:"flex items-center gap-2"},aa={key:0,class:"text-xs text-gray-500"},ta={key:1,class:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},sa={class:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2"},la={class:"flex items-center gap-2"},oa=["href"],ra={key:2,class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg"},na={class:"flex items-center gap-2 text-amber-700 dark:text-amber-300 mb-2"},ia={class:"flex items-center gap-2"},da=["href"],ua={key:3},ma={class:"space-y-4"},ca={class:"relative"},pa={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},ga={key:0,class:"animate-spin"},ba={key:1,class:"text-green-500"},fa={key:2,class:"text-red-500"},xa={key:0,class:"mt-2"},va={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ya={class:"font-mono"},ka={class:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg"},_a={class:"flex items-center gap-3"},ha={class:"flex items-center justify-center w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded border"},wa=["src","alt"],Ca={key:1,class:"flex items-center gap-1 text-xs font-bold text-blue-600 dark:text-blue-400"},Sa={class:"font-medium text-gray-900 dark:text-gray-100"},Ta={class:"text-sm text-gray-600 dark:text-gray-400"},Aa={class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},La={class:"text-sm text-blue-700 dark:text-blue-300"},Pa={class:"space-y-1 text-xs"},Ia={key:0,class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Fa={class:"flex-1"},Ua={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ea={class:"text-xs text-gray-600 dark:text-gray-400"},ja={class:"flex items-center justify-between"},Da={class:"space-y-1"},$a={key:0,class:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},za={class:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2"},Ma={class:"space-y-2"},Na={class:"flex items-center gap-2"},Va=["href"],Ba={class:"flex items-center gap-2"},Ra=["href"],ct=ce({__name:"Company",props:{user:{},company:{}},setup(ae){const g=ae,J=pe(),P=h(()=>g.company&&["MIDI","MAXI"].includes(g.company.subscription_type)),te=B({}),y=B({company_name:g.company?.name||""}),v=B({is_public:g.company?.is_public||!1}),k=B({name:g.company?.name||""}),m=b({checking:!1,available:null,message:"",subdomain:"",url:""});let H=null;const Y=b(),j=b(!1),D=b(!1),$=b(!1),_=b(null),w=b(""),z=b(""),M=b(!1),c=b(null),se=o=>{const a=o.target;a.files&&a.files[0]&&(_.value=a.files[0],w.value="")},le=async()=>{if(!(!_.value||!g.company)){j.value=!0,w.value="";try{const o=await we(_.value,g.company.name,g.company.code);F.post("/settings/company-logo/update-url",{logo_url:o},{onSuccess:()=>{_.value=null,Y.value&&(Y.value.value=""),F.reload()},onError:a=>{w.value=a.logo||"Failed to update logo URL"}})}catch(o){console.error("Logo upload failed:",o),w.value="Failed to upload logo to storage. Please try again."}finally{j.value=!1}}},oe=()=>{D.value=!0,te.delete("/settings/company-logo/remove",{onFinish:()=>{D.value=!1}})},re=()=>{if(!g.company)return;const o=m.value.subdomain||y.company_name;$.value=!0,z.value="",y.company_name=o,y.post("/settings/company/subdomain",{onSuccess:()=>{F.reload()},onError:a=>{z.value=a.subdomain||"Failed to create subdomain"},onFinish:()=>{$.value=!1}})},ne=async()=>{M.value=!0,c.value=null;try{const a=await(await fetch("/settings/company/api-permissions")).json();c.value=a}catch(o){console.error("Error checking API permissions:",o),c.value={error:"Failed to check API permissions"}}finally{M.value=!1}},ie=async o=>{if(o.length<3){m.value={checking:!1,available:null,message:"",subdomain:"",url:""};return}m.value.checking=!0;try{const a=await fetch(`/settings/company/check-subdomain?subdomain=${encodeURIComponent(o)}`);if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);const p=await a.json();m.value={checking:!1,available:p.available,message:p.message,subdomain:p.subdomain||o,url:p.url||""}}catch(a){console.error("Failed to check subdomain availability:",a),m.value={checking:!1,available:null,message:"Unable to check availability",subdomain:o,url:""}}},de=o=>{const a=o.target;let p=a.value;p=p.toLowerCase().replace(/\s+/g,"-"),a.value=p,y.company_name=p,H&&clearTimeout(H),H=setTimeout(()=>{ie(p)},500)},ue=()=>{k.patch("/settings/company/name",{onSuccess:()=>{F.reload()},onError:o=>{console.error("Failed to update company name:",o)}})},me=()=>{v.is_public=!v.is_public,v.patch("/settings/company/public",{onSuccess:()=>{F.reload()},onError:o=>{console.error("Failed to update public dashboard setting:",o)}})},C=h(()=>J.props.errors||{}),X=h(()=>J.props.flash?.success||""),K=h(()=>g.company?.logo_url),N=h(()=>!!K.value),W=h(()=>!!g.company?.subdomain),V=h(()=>g.company?.subdomain_url);return(o,a)=>(i(),d(O,null,[s(t(ge),{title:"Company Settings"}),s(xe,null,{default:l(()=>[s(ve,null,{default:l(()=>[e("div",Ce,[e("div",null,[e("div",Se,[s(t(be),{href:"/dashboard",class:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center gap-2"},{default:l(()=>[s(ye,{name:"ArrowLeft",class:"w-4 h-4"}),a[2]||(a[2]=e("span",{class:"text-sm font-medium"},"Dashboard",-1))]),_:1,__:[2]})]),e("h1",Te,[a[3]||(a[3]=r(" Company Settings ",-1)),o.company?(i(),d("span",Ae," - "+n(o.company.name),1)):u("",!0)]),a[4]||(a[4]=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Manage your company's branding and subdomain. ",-1))]),e("div",Le,[s(t(f),{class:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20"},{default:l(()=>[s(t(x),{class:"p-4"},{default:l(()=>[e("div",Pe,[s(t(E),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),a[5]||(a[5]=e("div",null,[e("h3",{class:"font-medium text-blue-900 dark:text-blue-100 mb-2"},"Company Settings"),e("p",{class:"text-sm text-blue-700 dark:text-blue-300 mb-2"}," Here you can add a custom domain for your company and enable a public dashboard. "),e("ul",{class:"text-sm text-blue-700 dark:text-blue-300 space-y-1"},[e("li",null,[r("• "),e("strong",null,"Custom Domain:"),r(' Create a subdomain like "your-company.zaptask.co.uk"')]),e("li",null,[r("• "),e("strong",null,"Public Dashboard:"),r(" Allow visitors to view your dashboard without logging in")]),e("li",null,[r("• "),e("strong",null,"Company Code:"),r(" Provide visitors with your company code to access the public dashboard")])])],-1))])]),_:1})]),_:1})]),P.value?u("",!0):(i(),d("div",Ie,[s(t(f),{class:"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20"},{default:l(()=>[s(t(x),{class:"p-4"},{default:l(()=>[e("div",Fe,[s(t(ee),{class:"w-5 h-5 flex-shrink-0"}),a[6]||(a[6]=e("div",null,[e("p",{class:"font-medium"},"Upgrade Required"),e("p",{class:"text-sm"},"Company features are available for MIDI and MAXI plans only.")],-1))])]),_:1})]),_:1})])),X.value?(i(),d("div",Ue,[s(t(f),{class:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20"},{default:l(()=>[s(t(x),{class:"p-4"},{default:l(()=>[e("div",Ee,[s(t(E),{class:"w-5 h-5 flex-shrink-0"}),e("p",je,n(X.value),1)])]),_:1})]),_:1})])):u("",!0),C.value.logo||w.value||z.value?(i(),d("div",De,[s(t(f),{class:"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20"},{default:l(()=>[s(t(x),{class:"p-4"},{default:l(()=>[e("div",$e,[s(t(ee),{class:"w-5 h-5 flex-shrink-0"}),e("p",ze,n(C.value.logo||w.value||z.value),1)])]),_:1})]),_:1})])):u("",!0),C.value.instructions?(i(),d("div",Me,[s(t(f),{class:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20"},{default:l(()=>[s(t(A),null,{default:l(()=>[s(t(L),{class:"text-blue-700 dark:text-blue-300"},{default:l(()=>[r(n(C.value.instructions.title),1)]),_:1})]),_:1}),s(t(x),null,{default:l(()=>[e("div",Ne,[e("div",Ve,[e("p",Be,n(C.value.instructions.note),1),e("ol",Re,[(i(!0),d(O,null,fe(C.value.instructions.steps,p=>(i(),d("li",{key:p},n(p),1))),128))])])])]),_:1})]),_:1})])):u("",!0),s(t(f),null,{default:l(()=>[s(t(A),null,{default:l(()=>[s(t(L),{class:"flex items-center gap-2"},{default:l(()=>[s(t(E),{class:"w-5 h-5"}),a[7]||(a[7]=r(" Company Information ",-1))]),_:1,__:[7]}),s(t(U),null,{default:l(()=>a[8]||(a[8]=[r(" Update your company name and basic information. ",-1)])),_:1,__:[8]})]),_:1}),s(t(x),{class:"space-y-4"},{default:l(()=>[e("div",null,[s(t(R),{for:"company-name-edit",class:"text-sm font-medium"},{default:l(()=>a[9]||(a[9]=[r(" Company Name ",-1)])),_:1,__:[9]}),e("div",Ge,[s(t(q),{id:"company-name-edit",modelValue:t(k).name,"onUpdate:modelValue":a[0]||(a[0]=p=>t(k).name=p),type:"text",placeholder:"Enter company name",class:"flex-1"},null,8,["modelValue"]),s(t(T),{onClick:ue,disabled:t(k).processing||!t(k).name||t(k).name===o.company?.name,size:"sm"},{default:l(()=>[r(n(t(k).processing?"Updating...":"Update"),1)]),_:1},8,["disabled"])]),a[10]||(a[10]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," This will update your company name across the platform. ",-1))]),o.company?(i(),d("div",Ze,[e("div",null,[a[11]||(a[11]=e("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Company Name:",-1)),e("p",He,n(o.company.name),1)]),e("div",null,[a[12]||(a[12]=e("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Company Code:",-1)),e("p",Ye,n(o.company.code),1)]),e("div",null,[a[13]||(a[13]=e("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Subscription Type:",-1)),e("p",qe,n(o.company.subscription_type),1)]),e("div",null,[a[14]||(a[14]=e("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Company ID:",-1)),e("p",Je,n(o.company.id),1)])])):u("",!0)]),_:1})]),_:1}),P.value?(i(),I(t(f),{key:4},{default:l(()=>[s(t(A),null,{default:l(()=>[s(t(L),{class:"flex items-center gap-2"},{default:l(()=>[s(t(Z),{class:"w-5 h-5"}),a[15]||(a[15]=r(" Company Subdomain ",-1))]),_:1,__:[15]}),s(t(U),null,{default:l(()=>a[16]||(a[16]=[r(" Create a custom subdomain for your company using Cloudflare DNS and Heroku. This will allow guests to access your company's dashboard directly. ",-1)])),_:1,__:[16]}),e("div",Xe,[s(t(T),{onClick:ne,disabled:M.value,variant:"outline",size:"sm"},{default:l(()=>[r(n(M.value?"Checking...":"Check API Permissions"),1)]),_:1},8,["disabled"])])]),_:1}),s(t(x),{class:"space-y-4"},{default:l(()=>[c.value?(i(),d("div",{key:0,class:S(["p-4 border rounded-lg",{"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":!c.value.error,"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":c.value.error}])},[e("div",{class:S(["flex items-center gap-2 mb-2",{"text-green-700 dark:text-green-300":!c.value.error,"text-red-700 dark:text-red-300":c.value.error}])},[s(t(E),{class:"w-5 h-5"}),a[17]||(a[17]=e("span",{class:"font-medium"},"API Permissions Status",-1))],2),c.value.error?(i(),d("div",Ke,n(c.value.error),1)):(i(),d("div",We,[e("div",Oe,[a[18]||(a[18]=e("span",{class:"font-medium"},"Cloudflare API:",-1)),e("span",{class:S(c.value.cloudflare_api?.accessible?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},n(c.value.cloudflare_api?.accessible?"✓ Accessible":"✗ Not Accessible"),3),c.value.cloudflare_api?.accessible?u("",!0):(i(),d("span",Qe," ("+n(c.value.cloudflare_api?.message)+") ",1))]),e("div",ea,[a[19]||(a[19]=e("span",{class:"font-medium"},"Heroku API:",-1)),e("span",{class:S(c.value.heroku_api?.accessible?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},n(c.value.heroku_api?.accessible?"✓ Accessible":"✗ Not Accessible"),3),c.value.heroku_api?.accessible?u("",!0):(i(),d("span",aa," ("+n(c.value.heroku_api?.message)+") ",1))])]))],2)):u("",!0),W.value?(i(),d("div",ta,[e("div",sa,[s(t(Q),{class:"w-5 h-5"}),a[20]||(a[20]=e("span",{class:"font-medium"},"Subdomain Active",-1))]),e("div",la,[a[21]||(a[21]=e("span",{class:"text-sm text-green-600 dark:text-green-400"}," Your company subdomain: ",-1)),e("a",{href:V.value,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[r(n(V.value)+" ",1),s(t(G),{class:"w-3 h-3"})],8,oa)])])):u("",!0),W.value?(i(),d("div",ra,[e("div",na,[s(t(Z),{class:"w-5 h-5"}),a[22]||(a[22]=e("span",{class:"font-medium"},"Subdomain Active & Locked",-1))]),a[24]||(a[24]=e("p",{class:"text-sm text-amber-600 dark:text-amber-400 mb-3"}," Your company subdomain is active and cannot be changed once created. ",-1)),e("div",ia,[a[23]||(a[23]=e("span",{class:"text-sm text-amber-600 dark:text-amber-400"}," Current subdomain: ",-1)),e("a",{href:V.value,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300"},[r(n(V.value)+" ",1),s(t(G),{class:"w-3 h-3"})],8,da)]),a[25]||(a[25]=e("div",{class:"mt-3 p-3 bg-amber-100 dark:bg-amber-900/30 rounded border border-amber-200 dark:border-amber-700"},[e("div",{class:"flex items-start gap-2"},[e("svg",{class:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})]),e("div",{class:"text-xs text-amber-700 dark:text-amber-300"},[e("strong",null,"Important:"),r(" Subdomains cannot be modified or deleted once created. This ensures consistent branding and prevents broken links. ")])])],-1))])):(i(),d("div",ua,[e("div",ma,[e("div",null,[s(t(R),{for:"company-name",class:"text-sm font-medium"},{default:l(()=>a[26]||(a[26]=[r(" Company Name ",-1)])),_:1,__:[26]}),e("div",ca,[s(t(q),{id:"company-name",modelValue:t(y).company_name,"onUpdate:modelValue":a[1]||(a[1]=p=>t(y).company_name=p),onInput:de,type:"text",placeholder:"Enter your company name",class:S(["mt-1 pr-10",{"border-green-500 focus:border-green-500":m.value.available===!0,"border-red-500 focus:border-red-500":m.value.available===!1}])},null,8,["modelValue","class"]),e("div",pa,[m.value.checking?(i(),d("div",ga,a[27]||(a[27]=[e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):m.value.available===!0?(i(),d("div",ba,a[28]||(a[28]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):m.value.available===!1?(i(),d("div",fa,a[29]||(a[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):u("",!0)])]),m.value.message?(i(),d("div",xa,[e("p",{class:S([{"text-green-600 dark:text-green-400":m.value.available===!0,"text-red-600 dark:text-red-400":m.value.available===!1},"text-xs"])},n(m.value.message),3),m.value.url?(i(),d("p",va,[a[30]||(a[30]=r(" Your subdomain will be: ",-1)),e("span",ya,n(m.value.url),1)])):u("",!0)])):u("",!0),a[31]||(a[31]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},' This will be converted to a subdomain (e.g., "My Company" → "my-company.zaptask.co.uk") ',-1))]),s(t(T),{onClick:re,disabled:$.value||!t(y).company_name||m.value.available===!1||m.value.checking,class:"w-full"},{default:l(()=>[s(t(Z),{class:"w-4 h-4 mr-2"}),r(" "+n($.value?"Creating Subdomain...":"Create Company Subdomain"),1)]),_:1},8,["disabled"])])]))]),_:1})]),_:1})):u("",!0),P.value?(i(),I(t(f),{key:5},{default:l(()=>[s(t(A),null,{default:l(()=>[s(t(L),null,{default:l(()=>a[32]||(a[32]=[r("Current Logo",-1)])),_:1,__:[32]}),s(t(U),null,{default:l(()=>a[33]||(a[33]=[r(" This is how your logo currently appears in the application. ",-1)])),_:1,__:[33]})]),_:1}),s(t(x),null,{default:l(()=>[e("div",ka,[e("div",_a,[e("div",ha,[N.value?(i(),d("img",{key:0,src:K.value,alt:o.company?.name+" logo",class:"object-contain"},null,8,wa)):(i(),d("div",Ca,a[34]||(a[34]=[e("div",{class:"w-6 h-6 bg-blue-600 dark:bg-blue-400 rounded text-white dark:text-gray-900 flex items-center justify-center"},[e("img",{src:"/zap_icon.png",alt:"ZapTask",class:"w-4 h-4 dark:hidden"}),e("img",{src:"/zap_icon_white.svg",alt:"ZapTask",class:"w-4 h-4 hidden dark:block"})],-1),e("span",null,"ZapTask",-1)])))]),e("div",null,[e("p",Sa,n(N.value?"Custom Logo":"Default ZapTask Logo"),1),e("p",Ta,n(N.value?"Your company's custom logo":"Standard ZapTask branding"),1)])]),N.value?(i(),I(t(T),{key:0,onClick:oe,disabled:D.value,variant:"outline",class:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300"},{default:l(()=>[s(t(ke),{class:"w-4 h-4 mr-2"}),r(" "+n(D.value?"Removing...":"Remove Logo"),1)]),_:1},8,["disabled"])):u("",!0)])]),_:1})]),_:1})):u("",!0),P.value?(i(),I(t(f),{key:6},{default:l(()=>[s(t(A),null,{default:l(()=>[s(t(L),{class:"flex items-center gap-2"},{default:l(()=>[s(t(_e),{class:"w-5 h-5"}),a[35]||(a[35]=r(" Upload New Logo ",-1))]),_:1,__:[35]}),s(t(U),null,{default:l(()=>a[36]||(a[36]=[r(" Upload a custom logo for your company. The logo will replace the ZapTask branding. ",-1)])),_:1,__:[36]})]),_:1}),s(t(x),{class:"space-y-4"},{default:l(()=>[e("div",Aa,[s(t(E),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e("div",La,[a[40]||(a[40]=e("p",{class:"font-medium mb-1"},"Logo Requirements:",-1)),e("ul",Pa,[a[37]||(a[37]=e("li",null,"• Recommended size: 216px width × 48px height",-1)),a[38]||(a[38]=e("li",null,"• Supported formats: PNG, JPG, JPEG, SVG",-1)),a[39]||(a[39]=e("li",null,"• Maximum file size: 2MB",-1)),e("li",null,"• Filename will be: "+n(o.company?.name?.replace(/\s+/g,"_"))+"_"+n(o.company?.code)+"_timestamp",1)])])]),e("div",null,[s(t(R),{for:"logo-upload",class:"text-sm font-medium"},{default:l(()=>a[41]||(a[41]=[r(" Select Logo File ",-1)])),_:1,__:[41]}),s(t(q),{id:"logo-upload",ref_key:"fileInput",ref:Y,type:"file",accept:"image/png,image/jpg,image/jpeg,image/svg+xml",onChange:se,class:"mt-1"},null,512)]),_.value?(i(),d("div",Ia,[s(t(he),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e("div",Fa,[e("p",Ua,n(_.value.name),1),e("p",Ea,n((_.value.size/1024).toFixed(1))+" KB ",1)]),s(t(T),{onClick:le,disabled:j.value,class:"ml-auto"},{default:l(()=>[r(n(j.value?"Uploading...":"Upload Logo"),1)]),_:1},8,["disabled"])])):u("",!0)]),_:1})]),_:1})):u("",!0),P.value?(i(),I(t(f),{key:7},{default:l(()=>[s(t(A),null,{default:l(()=>[s(t(L),{class:"flex items-center gap-2"},{default:l(()=>[s(t(Z),{class:"w-5 h-5"}),a[42]||(a[42]=r(" Public Dashboard ",-1))]),_:1,__:[42]}),s(t(U),null,{default:l(()=>a[43]||(a[43]=[r(" Allow guests to view your company's dashboard without logging in. They can see projects and todos but cannot create, edit, or delete anything. ",-1)])),_:1,__:[43]})]),_:1}),s(t(x),{class:"space-y-4"},{default:l(()=>[e("div",ja,[e("div",Da,[s(t(R),{class:"text-sm font-medium"},{default:l(()=>a[44]||(a[44]=[r("Enable Public Dashboard",-1)])),_:1,__:[44]}),a[45]||(a[45]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," When enabled, anyone can view your dashboard at your subdomain without logging in. ",-1))]),s(t(T),{onClick:me,disabled:t(v).processing,variant:t(v).is_public?"default":"outline",size:"sm"},{default:l(()=>[r(n(t(v).processing?"Updating...":t(v).is_public?"Disable":"Enable"),1)]),_:1},8,["disabled","variant"])]),t(v).is_public&&o.company?.subdomain_url?(i(),d("div",$a,[e("div",za,[s(t(Q),{class:"w-5 h-5"}),a[46]||(a[46]=e("span",{class:"font-medium"},"Public Dashboard Active",-1))]),e("div",Ma,[e("div",Na,[a[47]||(a[47]=e("span",{class:"text-sm text-green-600 dark:text-green-400"}," Company page: ",-1)),e("a",{href:o.company.subdomain_url,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[r(n(o.company.subdomain_url)+" ",1),s(t(G),{class:"w-3 h-3"})],8,Va)]),e("div",Ba,[a[48]||(a[48]=e("span",{class:"text-sm text-green-600 dark:text-green-400"}," Public dashboard: ",-1)),e("a",{href:`${o.company.subdomain_url}/public`,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[r(n(o.company.subdomain_url)+"/public ",1),s(t(G),{class:"w-3 h-3"})],8,Ra)])])])):u("",!0)]),_:1})]),_:1})):u("",!0)])]),_:1})]),_:1})],64))}});export{ct as default};
