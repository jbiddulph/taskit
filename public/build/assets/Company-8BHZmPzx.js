import{d as ce,D as pe,A as h,u as B,k as b,c as d,o as n,a as t,b as s,h as ge,w as o,e as a,i as u,m as P,t as r,j as i,F as O,r as be,s as S,p as F}from"./app-CRDh9AnS.js";import{_ as T}from"./index-B597Lx0f.js";import{_ as f,c as v,a as I,b as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-BSrerosQ.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-zS5Hl_Tp.js";import{_ as q}from"./Input.vue_vue_type_script_setup_true_lang-B4_xR3g3.js";import{_ as D}from"./Label.vue_vue_type_script_setup_true_lang-DOXpN87x.js";import{_ as fe}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bd4FSWf0.js";import{_ as ve}from"./Layout.vue_vue_type_script_setup_true_lang-1n8joABx.js";import{I as R,b as Q,E as G,g as xe,h as ye,i as ke,j as _e}from"./realtimeService-DG12meRS.js";import{C as ee}from"./lock-DfGBitTi.js";import{G as Z}from"./globe-B_1NBHqF.js";import"./useForwardExpose-Dq_Lsfid.js";import"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-BjXzN9qG.js";import"./Presence-x-sI08yL.js";import"./x-CudjMBvz.js";import"./VisuallyHidden-Q0bu9gnA.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-QpFTEEMc.js";import"./check-DHVmCs2D.js";import"./Heading.vue_vue_type_script_setup_true_lang-CZZ_uREB.js";import"./index-8O20627j.js";import"./index-ObrdfWFb.js";import"./loader-circle-0nhknMZ8.js";const he={class:"space-y-6"},we={key:0,class:"mb-6"},Ce={class:"flex items-center gap-2 text-amber-700 dark:text-amber-300"},Se={key:1,class:"mb-6"},Te={class:"flex items-center gap-2 text-green-700 dark:text-green-300"},Ie={class:"text-sm font-medium"},Le={key:2,class:"mb-6"},Ae={class:"flex items-center gap-2 text-red-700 dark:text-red-300"},Pe={class:"text-sm font-medium"},Fe={key:3,class:"mb-6"},Ue={class:"space-y-3"},Ee={class:"text-sm text-blue-700 dark:text-blue-300"},je={class:"font-medium mb-2"},Me={class:"list-decimal list-inside space-y-1"},$e={class:"flex gap-2 mt-1"},ze={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ne={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ve={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Be={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},De={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Re={class:"mt-4"},Ge={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ze={key:1,class:"space-y-2 text-sm"},He={class:"flex items-center gap-2"},Ye={key:0,class:"text-xs text-gray-500"},qe={class:"flex items-center gap-2"},Je={key:0,class:"text-xs text-gray-500"},Xe={key:1,class:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},Ke={class:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2"},We={class:"flex items-center gap-2"},Oe=["href"],Qe={key:2,class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg"},ea={class:"flex items-center gap-2 text-amber-700 dark:text-amber-300 mb-2"},aa={class:"flex items-center gap-2"},sa=["href"],ta={key:3},oa={class:"space-y-4"},la={class:"relative"},ra={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},na={key:0,class:"animate-spin"},ia={key:1,class:"text-green-500"},da={key:2,class:"text-red-500"},ua={key:0,class:"mt-2"},ma={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ca={class:"font-mono"},pa={class:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg"},ga={class:"flex items-center gap-3"},ba={class:"flex items-center justify-center w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded border"},fa=["src","alt"],va={key:1,class:"flex items-center gap-1 text-xs font-bold text-blue-600 dark:text-blue-400"},xa={class:"font-medium text-gray-900 dark:text-gray-100"},ya={class:"text-sm text-gray-600 dark:text-gray-400"},ka={class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},_a={class:"text-sm text-blue-700 dark:text-blue-300"},ha={class:"space-y-1 text-xs"},wa={key:0,class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ca={class:"flex-1"},Sa={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ta={class:"text-xs text-gray-600 dark:text-gray-400"},Ia={class:"flex items-center justify-between"},La={class:"space-y-1"},Aa={key:0,class:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},Pa={class:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2"},Fa={class:"space-y-2"},Ua={class:"flex items-center gap-2"},Ea=["href"],ja={class:"flex items-center gap-2"},Ma=["href"],ls=ce({__name:"Company",props:{user:{},company:{}},setup(ae){const g=ae,J=pe(),A=h(()=>g.company&&["MIDI","MAXI"].includes(g.company.subscription_type)),se=B({}),y=B({company_name:g.company?.name||""}),x=B({is_public:g.company?.is_public||!1}),k=B({name:g.company?.name||""}),m=b({checking:!1,available:null,message:"",subdomain:"",url:""});let H=null;const Y=b(),E=b(!1),j=b(!1),M=b(!1),_=b(null),w=b(""),$=b(""),z=b(!1),c=b(null),te=l=>{const e=l.target;e.files&&e.files[0]&&(_.value=e.files[0],w.value="")},oe=async()=>{if(!(!_.value||!g.company)){E.value=!0,w.value="";try{const l=await _e(_.value,g.company.name,g.company.code);F.post("/settings/company-logo/update-url",{logo_url:l},{onSuccess:()=>{_.value=null,Y.value&&(Y.value.value=""),F.reload()},onError:e=>{w.value=e.logo||"Failed to update logo URL"}})}catch(l){console.error("Logo upload failed:",l),w.value="Failed to upload logo to storage. Please try again."}finally{E.value=!1}}},le=()=>{j.value=!0,se.delete("/settings/company-logo/remove",{onFinish:()=>{j.value=!1}})},re=()=>{if(!g.company)return;const l=m.value.subdomain||y.company_name;M.value=!0,$.value="",y.company_name=l,y.post("/settings/company/subdomain",{onSuccess:()=>{F.reload()},onError:e=>{$.value=e.subdomain||"Failed to create subdomain"},onFinish:()=>{M.value=!1}})},ne=async()=>{z.value=!0,c.value=null;try{const e=await(await fetch("/settings/company/api-permissions")).json();c.value=e}catch(l){console.error("Error checking API permissions:",l),c.value={error:"Failed to check API permissions"}}finally{z.value=!1}},ie=async l=>{if(l.length<3){m.value={checking:!1,available:null,message:"",subdomain:"",url:""};return}m.value.checking=!0;try{const e=await fetch(`/settings/company/check-subdomain?subdomain=${encodeURIComponent(l)}`);if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const p=await e.json();m.value={checking:!1,available:p.available,message:p.message,subdomain:p.subdomain||l,url:p.url||""}}catch(e){console.error("Failed to check subdomain availability:",e),m.value={checking:!1,available:null,message:"Unable to check availability",subdomain:l,url:""}}},de=l=>{const e=l.target;let p=e.value;p=p.toLowerCase().replace(/\s+/g,"-"),e.value=p,y.company_name=p,H&&clearTimeout(H),H=setTimeout(()=>{ie(p)},500)},ue=()=>{k.patch("/settings/company/name",{onSuccess:()=>{F.reload()},onError:l=>{console.error("Failed to update company name:",l)}})},me=()=>{x.is_public=!x.is_public,x.patch("/settings/company/public",{onSuccess:()=>{F.reload()},onError:l=>{console.error("Failed to update public dashboard setting:",l)}})},C=h(()=>J.props.errors||{}),X=h(()=>J.props.flash?.success||""),K=h(()=>g.company?.logo_url),N=h(()=>!!K.value),W=h(()=>!!g.company?.subdomain),V=h(()=>g.company?.subdomain_url);return(l,e)=>(n(),d(O,null,[t(s(ge),{title:"Company Settings"}),t(fe,null,{default:o(()=>[t(ve,null,{default:o(()=>[a("div",he,[e[45]||(e[45]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Company Settings"),a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Manage your company's branding and subdomain. ")],-1)),A.value?u("",!0):(n(),d("div",we,[t(s(f),{class:"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20"},{default:o(()=>[t(s(v),{class:"p-4"},{default:o(()=>[a("div",Ce,[t(s(ee),{class:"w-5 h-5 flex-shrink-0"}),e[2]||(e[2]=a("div",null,[a("p",{class:"font-medium"},"Upgrade Required"),a("p",{class:"text-sm"},"Company features are available for MIDI and MAXI plans only.")],-1))])]),_:1})]),_:1})])),X.value?(n(),d("div",Se,[t(s(f),{class:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20"},{default:o(()=>[t(s(v),{class:"p-4"},{default:o(()=>[a("div",Te,[t(s(R),{class:"w-5 h-5 flex-shrink-0"}),a("p",Ie,r(X.value),1)])]),_:1})]),_:1})])):u("",!0),C.value.logo||w.value||$.value?(n(),d("div",Le,[t(s(f),{class:"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20"},{default:o(()=>[t(s(v),{class:"p-4"},{default:o(()=>[a("div",Ae,[t(s(ee),{class:"w-5 h-5 flex-shrink-0"}),a("p",Pe,r(C.value.logo||w.value||$.value),1)])]),_:1})]),_:1})])):u("",!0),C.value.instructions?(n(),d("div",Fe,[t(s(f),{class:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20"},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(L),{class:"text-blue-700 dark:text-blue-300"},{default:o(()=>[i(r(C.value.instructions.title),1)]),_:1})]),_:1}),t(s(v),null,{default:o(()=>[a("div",Ue,[a("div",Ee,[a("p",je,r(C.value.instructions.note),1),a("ol",Me,[(n(!0),d(O,null,be(C.value.instructions.steps,p=>(n(),d("li",{key:p},r(p),1))),128))])])])]),_:1})]),_:1})])):u("",!0),t(s(f),null,{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(L),{class:"flex items-center gap-2"},{default:o(()=>[t(s(R),{class:"w-5 h-5"}),e[3]||(e[3]=i(" Company Information ",-1))]),_:1,__:[3]}),t(s(U),null,{default:o(()=>e[4]||(e[4]=[i(" Update your company name and basic information. ",-1)])),_:1,__:[4]})]),_:1}),t(s(v),{class:"space-y-4"},{default:o(()=>[a("div",null,[t(s(D),{for:"company-name-edit",class:"text-sm font-medium"},{default:o(()=>e[5]||(e[5]=[i(" Company Name ",-1)])),_:1,__:[5]}),a("div",$e,[t(s(q),{id:"company-name-edit",modelValue:s(k).name,"onUpdate:modelValue":e[0]||(e[0]=p=>s(k).name=p),type:"text",placeholder:"Enter company name",class:"flex-1"},null,8,["modelValue"]),t(s(T),{onClick:ue,disabled:s(k).processing||!s(k).name||s(k).name===l.company?.name,size:"sm"},{default:o(()=>[i(r(s(k).processing?"Updating...":"Update"),1)]),_:1},8,["disabled"])]),e[6]||(e[6]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," This will update your company name across the platform. ",-1))]),l.company?(n(),d("div",ze,[a("div",null,[e[7]||(e[7]=a("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Company Name:",-1)),a("p",Ne,r(l.company.name),1)]),a("div",null,[e[8]||(e[8]=a("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Company Code:",-1)),a("p",Ve,r(l.company.code),1)]),a("div",null,[e[9]||(e[9]=a("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Subscription Type:",-1)),a("p",Be,r(l.company.subscription_type),1)]),a("div",null,[e[10]||(e[10]=a("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Company ID:",-1)),a("p",De,r(l.company.id),1)])])):u("",!0)]),_:1})]),_:1}),A.value?(n(),P(s(f),{key:4},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(L),{class:"flex items-center gap-2"},{default:o(()=>[t(s(Z),{class:"w-5 h-5"}),e[11]||(e[11]=i(" Company Subdomain ",-1))]),_:1,__:[11]}),t(s(U),null,{default:o(()=>e[12]||(e[12]=[i(" Create a custom subdomain for your company using Cloudflare DNS and Heroku. This will allow guests to access your company's dashboard directly. ",-1)])),_:1,__:[12]}),a("div",Re,[t(s(T),{onClick:ne,disabled:z.value,variant:"outline",size:"sm"},{default:o(()=>[i(r(z.value?"Checking...":"Check API Permissions"),1)]),_:1},8,["disabled"])])]),_:1}),t(s(v),{class:"space-y-4"},{default:o(()=>[c.value?(n(),d("div",{key:0,class:S(["p-4 border rounded-lg",{"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":!c.value.error,"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":c.value.error}])},[a("div",{class:S(["flex items-center gap-2 mb-2",{"text-green-700 dark:text-green-300":!c.value.error,"text-red-700 dark:text-red-300":c.value.error}])},[t(s(R),{class:"w-5 h-5"}),e[13]||(e[13]=a("span",{class:"font-medium"},"API Permissions Status",-1))],2),c.value.error?(n(),d("div",Ge,r(c.value.error),1)):(n(),d("div",Ze,[a("div",He,[e[14]||(e[14]=a("span",{class:"font-medium"},"Cloudflare API:",-1)),a("span",{class:S(c.value.cloudflare_api?.accessible?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},r(c.value.cloudflare_api?.accessible?"✓ Accessible":"✗ Not Accessible"),3),c.value.cloudflare_api?.accessible?u("",!0):(n(),d("span",Ye," ("+r(c.value.cloudflare_api?.message)+") ",1))]),a("div",qe,[e[15]||(e[15]=a("span",{class:"font-medium"},"Heroku API:",-1)),a("span",{class:S(c.value.heroku_api?.accessible?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},r(c.value.heroku_api?.accessible?"✓ Accessible":"✗ Not Accessible"),3),c.value.heroku_api?.accessible?u("",!0):(n(),d("span",Je," ("+r(c.value.heroku_api?.message)+") ",1))])]))],2)):u("",!0),W.value?(n(),d("div",Xe,[a("div",Ke,[t(s(Q),{class:"w-5 h-5"}),e[16]||(e[16]=a("span",{class:"font-medium"},"Subdomain Active",-1))]),a("div",We,[e[17]||(e[17]=a("span",{class:"text-sm text-green-600 dark:text-green-400"}," Your company subdomain: ",-1)),a("a",{href:V.value,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[i(r(V.value)+" ",1),t(s(G),{class:"w-3 h-3"})],8,Oe)])])):u("",!0),W.value?(n(),d("div",Qe,[a("div",ea,[t(s(Z),{class:"w-5 h-5"}),e[18]||(e[18]=a("span",{class:"font-medium"},"Subdomain Active & Locked",-1))]),e[20]||(e[20]=a("p",{class:"text-sm text-amber-600 dark:text-amber-400 mb-3"}," Your company subdomain is active and cannot be changed once created. ",-1)),a("div",aa,[e[19]||(e[19]=a("span",{class:"text-sm text-amber-600 dark:text-amber-400"}," Current subdomain: ",-1)),a("a",{href:V.value,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300"},[i(r(V.value)+" ",1),t(s(G),{class:"w-3 h-3"})],8,sa)]),e[21]||(e[21]=a("div",{class:"mt-3 p-3 bg-amber-100 dark:bg-amber-900/30 rounded border border-amber-200 dark:border-amber-700"},[a("div",{class:"flex items-start gap-2"},[a("svg",{class:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})]),a("div",{class:"text-xs text-amber-700 dark:text-amber-300"},[a("strong",null,"Important:"),i(" Subdomains cannot be modified or deleted once created. This ensures consistent branding and prevents broken links. ")])])],-1))])):(n(),d("div",ta,[a("div",oa,[a("div",null,[t(s(D),{for:"company-name",class:"text-sm font-medium"},{default:o(()=>e[22]||(e[22]=[i(" Company Name ",-1)])),_:1,__:[22]}),a("div",la,[t(s(q),{id:"company-name",modelValue:s(y).company_name,"onUpdate:modelValue":e[1]||(e[1]=p=>s(y).company_name=p),onInput:de,type:"text",placeholder:"Enter your company name",class:S(["mt-1 pr-10",{"border-green-500 focus:border-green-500":m.value.available===!0,"border-red-500 focus:border-red-500":m.value.available===!1}])},null,8,["modelValue","class"]),a("div",ra,[m.value.checking?(n(),d("div",na,e[23]||(e[23]=[a("svg",{class:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):m.value.available===!0?(n(),d("div",ia,e[24]||(e[24]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):m.value.available===!1?(n(),d("div",da,e[25]||(e[25]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):u("",!0)])]),m.value.message?(n(),d("div",ua,[a("p",{class:S([{"text-green-600 dark:text-green-400":m.value.available===!0,"text-red-600 dark:text-red-400":m.value.available===!1},"text-xs"])},r(m.value.message),3),m.value.url?(n(),d("p",ma,[e[26]||(e[26]=i(" Your subdomain will be: ",-1)),a("span",ca,r(m.value.url),1)])):u("",!0)])):u("",!0),e[27]||(e[27]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},' This will be converted to a subdomain (e.g., "My Company" → "my-company.zaptask.co.uk") ',-1))]),t(s(T),{onClick:re,disabled:M.value||!s(y).company_name||m.value.available===!1||m.value.checking,class:"w-full"},{default:o(()=>[t(s(Z),{class:"w-4 h-4 mr-2"}),i(" "+r(M.value?"Creating Subdomain...":"Create Company Subdomain"),1)]),_:1},8,["disabled"])])]))]),_:1})]),_:1})):u("",!0),A.value?(n(),P(s(f),{key:5},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(L),null,{default:o(()=>e[28]||(e[28]=[i("Current Logo",-1)])),_:1,__:[28]}),t(s(U),null,{default:o(()=>e[29]||(e[29]=[i(" This is how your logo currently appears in the application. ",-1)])),_:1,__:[29]})]),_:1}),t(s(v),null,{default:o(()=>[a("div",pa,[a("div",ga,[a("div",ba,[N.value?(n(),d("img",{key:0,src:K.value,alt:l.company?.name+" logo",class:"object-contain"},null,8,fa)):(n(),d("div",va,e[30]||(e[30]=[a("div",{class:"w-6 h-6 bg-blue-600 dark:bg-blue-400 rounded text-white dark:text-gray-900 flex items-center justify-center"},[a("img",{src:"/zap_icon.png",alt:"ZapTask",class:"w-4 h-4 dark:hidden"}),a("img",{src:"/zap_icon_white.svg",alt:"ZapTask",class:"w-4 h-4 hidden dark:block"})],-1),a("span",null,"ZapTask",-1)])))]),a("div",null,[a("p",xa,r(N.value?"Custom Logo":"Default ZapTask Logo"),1),a("p",ya,r(N.value?"Your company's custom logo":"Standard ZapTask branding"),1)])]),N.value?(n(),P(s(T),{key:0,onClick:le,disabled:j.value,variant:"outline",class:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300"},{default:o(()=>[t(s(xe),{class:"w-4 h-4 mr-2"}),i(" "+r(j.value?"Removing...":"Remove Logo"),1)]),_:1},8,["disabled"])):u("",!0)])]),_:1})]),_:1})):u("",!0),A.value?(n(),P(s(f),{key:6},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(L),{class:"flex items-center gap-2"},{default:o(()=>[t(s(ye),{class:"w-5 h-5"}),e[31]||(e[31]=i(" Upload New Logo ",-1))]),_:1,__:[31]}),t(s(U),null,{default:o(()=>e[32]||(e[32]=[i(" Upload a custom logo for your company. The logo will replace the ZapTask branding. ",-1)])),_:1,__:[32]})]),_:1}),t(s(v),{class:"space-y-4"},{default:o(()=>[a("div",ka,[t(s(R),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),a("div",_a,[e[36]||(e[36]=a("p",{class:"font-medium mb-1"},"Logo Requirements:",-1)),a("ul",ha,[e[33]||(e[33]=a("li",null,"• Recommended size: 216px width × 48px height",-1)),e[34]||(e[34]=a("li",null,"• Supported formats: PNG, JPG, JPEG, SVG",-1)),e[35]||(e[35]=a("li",null,"• Maximum file size: 2MB",-1)),a("li",null,"• Filename will be: "+r(l.company?.name?.replace(/\s+/g,"_"))+"_"+r(l.company?.code)+"_timestamp",1)])])]),a("div",null,[t(s(D),{for:"logo-upload",class:"text-sm font-medium"},{default:o(()=>e[37]||(e[37]=[i(" Select Logo File ",-1)])),_:1,__:[37]}),t(s(q),{id:"logo-upload",ref_key:"fileInput",ref:Y,type:"file",accept:"image/png,image/jpg,image/jpeg,image/svg+xml",onChange:te,class:"mt-1"},null,512)]),_.value?(n(),d("div",wa,[t(s(ke),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}),a("div",Ca,[a("p",Sa,r(_.value.name),1),a("p",Ta,r((_.value.size/1024).toFixed(1))+" KB ",1)]),t(s(T),{onClick:oe,disabled:E.value,class:"ml-auto"},{default:o(()=>[i(r(E.value?"Uploading...":"Upload Logo"),1)]),_:1},8,["disabled"])])):u("",!0)]),_:1})]),_:1})):u("",!0),A.value?(n(),P(s(f),{key:7},{default:o(()=>[t(s(I),null,{default:o(()=>[t(s(L),{class:"flex items-center gap-2"},{default:o(()=>[t(s(Z),{class:"w-5 h-5"}),e[38]||(e[38]=i(" Public Dashboard ",-1))]),_:1,__:[38]}),t(s(U),null,{default:o(()=>e[39]||(e[39]=[i(" Allow guests to view your company's dashboard without logging in. They can see projects and todos but cannot create, edit, or delete anything. ",-1)])),_:1,__:[39]})]),_:1}),t(s(v),{class:"space-y-4"},{default:o(()=>[a("div",Ia,[a("div",La,[t(s(D),{class:"text-sm font-medium"},{default:o(()=>e[40]||(e[40]=[i("Enable Public Dashboard",-1)])),_:1,__:[40]}),e[41]||(e[41]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," When enabled, anyone can view your dashboard at your subdomain without logging in. ",-1))]),t(s(T),{onClick:me,disabled:s(x).processing,variant:s(x).is_public?"default":"outline",size:"sm"},{default:o(()=>[i(r(s(x).processing?"Updating...":s(x).is_public?"Disable":"Enable"),1)]),_:1},8,["disabled","variant"])]),s(x).is_public&&l.company?.subdomain_url?(n(),d("div",Aa,[a("div",Pa,[t(s(Q),{class:"w-5 h-5"}),e[42]||(e[42]=a("span",{class:"font-medium"},"Public Dashboard Active",-1))]),a("div",Fa,[a("div",Ua,[e[43]||(e[43]=a("span",{class:"text-sm text-green-600 dark:text-green-400"}," Company page: ",-1)),a("a",{href:l.company.subdomain_url,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[i(r(l.company.subdomain_url)+" ",1),t(s(G),{class:"w-3 h-3"})],8,Ea)]),a("div",ja,[e[44]||(e[44]=a("span",{class:"text-sm text-green-600 dark:text-green-400"}," Public dashboard: ",-1)),a("a",{href:`${l.company.subdomain_url}/public`,target:"_blank",class:"inline-flex items-center gap-1 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"},[i(r(l.company.subdomain_url)+"/public ",1),t(s(G),{class:"w-3 h-3"})],8,Ma)])])])):u("",!0)]),_:1})]),_:1})):u("",!0)])]),_:1})]),_:1})],64))}});export{ls as default};
