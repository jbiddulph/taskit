import{d as C,D as $,K as S,C as w,c as k,a as l,o as i,f as s,A as e,J as D,q as r,b as a,e as b,t as m,g as d,F as N}from"./app-CmD03KCd.js";import{_ as A}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-3Hm2qR2J.js";import{_ as c,a as p,b as B,c as F,d as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-C3sjLQF3.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-DBy35k3B.js";import{_ as T}from"./Label.vue_vue_type_script_setup_true_lang-BNfhwLxD.js";import{_ as V}from"./Layout.vue_vue_type_script_setup_true_lang-Dt4kPIlJ.js";import{I as P,C as x,b as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-C2Yf5gRO.js";import"./check-Dm77ZIJJ.js";import"./useForwardExpose-Dgb__Ive.js";import"./index-y7MiuvJb.js";import"./index-Chnu9G4N.js";const z={class:"space-y-6"},E={key:0,class:"mb-6"},J={class:"flex items-center gap-2 text-green-700 dark:text-green-300"},K={class:"text-sm font-medium"},O={key:1,class:"mb-6"},U={class:"flex items-center gap-2 text-red-700 dark:text-red-300"},j={class:"text-sm font-medium"},G={class:"flex items-start space-x-3"},H={class:"grid gap-1.5 leading-none"},L={class:"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg"},Q={class:"flex items-center pt-4"},ne=C({__name:"Dashboard",props:{user:{},company:{}},setup(h){const _=h,u=$(),o=S({prune_completed_tasks:_.company?.prune_completed_tasks||!1});w(()=>_.company?.prune_completed_tasks,n=>{n!==void 0&&(o.prune_completed_tasks=n)},{immediate:!0});const y=()=>{o.patch("/settings/dashboard",{preserveScroll:!0,onSuccess:n=>{const t=n.props.company;o.prune_completed_tasks=t?.prune_completed_tasks||!1}})},f=k(()=>u.props.errors||{}),g=k(()=>u.props.flash?.success||"");return(n,t)=>(i(),l(N,null,[s(e(D),{title:"Dashboard Settings"}),s(q,null,{default:r(()=>[s(V,null,{default:r(()=>[a("div",z,[t[6]||(t[6]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Dashboard Settings"),a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Configure your dashboard preferences and automation settings. ")],-1)),g.value?(i(),l("div",E,[s(e(c),{class:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20"},{default:r(()=>[s(e(p),{class:"p-4"},{default:r(()=>[a("div",J,[s(e(P),{class:"w-5 h-5 flex-shrink-0"}),a("p",K,m(g.value),1)])]),_:1})]),_:1})])):b("",!0),f.value.error?(i(),l("div",O,[s(e(c),{class:"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20"},{default:r(()=>[s(e(p),{class:"p-4"},{default:r(()=>[a("div",U,[s(e(x),{class:"w-5 h-5 flex-shrink-0"}),a("p",j,m(f.value.error),1)])]),_:1})]),_:1})])):b("",!0),s(e(c),null,{default:r(()=>[s(e(B),null,{default:r(()=>[s(e(F),null,{default:r(()=>t[1]||(t[1]=[d("Task Management",-1)])),_:1,__:[1]}),s(e(I),null,{default:r(()=>t[2]||(t[2]=[d(" Configure automatic task management and cleanup settings. ",-1)])),_:1,__:[2]})]),_:1}),s(e(p),{class:"space-y-4"},{default:r(()=>[a("div",G,[s(e(M),{id:"prune_completed_tasks",checked:e(o).prune_completed_tasks,"onUpdate:checked":t[0]||(t[0]=v=>e(o).prune_completed_tasks=v)},null,8,["checked"]),a("div",H,[s(e(T),{for:"prune_completed_tasks",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:r(()=>t[3]||(t[3]=[d(" Prune all Completed tasks in the Done column (daily at midnight) ",-1)])),_:1,__:[3]}),t[4]||(t[4]=a("p",{class:"text-xs text-muted-foreground"}," Automatically delete all completed tasks and their comments daily at midnight. This helps keep your workspace clean and organized. ",-1))])]),a("div",L,[s(e(x),{class:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),t[5]||(t[5]=a("div",{class:"text-sm text-amber-700 dark:text-amber-300"},[a("p",{class:"font-medium mb-1"},"Important:"),a("p",{class:"text-xs"}," Once tasks are pruned, they cannot be recovered. Make sure you have exported any important data before enabling this feature. ")],-1))]),a("div",Q,[s(e(A),{onClick:y,disabled:e(o).processing},{default:r(()=>[d(m(e(o).processing?"Saving...":"Save Settings"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})])]),_:1})]),_:1})],64))}});export{ne as default};
