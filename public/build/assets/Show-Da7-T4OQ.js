import{d as $,k,m as B,o as i,w as l,e,a as s,c as m,j as c,t as n,g as T,q as C,v as F,b as o,i as I,s as V,F as D,r as E,x as j,p as U}from"./app-C-f9fbAs.js";import{_ as u,a as X}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-BMStm2W1.js";import{_ as A}from"./Heading.vue_vue_type_script_setup_true_lang-BohIAH6s.js";import{_ as y,a as _,b as f,c as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-Cs46zdcX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CtLrRxCs.js";import"./useForwardExpose-DkTZMWMD.js";import"./check-CVqX4Odc.js";import"./index-DKzRmfxm.js";const P={class:"space-y-6 p-6"},K={class:"flex items-center gap-2"},L={key:0,class:"flex items-center gap-2"},O={key:1,class:"flex items-center gap-2"},R={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},q={class:"text-lg font-semibold"},z={class:"text-lg font-mono"},J={key:0},G={class:"text-gray-700"},H={class:"flex items-center gap-2"},Q={class:"text-lg"},W={key:0},Y={key:1},Z={key:2},ee={class:"text-lg"},te={key:0},se={key:1},ae={key:2},ne={class:"overflow-hidden"},le={class:"space-y-3"},oe={class:"font-medium"},ie={class:"text-sm text-gray-500"},re={class:"text-sm text-gray-500"},me={class:"overflow-hidden"},de={class:"space-y-3"},ce={class:"font-medium"},ue={class:"text-sm text-gray-500"},pe={key:0,class:"text-sm text-blue-600"},ye={class:"text-right"},_e={class:"text-sm text-gray-500"},fe={class:"text-sm text-gray-500"},Ie=$({__name:"Show",props:{company:{},members:{},projects:{}},setup(N){const v=N,p=k(!1),d=k(""),b=k(),x=t=>new Date(t).toLocaleDateString(),M=t=>{const a={FREE:"bg-gray-100 text-gray-800",MIDI:"bg-blue-100 text-blue-800",MAXI:"bg-green-100 text-green-800"};return a[t]||a.FREE},S=async()=>{p.value=!0,d.value=v.company.name,await j(),b.value?.focus(),b.value?.select()},h=()=>{d.value.trim()&&d.value!==v.company.name&&U.put(`/companies/${v.company.id}`,{name:d.value.trim()},{preserveState:!0,preserveScroll:!0}),p.value=!1},w=()=>{p.value=!1,d.value=""};return(t,a)=>(i(),B(X,{company:t.company},{default:l(()=>[e("div",P,[e("div",K,[p.value?(i(),m("div",O,[T(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>d.value=r),onKeydown:[C(h,["enter"]),C(w,["escape"])],onBlur:h,class:"text-3xl font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b-2 border-blue-500 focus:outline-none focus:border-blue-600",placeholder:"Enter company name",ref_key:"nameInput",ref:b},null,544),[[F,d.value]]),e("button",{onClick:h,class:"p-1 text-green-500 hover:text-green-600 transition-colors",title:"Save"},[s(u,{name:"Check",class:"w-5 h-5"})]),e("button",{onClick:w,class:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Cancel"},[s(u,{name:"X",class:"w-5 h-5"})])])):(i(),m("div",L,[s(A,null,{default:l(()=>[c(n(t.company.name),1)]),_:1}),e("button",{onClick:S,class:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit company name"},[s(u,{name:"Edit3",class:"w-5 h-5"})])]))]),e("div",R,[s(o(y),null,{default:l(()=>[s(o(_),null,{default:l(()=>[s(o(f),{class:"flex items-center gap-2"},{default:l(()=>[s(u,{name:"Building",class:"w-5 h-5"}),a[1]||(a[1]=c(" Company Information ",-1))]),_:1,__:[1]})]),_:1}),s(o(g),{class:"space-y-4"},{default:l(()=>[e("div",null,[a[2]||(a[2]=e("label",{class:"text-sm font-medium text-gray-500"},"Company Name",-1)),e("p",q,n(t.company.name),1)]),e("div",null,[a[3]||(a[3]=e("label",{class:"text-sm font-medium text-gray-500"},"Company Code",-1)),e("p",z,n(t.company.code),1)]),t.company.description?(i(),m("div",J,[a[4]||(a[4]=e("label",{class:"text-sm font-medium text-gray-500"},"Description",-1)),e("p",G,n(t.company.description),1)])):I("",!0),e("div",null,[a[5]||(a[5]=e("label",{class:"text-sm font-medium text-gray-500"},"Created",-1)),e("p",null,n(x(t.company.created_at)),1)])]),_:1})]),_:1}),s(o(y),null,{default:l(()=>[s(o(_),null,{default:l(()=>[s(o(f),{class:"flex items-center gap-2"},{default:l(()=>[s(u,{name:"CreditCard",class:"w-5 h-5"}),a[6]||(a[6]=c(" Subscription Details ",-1))]),_:1,__:[6]})]),_:1}),s(o(g),{class:"space-y-4"},{default:l(()=>[e("div",null,[a[7]||(a[7]=e("label",{class:"text-sm font-medium text-gray-500"},"Plan",-1)),e("div",H,[e("span",{class:V([M(t.company.subscription_type),"px-2 py-1 rounded-full text-sm font-medium"])},n(t.company.subscription_type),3)])]),e("div",null,[a[8]||(a[8]=e("label",{class:"text-sm font-medium text-gray-500"},"Members",-1)),e("p",Q,[c(n(t.company.current_member_count)+" / ",1),t.company.subscription_type==="MAXI"?(i(),m("span",W,"Unlimited")):t.company.subscription_type==="MIDI"?(i(),m("span",Y,"10")):(i(),m("span",Z,n(t.company.member_limit),1))])]),e("div",null,[a[9]||(a[9]=e("label",{class:"text-sm font-medium text-gray-500"},"Projects",-1)),e("p",ee,[c(n(t.company.current_project_count)+" / ",1),t.company.subscription_type==="MAXI"?(i(),m("span",te,"Unlimited")):t.company.subscription_type==="MIDI"?(i(),m("span",se,"20")):(i(),m("span",ae,n(t.company.project_limit),1))])])]),_:1})]),_:1})]),s(o(y),null,{default:l(()=>[s(o(_),null,{default:l(()=>[s(o(f),{class:"flex items-center gap-2"},{default:l(()=>[s(u,{name:"Users",class:"w-5 h-5"}),c(" Team Members ("+n(t.members.length)+") ",1)]),_:1})]),_:1}),s(o(g),null,{default:l(()=>[e("div",ne,[e("div",le,[(i(!0),m(D,null,E(t.members,r=>(i(),m("div",{key:r.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",null,[e("p",oe,n(r.name),1),e("p",ie,n(r.email),1)]),e("div",re," Joined "+n(x(r.created_at)),1)]))),128))])])]),_:1})]),_:1}),s(o(y),null,{default:l(()=>[s(o(_),null,{default:l(()=>[s(o(f),{class:"flex items-center gap-2"},{default:l(()=>[s(u,{name:"FolderOpen",class:"w-5 h-5"}),c(" Projects ("+n(t.projects.length)+") ",1)]),_:1})]),_:1}),s(o(g),null,{default:l(()=>[e("div",me,[e("div",de,[(i(!0),m(D,null,E(t.projects,r=>(i(),m("div",{key:r.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",null,[e("p",ce,n(r.name),1),e("p",ue,n(r.key),1),r.client?(i(),m("p",pe,n(r.client.name),1)):I("",!0)]),e("div",ye,[e("p",_e,"Owner: "+n(r.owner.name),1),e("p",fe,n(x(r.created_at)),1)])]))),128))])])]),_:1})]),_:1})])]),_:1},8,["company"]))}});export{Ie as default};
