import{P as J,c as H,_ as Ra,a as Ia}from"./index-JyUDYtC-.js";import{K as Le,r as M,A as L,C as le,d as S,p as D,o as f,w as m,P as q,b as n,i as U,H as Me,_ as Ke,O as De,g as Zt,B as La,$ as ea,c as O,R as N,a0 as Fa,a1 as Na,a2 as ja,a3 as Ee,a4 as ta,a as b,m as pe,S as ee,U as ue,x as fe,f as Oe,Z as za,s as Ha,a5 as Ua,a6 as Wa,j as oe,t as z,X as vt,a7 as Ka,e as v,n as j,F as G,T as Va,k as be,D as Ne,l as we,q as Tt,a8 as ct,v as Ga}from"./app-BZqS97LO.js";import{i as _t,c as aa,d as Xa,u as Ya,a as W,e as Qa,f as Ja,g as He,b as Ze,h as oa,r as et,j as Za}from"./useForwardExpose-BPLHy-zr.js";import{g as ra,c as ye,a as ce,P as sa,u as bt,d as eo,b as tt}from"./Presence-qP4EaDs9.js";import{m as to,n as ao,_ as K,a as na,r as te,t as Ge,o as oo,c as ro,L as so,p as no,q as lo,s as io,H as Et}from"./realtimeService-C9T3vTSX.js";import{u as uo,f as la,g as co,h as po,j as fo,k as go,L as mo,l as ho,m as pt,n as yo,I as vo,o as _o,T as ia,a as bo,b as wo,c as xo,d as Co,D as ko,X as $o,e as So}from"./x-DW56LtsW.js";import{b as da,R as Po,u as qo,V as Ao}from"./VisuallyHidden--3eZhqGO.js";import{q as wt}from"./index-CMWG4mbA.js";import{_ as Do}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BhzzfxDX.js";import{C as Oo}from"./check-BcYKJZdj.js";const Bo=["INPUT","TEXTAREA"];function Mo(e,t,a,o={}){if(!t||o.enableIgnoredElement&&Bo.includes(t.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:s="[data-reka-collection-item]",itemsArray:l=[],loop:i=!0,dir:u="ltr",preventScroll:d=!0,focus:c=!1}=o,[p,_,w,x,$,A]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],B=w||x,E=p||_;if(!$&&!A&&(!B&&!E||r==="vertical"&&E||r==="horizontal"&&B))return null;const R=a?Array.from(a.querySelectorAll(s)):l;if(!R.length)return null;d&&e.preventDefault();let I=null;return E||B?I=ua(R,t,{goForward:B?x:u==="ltr"?p:_,loop:i}):$?I=R.at(0)||null:A&&(I=R.at(-1)||null),c&&I?.focus(),I}function ua(e,t,a,o=e.length){if(--o===0)return null;const r=e.indexOf(t),s=a.goForward?r+1:r-1;if(!a.loop&&(s<0||s>=e.length))return null;const l=(s+e.length)%e.length,i=e[l];return i?i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false"?ua(e,i,a,o):i:null}let it=0;function To(){Le(e=>{if(!_t)return;const t=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",t[0]??Rt()),document.body.insertAdjacentElement("beforeend",t[1]??Rt()),it++,e(()=>{it===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(a=>a.remove()),it--})})}function Rt(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Eo(e,t){const a=aa(!1,300),o=M(null),r=Xa();function s(){o.value=null,a.value=!1}function l(i,u){const d=i.currentTarget,c={x:i.clientX,y:i.clientY},p=Ro(c,d.getBoundingClientRect()),_=Io(c,p),w=Lo(u.getBoundingClientRect()),x=No([..._,...w]);o.value=x,a.value=!0}return Le(i=>{if(e.value&&t.value){const u=c=>l(c,t.value),d=c=>l(c,e.value);e.value.addEventListener("pointerleave",u),t.value.addEventListener("pointerleave",d),i(()=>{e.value?.removeEventListener("pointerleave",u),t.value?.removeEventListener("pointerleave",d)})}}),Le(i=>{if(o.value){const u=d=>{if(!o.value||!(d.target instanceof HTMLElement))return;const c=d.target,p={x:d.clientX,y:d.clientY},_=e.value?.contains(c)||t.value?.contains(c),w=!Fo(p,o.value),x=!!c.closest("[data-grace-area-trigger]");_?s():(w||x)&&(s(),r.trigger())};e.value?.ownerDocument.addEventListener("pointermove",u),i(()=>e.value?.ownerDocument.removeEventListener("pointermove",u))}}),{isPointerInTransit:a,onPointerExit:r.on}}function Ro(e,t){const a=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(a,o,r,s)){case s:return"left";case r:return"right";case a:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Io(e,t,a=5){const o=[];switch(t){case"top":o.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":o.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":o.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":o.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a});break}return o}function Lo(e){const{top:t,right:a,bottom:o,left:r}=e;return[{x:r,y:t},{x:a,y:t},{x:a,y:o},{x:r,y:o}]}function Fo(e,t){const{x:a,y:o}=e;let r=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const i=t[s].x,u=t[s].y,d=t[l].x,c=t[l].y;u>o!=c>o&&a<(d-i)*(o-u)/(c-u)+i&&(r=!r)}return r}function No(e){const t=e.slice();return t.sort((a,o)=>a.x<o.x?-1:a.x>o.x?1:a.y<o.y?-1:a.y>o.y?1:0),jo(t)}function jo(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const r=e[o];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(r.y-l.y)>=(s.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}t.pop();const a=[];for(let o=e.length-1;o>=0;o--){const r=e[o];for(;a.length>=2;){const s=a[a.length-1],l=a[a.length-2];if((s.x-l.x)*(r.y-l.y)>=(s.y-l.y)*(r.x-l.x))a.pop();else break}a.push(r)}return a.pop(),t.length===1&&a.length===1&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}function zo(e){const t=M(),a=L(()=>t.value?.width??0),o=L(()=>t.value?.height??0);return le(()=>{const r=Ya(e);if(r){t.value={width:r.offsetWidth,height:r.offsetHeight};const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const i=l[0];let u,d;if("borderBoxSize"in i){const c=i.borderBoxSize,p=Array.isArray(c)?c[0]:c;u=p.inlineSize,d=p.blockSize}else u=r.offsetWidth,d=r.offsetHeight;t.value={width:u,height:d}});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else t.value=void 0}),{width:a,height:o}}function Ho(e){const t=aa("",1e3);return{search:t,handleTypeaheadSearch:(r,s)=>{t.value=t.value+r;{const l=ra(),i=s.map(_=>({..._,textValue:_.value?.textValue??_.ref.textContent?.trim()??""})),u=i.find(_=>_.ref===l),d=i.map(_=>_.textValue),c=Wo(d,t.value,u?.textValue),p=i.find(_=>_.textValue===c);return p&&p.ref.focus(),p?.ref}},resetTypeahead:()=>{t.value=""}}}function Uo(e,t){return e.map((a,o)=>e[(t+o)%e.length])}function Wo(e,t,a){const r=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=a?e.indexOf(a):-1;let l=Uo(e,Math.max(s,0));r.length===1&&(l=l.filter(d=>d!==a));const u=l.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return u!==a?u:void 0}const[ca,Ko]=ye("AvatarRoot");var Vo=S({__name:"AvatarRoot",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return W(),Ko({imageLoadingStatus:M("idle")}),(t,a)=>(f(),D(n(J),{"as-child":t.asChild,as:t.as},{default:m(()=>[q(t.$slots,"default")]),_:3},8,["as-child","as"]))}}),Go=Vo,Xo=S({__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,a=ca();W();const o=M(t.delayMs===void 0);return Le(r=>{if(t.delayMs&&_t){const s=window.setTimeout(()=>{o.value=!0},t.delayMs);r(()=>{window.clearTimeout(s)})}}),(r,s)=>o.value&&n(a).imageLoadingStatus.value!=="loaded"?(f(),D(n(J),{key:0,"as-child":r.asChild,as:r.as},{default:m(()=>[q(r.$slots,"default")]),_:3},8,["as-child","as"])):U("v-if",!0)}}),Yo=Xo;function It(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Qo(e,{referrerPolicy:t,crossOrigin:a}={}){const o=M(!1),r=M(null),s=L(()=>o.value?(!r.value&&_t&&(r.value=new window.Image),r.value):null),l=M(It(s.value,e.value)),i=u=>()=>{o.value&&(l.value=u)};return le(()=>{o.value=!0,Le(u=>{const d=s.value;if(!d)return;l.value=It(d,e.value);const c=i("loaded"),p=i("error");d.addEventListener("load",c),d.addEventListener("error",p),t?.value&&(d.referrerPolicy=t.value),typeof a?.value=="string"&&(d.crossOrigin=a.value),u(()=>{d.removeEventListener("load",c),d.removeEventListener("error",p)})})}),Me(()=>{o.value=!1}),l}var Jo=S({__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:t}){const a=e,o=t,{src:r,referrerPolicy:s,crossOrigin:l}=Ke(a);W();const i=ca(),u=Qo(r,{referrerPolicy:s,crossOrigin:l});return De(u,d=>{o("loadingStatusChange",d),d!=="idle"&&(i.imageLoadingStatus.value=d)},{immediate:!0}),(d,c)=>Zt((f(),D(n(J),{role:"img","as-child":d.asChild,as:d.as,src:n(r),"referrer-policy":n(s)},{default:m(()=>[q(d.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[La,n(u)==="loaded"]])}}),Zo=Jo;const[pa,er]=ye("PopperRoot");var tr=S({inheritAttrs:!1,__name:"PopperRoot",setup(e){const t=M();return er({anchor:t,onAnchorChange:a=>t.value=a}),(a,o)=>q(a.$slots,"default")}}),fa=tr,ar=S({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:a,currentElement:o}=W(),r=pa();return ea(()=>{r.onAnchorChange(t.reference??o.value)}),(s,l)=>(f(),D(n(J),{ref:n(a),as:s.as,"as-child":s.asChild},{default:m(()=>[q(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),ga=ar;const or={key:0,d:"M0 0L6 6L12 0"},rr={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var sr=S({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return W(),(a,o)=>(f(),D(n(J),N(t,{width:a.width,height:a.height,viewBox:a.asChild?void 0:"0 0 12 6",preserveAspectRatio:a.asChild?void 0:"none"}),{default:m(()=>[q(a.$slots,"default",{},()=>[a.rounded?(f(),O("path",rr)):(f(),O("path",or))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),nr=sr;function lr(e){return e!==null}function ir(e){return{name:"transformOrigin",options:e,fn(t){const{placement:a,rects:o,middlewareData:r}=t,l=r.arrow?.centerOffset!==0,i=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[d,c]=ft(a),p={start:"0%",center:"50%",end:"100%"}[c],_=(r.arrow?.x??0)+i/2,w=(r.arrow?.y??0)+u/2;let x="",$="";return d==="bottom"?(x=l?p:`${_}px`,$=`${-u}px`):d==="top"?(x=l?p:`${_}px`,$=`${o.floating.height+u}px`):d==="right"?(x=`${-u}px`,$=l?p:`${w}px`):d==="left"&&(x=`${o.floating.width+u}px`,$=l?p:`${w}px`),{data:{x,y:$}}}}}function ft(e){const[t,a="center"]=e.split("-");return[t,a]}const dr=["top","right","bottom","left"],Pe=Math.min,ae=Math.max,Ye=Math.round,Xe=Math.floor,me=e=>({x:e,y:e}),ur={left:"right",right:"left",bottom:"top",top:"bottom"},cr={start:"end",end:"start"};function gt(e,t,a){return ae(e,Pe(t,a))}function xe(e,t){return typeof e=="function"?e(t):e}function Ce(e){return e.split("-")[0]}function je(e){return e.split("-")[1]}function xt(e){return e==="x"?"y":"x"}function Ct(e){return e==="y"?"height":"width"}const pr=new Set(["top","bottom"]);function ge(e){return pr.has(Ce(e))?"y":"x"}function kt(e){return xt(ge(e))}function fr(e,t,a){a===void 0&&(a=!1);const o=je(e),r=kt(e),s=Ct(r);let l=r==="x"?o===(a?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=Qe(l)),[l,Qe(l)]}function gr(e){const t=Qe(e);return[mt(e),t,mt(t)]}function mt(e){return e.replace(/start|end/g,t=>cr[t])}const Lt=["left","right"],Ft=["right","left"],mr=["top","bottom"],hr=["bottom","top"];function yr(e,t,a){switch(e){case"top":case"bottom":return a?t?Ft:Lt:t?Lt:Ft;case"left":case"right":return t?mr:hr;default:return[]}}function vr(e,t,a,o){const r=je(e);let s=yr(Ce(e),a==="start",o);return r&&(s=s.map(l=>l+"-"+r),t&&(s=s.concat(s.map(mt)))),s}function Qe(e){return e.replace(/left|right|bottom|top/g,t=>ur[t])}function _r(e){return{top:0,right:0,bottom:0,left:0,...e}}function ma(e){return typeof e!="number"?_r(e):{top:e,right:e,bottom:e,left:e}}function Je(e){const{x:t,y:a,width:o,height:r}=e;return{width:o,height:r,top:a,left:t,right:t+o,bottom:a+r,x:t,y:a}}function Nt(e,t,a){let{reference:o,floating:r}=e;const s=ge(t),l=kt(t),i=Ct(l),u=Ce(t),d=s==="y",c=o.x+o.width/2-r.width/2,p=o.y+o.height/2-r.height/2,_=o[i]/2-r[i]/2;let w;switch(u){case"top":w={x:c,y:o.y-r.height};break;case"bottom":w={x:c,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:p};break;case"left":w={x:o.x-r.width,y:p};break;default:w={x:o.x,y:o.y}}switch(je(t)){case"start":w[l]-=_*(a&&d?-1:1);break;case"end":w[l]+=_*(a&&d?-1:1);break}return w}const br=async(e,t,a)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:l}=a,i=s.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:p}=Nt(d,o,u),_=o,w={},x=0;for(let $=0;$<i.length;$++){const{name:A,fn:B}=i[$],{x:E,y:R,data:I,reset:k}=await B({x:c,y:p,initialPlacement:o,placement:_,strategy:r,middlewareData:w,rects:d,platform:l,elements:{reference:e,floating:t}});c=E??c,p=R??p,w={...w,[A]:{...w[A],...I}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(_=k.placement),k.rects&&(d=k.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:r}):k.rects),{x:c,y:p}=Nt(d,_,u)),$=-1)}return{x:c,y:p,placement:_,strategy:r,middlewareData:w}};async function Ue(e,t){var a;t===void 0&&(t={});const{x:o,y:r,platform:s,rects:l,elements:i,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:p="floating",altBoundary:_=!1,padding:w=0}=xe(t,e),x=ma(w),A=i[_?p==="floating"?"reference":"floating":p],B=Je(await s.getClippingRect({element:(a=await(s.isElement==null?void 0:s.isElement(A)))==null||a?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:d,rootBoundary:c,strategy:u})),E=p==="floating"?{x:o,y:r,width:l.floating.width,height:l.floating.height}:l.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),I=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},k=Je(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:E,offsetParent:R,strategy:u}):E);return{top:(B.top-k.top+x.top)/I.y,bottom:(k.bottom-B.bottom+x.bottom)/I.y,left:(B.left-k.left+x.left)/I.x,right:(k.right-B.right+x.right)/I.x}}const wr=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:o,placement:r,rects:s,platform:l,elements:i,middlewareData:u}=t,{element:d,padding:c=0}=xe(e,t)||{};if(d==null)return{};const p=ma(c),_={x:a,y:o},w=kt(r),x=Ct(w),$=await l.getDimensions(d),A=w==="y",B=A?"top":"left",E=A?"bottom":"right",R=A?"clientHeight":"clientWidth",I=s.reference[x]+s.reference[w]-_[w]-s.floating[x],k=_[w]-s.reference[w],g=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let h=g?g[R]:0;(!h||!await(l.isElement==null?void 0:l.isElement(g)))&&(h=i.floating[R]||s.floating[x]);const C=I/2-k/2,y=h/2-$[x]/2-1,P=Pe(p[B],y),T=Pe(p[E],y),F=P,X=h-$[x]-T,V=h/2-$[x]/2+C,ne=gt(F,V,X),Z=!u.arrow&&je(r)!=null&&V!==ne&&s.reference[x]/2-(V<F?P:T)-$[x]/2<0,Q=Z?V<F?V-F:V-X:0;return{[w]:_[w]+Q,data:{[w]:ne,centerOffset:V-ne-Q,...Z&&{alignmentOffset:Q}},reset:Z}}}),xr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var a,o;const{placement:r,middlewareData:s,rects:l,initialPlacement:i,platform:u,elements:d}=t,{mainAxis:c=!0,crossAxis:p=!0,fallbackPlacements:_,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:$=!0,...A}=xe(e,t);if((a=s.arrow)!=null&&a.alignmentOffset)return{};const B=Ce(r),E=ge(i),R=Ce(i)===i,I=await(u.isRTL==null?void 0:u.isRTL(d.floating)),k=_||(R||!$?[Qe(i)]:gr(i)),g=x!=="none";!_&&g&&k.push(...vr(i,$,x,I));const h=[i,...k],C=await Ue(t,A),y=[];let P=((o=s.flip)==null?void 0:o.overflows)||[];if(c&&y.push(C[B]),p){const V=fr(r,l,I);y.push(C[V[0]],C[V[1]])}if(P=[...P,{placement:r,overflows:y}],!y.every(V=>V<=0)){var T,F;const V=(((T=s.flip)==null?void 0:T.index)||0)+1,ne=h[V];if(ne&&(!(p==="alignment"?E!==ge(ne):!1)||P.every(Y=>ge(Y.placement)===E?Y.overflows[0]>0:!0)))return{data:{index:V,overflows:P},reset:{placement:ne}};let Z=(F=P.filter(Q=>Q.overflows[0]<=0).sort((Q,Y)=>Q.overflows[1]-Y.overflows[1])[0])==null?void 0:F.placement;if(!Z)switch(w){case"bestFit":{var X;const Q=(X=P.filter(Y=>{if(g){const Se=ge(Y.placement);return Se===E||Se==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Se=>Se>0).reduce((Se,Ea)=>Se+Ea,0)]).sort((Y,Se)=>Y[1]-Se[1])[0])==null?void 0:X[0];Q&&(Z=Q);break}case"initialPlacement":Z=i;break}if(r!==Z)return{reset:{placement:Z}}}return{}}}};function jt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zt(e){return dr.some(t=>e[t]>=0)}const Cr=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a}=t,{strategy:o="referenceHidden",...r}=xe(e,t);switch(o){case"referenceHidden":{const s=await Ue(t,{...r,elementContext:"reference"}),l=jt(s,a.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:zt(l)}}}case"escaped":{const s=await Ue(t,{...r,altBoundary:!0}),l=jt(s,a.floating);return{data:{escapedOffsets:l,escaped:zt(l)}}}default:return{}}}}},ha=new Set(["left","top"]);async function kr(e,t){const{placement:a,platform:o,elements:r}=e,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),l=Ce(a),i=je(a),u=ge(a)==="y",d=ha.has(l)?-1:1,c=s&&u?-1:1,p=xe(t,e);let{mainAxis:_,crossAxis:w,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return i&&typeof x=="number"&&(w=i==="end"?x*-1:x),u?{x:w*c,y:_*d}:{x:_*d,y:w*c}}const $r=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var a,o;const{x:r,y:s,placement:l,middlewareData:i}=t,u=await kr(t,e);return l===((a=i.offset)==null?void 0:a.placement)&&(o=i.arrow)!=null&&o.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:l}}}}},Sr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:i={fn:A=>{let{x:B,y:E}=A;return{x:B,y:E}}},...u}=xe(e,t),d={x:a,y:o},c=await Ue(t,u),p=ge(Ce(r)),_=xt(p);let w=d[_],x=d[p];if(s){const A=_==="y"?"top":"left",B=_==="y"?"bottom":"right",E=w+c[A],R=w-c[B];w=gt(E,w,R)}if(l){const A=p==="y"?"top":"left",B=p==="y"?"bottom":"right",E=x+c[A],R=x-c[B];x=gt(E,x,R)}const $=i.fn({...t,[_]:w,[p]:x});return{...$,data:{x:$.x-a,y:$.y-o,enabled:{[_]:s,[p]:l}}}}}},Pr=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:a,y:o,placement:r,rects:s,middlewareData:l}=t,{offset:i=0,mainAxis:u=!0,crossAxis:d=!0}=xe(e,t),c={x:a,y:o},p=ge(r),_=xt(p);let w=c[_],x=c[p];const $=xe(i,t),A=typeof $=="number"?{mainAxis:$,crossAxis:0}:{mainAxis:0,crossAxis:0,...$};if(u){const R=_==="y"?"height":"width",I=s.reference[_]-s.floating[R]+A.mainAxis,k=s.reference[_]+s.reference[R]-A.mainAxis;w<I?w=I:w>k&&(w=k)}if(d){var B,E;const R=_==="y"?"width":"height",I=ha.has(Ce(r)),k=s.reference[p]-s.floating[R]+(I&&((B=l.offset)==null?void 0:B[p])||0)+(I?0:A.crossAxis),g=s.reference[p]+s.reference[R]+(I?0:((E=l.offset)==null?void 0:E[p])||0)-(I?A.crossAxis:0);x<k?x=k:x>g&&(x=g)}return{[_]:w,[p]:x}}}},qr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var a,o;const{placement:r,rects:s,platform:l,elements:i}=t,{apply:u=()=>{},...d}=xe(e,t),c=await Ue(t,d),p=Ce(r),_=je(r),w=ge(r)==="y",{width:x,height:$}=s.floating;let A,B;p==="top"||p==="bottom"?(A=p,B=_===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(B=p,A=_==="end"?"top":"bottom");const E=$-c.top-c.bottom,R=x-c.left-c.right,I=Pe($-c[A],E),k=Pe(x-c[B],R),g=!t.middlewareData.shift;let h=I,C=k;if((a=t.middlewareData.shift)!=null&&a.enabled.x&&(C=R),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(h=E),g&&!_){const P=ae(c.left,0),T=ae(c.right,0),F=ae(c.top,0),X=ae(c.bottom,0);w?C=x-2*(P!==0||T!==0?P+T:ae(c.left,c.right)):h=$-2*(F!==0||X!==0?F+X:ae(c.top,c.bottom))}await u({...t,availableWidth:C,availableHeight:h});const y=await l.getDimensions(i.floating);return x!==y.width||$!==y.height?{reset:{rects:!0}}:{}}}};function at(){return typeof window<"u"}function Te(e){return $t(e)?(e.nodeName||"").toLowerCase():"#document"}function re(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ve(e){var t;return(t=($t(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $t(e){return at()?e instanceof Node||e instanceof re(e).Node:!1}function ie(e){return at()?e instanceof Element||e instanceof re(e).Element:!1}function he(e){return at()?e instanceof HTMLElement||e instanceof re(e).HTMLElement:!1}function Ht(e){return!at()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof re(e).ShadowRoot}const Ar=new Set(["inline","contents"]);function Ve(e){const{overflow:t,overflowX:a,overflowY:o,display:r}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+a)&&!Ar.has(r)}const Dr=new Set(["table","td","th"]);function Or(e){return Dr.has(Te(e))}const Br=[":popover-open",":modal"];function ot(e){return Br.some(t=>{try{return e.matches(t)}catch{return!1}})}const Mr=["transform","translate","scale","rotate","perspective"],Tr=["transform","translate","scale","rotate","perspective","filter"],Er=["paint","layout","strict","content"];function St(e){const t=Pt(),a=ie(e)?de(e):e;return Mr.some(o=>a[o]?a[o]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!t&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!t&&(a.filter?a.filter!=="none":!1)||Tr.some(o=>(a.willChange||"").includes(o))||Er.some(o=>(a.contain||"").includes(o))}function Rr(e){let t=qe(e);for(;he(t)&&!Fe(t);){if(St(t))return t;if(ot(t))return null;t=qe(t)}return null}function Pt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ir=new Set(["html","body","#document"]);function Fe(e){return Ir.has(Te(e))}function de(e){return re(e).getComputedStyle(e)}function rt(e){return ie(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qe(e){if(Te(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ht(e)&&e.host||ve(e);return Ht(t)?t.host:t}function ya(e){const t=qe(e);return Fe(t)?e.ownerDocument?e.ownerDocument.body:e.body:he(t)&&Ve(t)?t:ya(t)}function We(e,t,a){var o;t===void 0&&(t=[]),a===void 0&&(a=!0);const r=ya(e),s=r===((o=e.ownerDocument)==null?void 0:o.body),l=re(r);if(s){const i=ht(l);return t.concat(l,l.visualViewport||[],Ve(r)?r:[],i&&a?We(i):[])}return t.concat(r,We(r,[],a))}function ht(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function va(e){const t=de(e);let a=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=he(e),s=r?e.offsetWidth:a,l=r?e.offsetHeight:o,i=Ye(a)!==s||Ye(o)!==l;return i&&(a=s,o=l),{width:a,height:o,$:i}}function qt(e){return ie(e)?e:e.contextElement}function Ie(e){const t=qt(e);if(!he(t))return me(1);const a=t.getBoundingClientRect(),{width:o,height:r,$:s}=va(t);let l=(s?Ye(a.width):a.width)/o,i=(s?Ye(a.height):a.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const Lr=me(0);function _a(e){const t=re(e);return!Pt()||!t.visualViewport?Lr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fr(e,t,a){return t===void 0&&(t=!1),!a||t&&a!==re(e)?!1:t}function Be(e,t,a,o){t===void 0&&(t=!1),a===void 0&&(a=!1);const r=e.getBoundingClientRect(),s=qt(e);let l=me(1);t&&(o?ie(o)&&(l=Ie(o)):l=Ie(e));const i=Fr(s,a,o)?_a(s):me(0);let u=(r.left+i.x)/l.x,d=(r.top+i.y)/l.y,c=r.width/l.x,p=r.height/l.y;if(s){const _=re(s),w=o&&ie(o)?re(o):o;let x=_,$=ht(x);for(;$&&o&&w!==x;){const A=Ie($),B=$.getBoundingClientRect(),E=de($),R=B.left+($.clientLeft+parseFloat(E.paddingLeft))*A.x,I=B.top+($.clientTop+parseFloat(E.paddingTop))*A.y;u*=A.x,d*=A.y,c*=A.x,p*=A.y,u+=R,d+=I,x=re($),$=ht(x)}}return Je({width:c,height:p,x:u,y:d})}function At(e,t){const a=rt(e).scrollLeft;return t?t.left+a:Be(ve(e)).left+a}function ba(e,t,a){a===void 0&&(a=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(a?0:At(e,o)),s=o.top+t.scrollTop;return{x:r,y:s}}function Nr(e){let{elements:t,rect:a,offsetParent:o,strategy:r}=e;const s=r==="fixed",l=ve(o),i=t?ot(t.floating):!1;if(o===l||i&&s)return a;let u={scrollLeft:0,scrollTop:0},d=me(1);const c=me(0),p=he(o);if((p||!p&&!s)&&((Te(o)!=="body"||Ve(l))&&(u=rt(o)),he(o))){const w=Be(o);d=Ie(o),c.x=w.x+o.clientLeft,c.y=w.y+o.clientTop}const _=l&&!p&&!s?ba(l,u,!0):me(0);return{width:a.width*d.x,height:a.height*d.y,x:a.x*d.x-u.scrollLeft*d.x+c.x+_.x,y:a.y*d.y-u.scrollTop*d.y+c.y+_.y}}function jr(e){return Array.from(e.getClientRects())}function zr(e){const t=ve(e),a=rt(e),o=e.ownerDocument.body,r=ae(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=ae(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-a.scrollLeft+At(e);const i=-a.scrollTop;return de(o).direction==="rtl"&&(l+=ae(t.clientWidth,o.clientWidth)-r),{width:r,height:s,x:l,y:i}}function Hr(e,t){const a=re(e),o=ve(e),r=a.visualViewport;let s=o.clientWidth,l=o.clientHeight,i=0,u=0;if(r){s=r.width,l=r.height;const d=Pt();(!d||d&&t==="fixed")&&(i=r.offsetLeft,u=r.offsetTop)}return{width:s,height:l,x:i,y:u}}const Ur=new Set(["absolute","fixed"]);function Wr(e,t){const a=Be(e,!0,t==="fixed"),o=a.top+e.clientTop,r=a.left+e.clientLeft,s=he(e)?Ie(e):me(1),l=e.clientWidth*s.x,i=e.clientHeight*s.y,u=r*s.x,d=o*s.y;return{width:l,height:i,x:u,y:d}}function Ut(e,t,a){let o;if(t==="viewport")o=Hr(e,a);else if(t==="document")o=zr(ve(e));else if(ie(t))o=Wr(t,a);else{const r=_a(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Je(o)}function wa(e,t){const a=qe(e);return a===t||!ie(a)||Fe(a)?!1:de(a).position==="fixed"||wa(a,t)}function Kr(e,t){const a=t.get(e);if(a)return a;let o=We(e,[],!1).filter(i=>ie(i)&&Te(i)!=="body"),r=null;const s=de(e).position==="fixed";let l=s?qe(e):e;for(;ie(l)&&!Fe(l);){const i=de(l),u=St(l);!u&&i.position==="fixed"&&(r=null),(s?!u&&!r:!u&&i.position==="static"&&!!r&&Ur.has(r.position)||Ve(l)&&!u&&wa(e,l))?o=o.filter(c=>c!==l):r=i,l=qe(l)}return t.set(e,o),o}function Vr(e){let{element:t,boundary:a,rootBoundary:o,strategy:r}=e;const l=[...a==="clippingAncestors"?ot(t)?[]:Kr(t,this._c):[].concat(a),o],i=l[0],u=l.reduce((d,c)=>{const p=Ut(t,c,r);return d.top=ae(p.top,d.top),d.right=Pe(p.right,d.right),d.bottom=Pe(p.bottom,d.bottom),d.left=ae(p.left,d.left),d},Ut(t,i,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Gr(e){const{width:t,height:a}=va(e);return{width:t,height:a}}function Xr(e,t,a){const o=he(t),r=ve(t),s=a==="fixed",l=Be(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const u=me(0);function d(){u.x=At(r)}if(o||!o&&!s)if((Te(t)!=="body"||Ve(r))&&(i=rt(t)),o){const w=Be(t,!0,s,t);u.x=w.x+t.clientLeft,u.y=w.y+t.clientTop}else r&&d();s&&!o&&r&&d();const c=r&&!o&&!s?ba(r,i):me(0),p=l.left+i.scrollLeft-u.x-c.x,_=l.top+i.scrollTop-u.y-c.y;return{x:p,y:_,width:l.width,height:l.height}}function dt(e){return de(e).position==="static"}function Wt(e,t){if(!he(e)||de(e).position==="fixed")return null;if(t)return t(e);let a=e.offsetParent;return ve(e)===a&&(a=a.ownerDocument.body),a}function xa(e,t){const a=re(e);if(ot(e))return a;if(!he(e)){let r=qe(e);for(;r&&!Fe(r);){if(ie(r)&&!dt(r))return r;r=qe(r)}return a}let o=Wt(e,t);for(;o&&Or(o)&&dt(o);)o=Wt(o,t);return o&&Fe(o)&&dt(o)&&!St(o)?a:o||Rr(e)||a}const Yr=async function(e){const t=this.getOffsetParent||xa,a=this.getDimensions,o=await a(e.floating);return{reference:Xr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Qr(e){return de(e).direction==="rtl"}const Jr={convertOffsetParentRelativeRectToViewportRelativeRect:Nr,getDocumentElement:ve,getClippingRect:Vr,getOffsetParent:xa,getElementRects:Yr,getClientRects:jr,getDimensions:Gr,getScale:Ie,isElement:ie,isRTL:Qr};function Ca(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zr(e,t){let a=null,o;const r=ve(e);function s(){var i;clearTimeout(o),(i=a)==null||i.disconnect(),a=null}function l(i,u){i===void 0&&(i=!1),u===void 0&&(u=1),s();const d=e.getBoundingClientRect(),{left:c,top:p,width:_,height:w}=d;if(i||t(),!_||!w)return;const x=Xe(p),$=Xe(r.clientWidth-(c+_)),A=Xe(r.clientHeight-(p+w)),B=Xe(c),R={rootMargin:-x+"px "+-$+"px "+-A+"px "+-B+"px",threshold:ae(0,Pe(1,u))||1};let I=!0;function k(g){const h=g[0].intersectionRatio;if(h!==u){if(!I)return l();h?l(!1,h):o=setTimeout(()=>{l(!1,1e-7)},1e3)}h===1&&!Ca(d,e.getBoundingClientRect())&&l(),I=!1}try{a=new IntersectionObserver(k,{...R,root:r.ownerDocument})}catch{a=new IntersectionObserver(k,R)}a.observe(e)}return l(!0),s}function es(e,t,a,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,d=qt(e),c=r||s?[...d?We(d):[],...We(t)]:[];c.forEach(B=>{r&&B.addEventListener("scroll",a,{passive:!0}),s&&B.addEventListener("resize",a)});const p=d&&i?Zr(d,a):null;let _=-1,w=null;l&&(w=new ResizeObserver(B=>{let[E]=B;E&&E.target===d&&w&&(w.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(t)})),a()}),d&&!u&&w.observe(d),w.observe(t));let x,$=u?Be(e):null;u&&A();function A(){const B=Be(e);$&&!Ca($,B)&&a(),$=B,x=requestAnimationFrame(A)}return a(),()=>{var B;c.forEach(E=>{r&&E.removeEventListener("scroll",a),s&&E.removeEventListener("resize",a)}),p?.(),(B=w)==null||B.disconnect(),w=null,u&&cancelAnimationFrame(x)}}const ts=$r,as=Sr,Kt=xr,os=qr,rs=Cr,ss=wr,ns=Pr,ls=(e,t,a)=>{const o=new Map,r={platform:Jr,...a},s={...r.platform,_c:o};return br(e,t,{...r,platform:s})};function is(e){return e!=null&&typeof e=="object"&&"$el"in e}function yt(e){if(is(e)){const t=e.$el;return $t(t)&&Te(t)==="#comment"?null:t}return e}function Re(e){return typeof e=="function"?e():n(e)}function ds(e){return{name:"arrow",options:e,fn(t){const a=yt(Re(e.element));return a==null?{}:ss({element:a,padding:e.padding}).fn(t)}}}function ka(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vt(e,t){const a=ka(e);return Math.round(t*a)/a}function us(e,t,a){a===void 0&&(a={});const o=a.whileElementsMounted,r=L(()=>{var h;return(h=Re(a.open))!=null?h:!0}),s=L(()=>Re(a.middleware)),l=L(()=>{var h;return(h=Re(a.placement))!=null?h:"bottom"}),i=L(()=>{var h;return(h=Re(a.strategy))!=null?h:"absolute"}),u=L(()=>{var h;return(h=Re(a.transform))!=null?h:!0}),d=L(()=>yt(e.value)),c=L(()=>yt(t.value)),p=M(0),_=M(0),w=M(i.value),x=M(l.value),$=Fa({}),A=M(!1),B=L(()=>{const h={position:w.value,left:"0",top:"0"};if(!c.value)return h;const C=Vt(c.value,p.value),y=Vt(c.value,_.value);return u.value?{...h,transform:"translate("+C+"px, "+y+"px)",...ka(c.value)>=1.5&&{willChange:"transform"}}:{position:w.value,left:C+"px",top:y+"px"}});let E;function R(){if(d.value==null||c.value==null)return;const h=r.value;ls(d.value,c.value,{middleware:s.value,placement:l.value,strategy:i.value}).then(C=>{p.value=C.x,_.value=C.y,w.value=C.strategy,x.value=C.placement,$.value=C.middlewareData,A.value=h!==!1})}function I(){typeof E=="function"&&(E(),E=void 0)}function k(){if(I(),o===void 0){R();return}if(d.value!=null&&c.value!=null){E=o(d.value,c.value,R);return}}function g(){r.value||(A.value=!1)}return De([s,l,i,r],R,{flush:"sync"}),De([d,c],k,{flush:"sync"}),De(r,g,{flush:"sync"}),Na()&&ja(I),{x:Ee(p),y:Ee(_),strategy:Ee(w),placement:Ee(x),middlewareData:Ee($),isPositioned:Ee(A),floatingStyles:B,update:R}}const $a={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[cs,ps]=ye("PopperContent");var fs=S({inheritAttrs:!1,__name:"PopperContent",props:ta({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...$a}),emits:["placed"],setup(e,{emit:t}){const a=e,o=t,r=pa(),{forwardRef:s,currentElement:l}=W(),i=M(),u=M(),{width:d,height:c}=zo(u),p=L(()=>a.side+(a.align!=="center"?`-${a.align}`:"")),_=L(()=>typeof a.collisionPadding=="number"?a.collisionPadding:{top:0,right:0,bottom:0,left:0,...a.collisionPadding}),w=L(()=>Array.isArray(a.collisionBoundary)?a.collisionBoundary:[a.collisionBoundary]),x=L(()=>({padding:_.value,boundary:w.value.filter(lr),altBoundary:w.value.length>0})),$=L(()=>({mainAxis:a.sideFlip,crossAxis:a.alignFlip})),A=Qa(()=>[ts({mainAxis:a.sideOffset+c.value,alignmentAxis:a.alignOffset}),a.prioritizePosition&&a.avoidCollisions&&Kt({...x.value,...$.value}),a.avoidCollisions&&as({mainAxis:!0,crossAxis:!!a.prioritizePosition,limiter:a.sticky==="partial"?ns():void 0,...x.value}),!a.prioritizePosition&&a.avoidCollisions&&Kt({...x.value,...$.value}),os({...x.value,apply:({elements:F,rects:X,availableWidth:V,availableHeight:ne})=>{const{width:Z,height:Q}=X.reference,Y=F.floating.style;Y.setProperty("--reka-popper-available-width",`${V}px`),Y.setProperty("--reka-popper-available-height",`${ne}px`),Y.setProperty("--reka-popper-anchor-width",`${Z}px`),Y.setProperty("--reka-popper-anchor-height",`${Q}px`)}}),u.value&&ds({element:u.value,padding:a.arrowPadding}),ir({arrowWidth:d.value,arrowHeight:c.value}),a.hideWhenDetached&&rs({strategy:"referenceHidden",...x.value})]),B=L(()=>a.reference??r.anchor.value),{floatingStyles:E,placement:R,isPositioned:I,middlewareData:k}=us(B,i,{strategy:a.positionStrategy,placement:p,whileElementsMounted:(...F)=>es(...F,{layoutShift:!a.disableUpdateOnLayoutShift,animationFrame:a.updatePositionStrategy==="always"}),middleware:A}),g=L(()=>ft(R.value)[0]),h=L(()=>ft(R.value)[1]);ea(()=>{I.value&&o("placed")});const C=L(()=>k.value.arrow?.centerOffset!==0),y=M("");Le(()=>{l.value&&(y.value=window.getComputedStyle(l.value).zIndex)});const P=L(()=>k.value.arrow?.x??0),T=L(()=>k.value.arrow?.y??0);return ps({placedSide:g,onArrowChange:F=>u.value=F,arrowX:P,arrowY:T,shouldHideArrow:C}),(F,X)=>(f(),O("div",{ref_key:"floatingRef",ref:i,"data-reka-popper-content-wrapper":"",style:pe({...n(E),transform:n(I)?n(E).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:y.value,"--reka-popper-transform-origin":[n(k).transformOrigin?.x,n(k).transformOrigin?.y].join(" "),...n(k).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[b(n(J),N({ref:n(s)},F.$attrs,{"as-child":a.asChild,as:F.as,"data-side":g.value,"data-align":h.value,style:{animation:n(I)?void 0:"none"}}),{default:m(()=>[q(F.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),Sa=fs;const gs={top:"bottom",right:"left",bottom:"top",left:"right"};var ms=S({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const{forwardRef:t}=W(),a=cs(),o=L(()=>gs[a.placedSide.value]);return(r,s)=>(f(),O("span",{ref:l=>{n(a).onArrowChange(l)},style:pe({position:"absolute",left:n(a).arrowX?.value?`${n(a).arrowX?.value}px`:void 0,top:n(a).arrowY?.value?`${n(a).arrowY?.value}px`:void 0,[o.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n(a).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n(a).placedSide.value],visibility:n(a).shouldHideArrow.value?"hidden":void 0})},[b(nr,N(r.$attrs,{ref:n(t),style:{display:"block"},as:r.as,"as-child":r.asChild,rounded:r.rounded,width:r.width,height:r.height}),{default:m(()=>[q(r.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}}),hs=ms,ys=S({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(a,o)=>(f(),D(n(ga),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),vs=ys;function _s(){const e=M(!1);return le(()=>{He("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),He(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const bs=Ja(_s),[st,ws]=ye(["MenuRoot","MenuSub"],"MenuContext"),[Dt,xs]=ye("MenuRoot");var Cs=S({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t,{modal:r,dir:s}=Ke(a),l=da(s),i=Ze(a,"open",o),u=M(),d=bs();return ws({open:i,onOpenChange:c=>{i.value=c},content:u,onContentChange:c=>{u.value=c}}),xs({onClose:()=>{i.value=!1},isUsingKeyboardRef:d,dir:l,modal:r}),(c,p)=>(f(),D(n(fa),null,{default:m(()=>[q(c.$slots,"default")]),_:3}))}}),ks=Cs;const[Pa,$s]=ye("MenuContent");var Ss=S({__name:"MenuContentImpl",props:ta({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...$a}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:t}){const a=e,o=t,r=st(),s=Dt(),{trapFocus:l,disableOutsidePointerEvents:i,loop:u}=Ke(a);To(),uo(i.value);const d=M(""),c=M(0),p=M(0),_=M(null),w=M("right"),x=M(0),$=M(null),A=M(),{forwardRef:B,currentElement:E}=W(),{handleTypeaheadSearch:R}=Ho();De(E,y=>{r.onContentChange(y)}),Me(()=>{window.clearTimeout(c.value)});function I(y){return w.value===_.value?.side&&fo(y,_.value?.area)}async function k(y){o("openAutoFocus",y),!y.defaultPrevented&&(y.preventDefault(),E.value?.focus({preventScroll:!0}))}function g(y){if(y.defaultPrevented)return;const T=y.target.closest("[data-reka-menu-content]")===y.currentTarget,F=y.ctrlKey||y.altKey||y.metaKey,X=y.key.length===1,V=Mo(y,ra(),E.value,{loop:u.value,arrowKeyOptions:"vertical",dir:s?.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(V)return V?.focus();if(y.code==="Space")return;const ne=A.value?.getItems()??[];if(T&&(y.key==="Tab"&&y.preventDefault(),!F&&X&&R(y.key,ne)),y.target!==E.value||!go.includes(y.key))return;y.preventDefault();const Z=[...ne.map(Q=>Q.ref)];mo.includes(y.key)&&Z.reverse(),ho(Z)}function h(y){y?.currentTarget?.contains?.(y.target)||(window.clearTimeout(c.value),d.value="")}function C(y){if(!pt(y))return;const P=y.target,T=x.value!==y.clientX;if(y?.currentTarget?.contains(P)&&T){const F=y.clientX>x.value?"right":"left";w.value=F,x.value=y.clientX}}return $s({onItemEnter:y=>!!I(y),onItemLeave:y=>{I(y)||(E.value?.focus(),$.value=null)},onTriggerLeave:y=>!!I(y),searchRef:d,pointerGraceTimerRef:p,onPointerGraceIntentChange:y=>{_.value=y}}),(y,P)=>(f(),D(n(po),{"as-child":"",trapped:n(l),onMountAutoFocus:k,onUnmountAutoFocus:P[7]||(P[7]=T=>o("closeAutoFocus",T))},{default:m(()=>[b(n(la),{"as-child":"","disable-outside-pointer-events":n(i),onEscapeKeyDown:P[2]||(P[2]=T=>o("escapeKeyDown",T)),onPointerDownOutside:P[3]||(P[3]=T=>o("pointerDownOutside",T)),onFocusOutside:P[4]||(P[4]=T=>o("focusOutside",T)),onInteractOutside:P[5]||(P[5]=T=>o("interactOutside",T)),onDismiss:P[6]||(P[6]=T=>o("dismiss"))},{default:m(()=>[b(n(Po),{ref_key:"rovingFocusGroupRef",ref:A,"current-tab-stop-id":$.value,"onUpdate:currentTabStopId":P[0]||(P[0]=T=>$.value=T),"as-child":"",orientation:"vertical",dir:n(s).dir.value,loop:n(u),onEntryFocus:P[1]||(P[1]=T=>{o("entryFocus",T),n(s).isUsingKeyboardRef.value||T.preventDefault()})},{default:m(()=>[b(n(Sa),{ref:n(B),role:"menu",as:y.as,"as-child":y.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":n(co)(n(r).open.value),dir:n(s).dir.value,side:y.side,"side-offset":y.sideOffset,align:y.align,"align-offset":y.alignOffset,"avoid-collisions":y.avoidCollisions,"collision-boundary":y.collisionBoundary,"collision-padding":y.collisionPadding,"arrow-padding":y.arrowPadding,"prioritize-position":y.prioritizePosition,"position-strategy":y.positionStrategy,"update-position-strategy":y.updatePositionStrategy,sticky:y.sticky,"hide-when-detached":y.hideWhenDetached,reference:y.reference,onKeydown:g,onBlur:h,onPointermove:C},{default:m(()=>[q(y.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),qa=Ss,Ps=S({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,a=Pa(),{forwardRef:o}=W(),{CollectionItem:r}=qo(),s=M(!1);async function l(u){u.defaultPrevented||pt(u)&&(t.disabled?a.onItemLeave(u):a.onItemEnter(u)||u.currentTarget?.focus({preventScroll:!0}))}async function i(u){await fe(),!u.defaultPrevented&&pt(u)&&a.onItemLeave(u)}return(u,d)=>(f(),D(n(r),{value:{textValue:u.textValue}},{default:m(()=>[b(n(J),N({ref:n(o),role:"menuitem",tabindex:"-1"},u.$attrs,{as:u.as,"as-child":u.asChild,"aria-disabled":u.disabled||void 0,"data-disabled":u.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:l,onPointerleave:i,onFocus:d[0]||(d[0]=async c=>{await fe(),!(c.defaultPrevented||u.disabled)&&(s.value=!0)}),onBlur:d[1]||(d[1]=async c=>{await fe(),!c.defaultPrevented&&(s.value=!1)})}),{default:m(()=>[q(u.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),qs=Ps,As=S({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const a=e,o=t,{forwardRef:r,currentElement:s}=W(),l=Dt(),i=Pa(),u=M(!1);async function d(){const c=s.value;if(!a.disabled&&c){const p=new CustomEvent(vo,{bubbles:!0,cancelable:!0});o("select",p),await fe(),p.defaultPrevented?u.value=!1:l.onClose()}}return(c,p)=>(f(),D(qs,N(a,{ref:n(r),onClick:d,onPointerdown:p[0]||(p[0]=()=>{u.value=!0}),onPointerup:p[1]||(p[1]=async _=>{await fe(),!_.defaultPrevented&&(u.value||_.currentTarget?.click())}),onKeydown:p[2]||(p[2]=async _=>{const w=n(i).searchRef.value!=="";c.disabled||w&&_.key===" "||n(yo).includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})}),{default:m(()=>[q(c.$slots,"default")]),_:3},16))}}),Ds=As,Os=S({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,o=t,r=ce(a,o),s=st(),{forwardRef:l,currentElement:i}=W();return _o(i),(u,d)=>(f(),D(qa,N(n(r),{ref:n(l),"trap-focus":n(s).open.value,"disable-outside-pointer-events":n(s).open.value,"disable-outside-scroll":!0,onDismiss:d[0]||(d[0]=c=>n(s).onOpenChange(!1)),onFocusOutside:d[1]||(d[1]=Oe(c=>o("focusOutside",c),["prevent"]))}),{default:m(()=>[q(u.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),Bs=Os,Ms=S({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=ce(e,t),s=st();return(l,i)=>(f(),D(qa,N(n(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:i[0]||(i[0]=u=>n(s).onOpenChange(!1))}),{default:m(()=>[q(l.$slots,"default")]),_:3},16))}}),Ts=Ms,Es=S({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=ce(e,t),s=st(),l=Dt();return(i,u)=>(f(),D(n(sa),{present:i.forceMount||n(s).open.value},{default:m(()=>[n(l).modal.value?(f(),D(Bs,ee(N({key:0},{...i.$attrs,...n(r)})),{default:m(()=>[q(i.$slots,"default")]),_:3},16)):(f(),D(Ts,ee(N({key:1},{...i.$attrs,...n(r)})),{default:m(()=>[q(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Rs=Es,Is=S({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(a,o)=>(f(),D(n(J),N({role:"group"},t),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),Ls=Is,Fs=S({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e;return(a,o)=>(f(),D(n(J),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),Ns=Fs,js=S({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(a,o)=>(f(),D(n(ia),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),zs=js,Hs=S({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(a,o)=>(f(),D(n(J),N(t,{role:"separator","aria-orientation":"horizontal"}),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),Us=Hs;const[Aa,Ws]=ye("DropdownMenuRoot");var Ks=S({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t;W();const r=Ze(a,"open",o,{defaultValue:a.defaultOpen,passive:a.open===void 0}),s=M(),{modal:l,dir:i}=Ke(a),u=da(i);return Ws({open:r,onOpenChange:d=>{r.value=d},onOpenToggle:()=>{r.value=!r.value},triggerId:"",triggerElement:s,contentId:"",modal:l,dir:u}),(d,c)=>(f(),D(n(ks),{open:n(r),"onUpdate:open":c[0]||(c[0]=p=>za(r)?r.value=p:null),dir:n(u),modal:n(l)},{default:m(()=>[q(d.$slots,"default",{open:n(r)})]),_:3},8,["open","dir","modal"]))}}),Vs=Ks,Gs=S({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const r=ce(e,t);W();const s=Aa(),l=M(!1);function i(u){u.defaultPrevented||(l.value||setTimeout(()=>{s.triggerElement.value?.focus()},0),l.value=!1,u.preventDefault())}return s.contentId||=bt(void 0,"reka-dropdown-menu-content"),(u,d)=>(f(),D(n(Rs),N(n(r),{id:n(s).contentId,"aria-labelledby":n(s)?.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i,onInteractOutside:d[0]||(d[0]=c=>{if(c.defaultPrevented)return;const p=c.detail.originalEvent,_=p.button===0&&p.ctrlKey===!0,w=p.button===2||_;(!n(s).modal.value||w)&&(l.value=!0),n(s).triggerElement.value?.contains(c.target)&&c.preventDefault()})}),{default:m(()=>[q(u.$slots,"default")]),_:3},16,["id","aria-labelledby"]))}}),Xs=Gs,Ys=S({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return W(),(a,o)=>(f(),D(n(Ls),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),Qs=Ys,Js=S({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const a=e,r=eo(t);return W(),(s,l)=>(f(),D(n(Ds),ee(ue({...a,...n(r)})),{default:m(()=>[q(s.$slots,"default")]),_:3},16))}}),Zs=Js,en=S({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return W(),(a,o)=>(f(),D(n(Ns),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),tn=en,an=S({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(a,o)=>(f(),D(n(zs),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),on=an,rn=S({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return W(),(a,o)=>(f(),D(n(Us),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),sn=rn,nn=S({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,a=Aa(),{forwardRef:o,currentElement:r}=W();return le(()=>{a.triggerElement=r}),a.triggerId||=bt(void 0,"reka-dropdown-menu-trigger"),(s,l)=>(f(),D(n(vs),{"as-child":""},{default:m(()=>[b(n(J),{id:n(a).triggerId,ref:n(o),type:s.as==="button"?"button":void 0,"as-child":t.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":n(a).open.value,"aria-controls":n(a).open.value?n(a).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":n(a).open.value?"open":"closed",onClick:l[0]||(l[0]=async i=>{!s.disabled&&i.button===0&&i.ctrlKey===!1&&(n(a)?.onOpenToggle(),await fe(),n(a).open.value&&i.preventDefault())}),onKeydown:l[1]||(l[1]=Ha(i=>{s.disabled||(["Enter"," "].includes(i.key)&&n(a).onOpenToggle(),i.key==="ArrowDown"&&n(a).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())},["enter","space","arrow-down"]))},{default:m(()=>[q(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),ln=nn,dn=S({__name:"TooltipArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return W(),(a,o)=>(f(),D(n(hs),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),un=dn;const[Ot,cn]=ye("TooltipProvider");var pn=S({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,{delayDuration:a,skipDelayDuration:o,disableHoverableContent:r,disableClosingTrigger:s,ignoreNonKeyboardFocus:l,disabled:i}=Ke(t);W();const u=M(!0),d=M(!1),{start:c,stop:p}=oa(()=>{u.value=!0},o,{immediate:!1});return cn({isOpenDelayed:u,delayDuration:a,onOpen(){p(),u.value=!1},onClose(){c()},isPointerInTransitRef:d,disableHoverableContent:r,disableClosingTrigger:s,disabled:i,ignoreNonKeyboardFocus:l}),(_,w)=>q(_.$slots,"default")}}),fn=pn;const Da="tooltip.open",[nt,gn]=ye("TooltipRoot");var mn=S({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t;W();const r=Ot(),s=L(()=>a.disableHoverableContent??r.disableHoverableContent.value),l=L(()=>a.disableClosingTrigger??r.disableClosingTrigger.value),i=L(()=>a.disabled??r.disabled.value),u=L(()=>a.delayDuration??r.delayDuration.value),d=L(()=>a.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),c=Ze(a,"open",o,{defaultValue:a.defaultOpen,passive:a.open===void 0});De(c,R=>{r.onClose&&(R?(r.onOpen(),document.dispatchEvent(new CustomEvent(Da))):r.onClose())});const p=M(!1),_=M(),w=L(()=>c.value?p.value?"delayed-open":"instant-open":"closed"),{start:x,stop:$}=oa(()=>{p.value=!0,c.value=!0},u,{immediate:!1});function A(){$(),p.value=!1,c.value=!0}function B(){$(),c.value=!1}function E(){x()}return gn({contentId:"",open:c,stateAttribute:w,trigger:_,onTriggerChange(R){_.value=R},onTriggerEnter(){r.isOpenDelayed.value?E():A()},onTriggerLeave(){s.value?B():$()},onOpen:A,onClose:B,disableHoverableContent:s,disableClosingTrigger:l,disabled:i,ignoreNonKeyboardFocus:d}),(R,I)=>(f(),D(n(fa),null,{default:m(()=>[q(R.$slots,"default",{open:n(c)})]),_:3}))}}),hn=mn,yn=S({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const a=e,o=t,r=nt(),{forwardRef:s}=W(),l=Ua(),i=L(()=>l.default?.({})),u=L(()=>{if(a.ariaLabel)return a.ariaLabel;let c="";function p(_){typeof _.children=="string"&&_.type!==Wa?c+=_.children:Array.isArray(_.children)&&_.children.forEach(w=>p(w))}return i.value?.forEach(_=>p(_)),c}),d=L(()=>{const{ariaLabel:c,...p}=a;return p});return le(()=>{He(window,"scroll",c=>{c.target?.contains(r.trigger.value)&&r.onClose()}),He(window,Da,r.onClose)}),(c,p)=>(f(),D(n(la),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:p[0]||(p[0]=_=>o("escapeKeyDown",_)),onPointerDownOutside:p[1]||(p[1]=_=>{n(r).disableClosingTrigger.value&&n(r).trigger.value?.contains(_.target)&&_.preventDefault(),o("pointerDownOutside",_)}),onFocusOutside:p[2]||(p[2]=Oe(()=>{},["prevent"])),onDismiss:p[3]||(p[3]=_=>n(r).onClose())},{default:m(()=>[b(n(Sa),N({ref:n(s),"data-state":n(r).stateAttribute.value},{...c.$attrs,...d.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:m(()=>[q(c.$slots,"default"),b(n(Ao),{id:n(r).contentId,role:"tooltip"},{default:m(()=>[oe(z(u.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Oa=yn,vn=S({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(e){const a=tt(e),{forwardRef:o,currentElement:r}=W(),{trigger:s,onClose:l}=nt(),i=Ot(),{isPointerInTransit:u,onPointerExit:d}=Eo(s,r);return i.isPointerInTransitRef=u,d(()=>{l()}),(c,p)=>(f(),D(Oa,N({ref:n(o)},n(a)),{default:m(()=>[q(c.$slots,"default")]),_:3},16))}}),_n=vn,bn=S({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const a=e,o=t,r=nt(),s=ce(a,o),{forwardRef:l}=W();return(i,u)=>(f(),D(n(sa),{present:i.forceMount||n(r).open.value},{default:m(()=>[(f(),D(vt(n(r).disableHoverableContent.value?Oa:_n),N({ref:n(l)},n(s)),{default:m(()=>[q(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),wn=bn,xn=S({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(a,o)=>(f(),D(n(ia),ee(ue(t)),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),Cn=xn,kn=S({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,a=nt(),o=Ot();a.contentId||=bt(void 0,"reka-tooltip-content");const{forwardRef:r,currentElement:s}=W(),l=M(!1),i=M(!1),u=L(()=>a.disabled.value?{}:{click:$,focus:w,pointermove:p,pointerleave:_,pointerdown:c,blur:x});le(()=>{a.onTriggerChange(s.value)});function d(){setTimeout(()=>{l.value=!1},1)}function c(){a.open&&!a.disableClosingTrigger.value&&a.onClose(),l.value=!0,document.addEventListener("pointerup",d,{once:!0})}function p(A){A.pointerType!=="touch"&&!i.value&&!o.isPointerInTransitRef.value&&(a.onTriggerEnter(),i.value=!0)}function _(){a.onTriggerLeave(),i.value=!1}function w(A){l.value||a.ignoreNonKeyboardFocus.value&&!A.target.matches?.(":focus-visible")||a.onOpen()}function x(){a.onClose()}function $(){a.disableClosingTrigger.value||a.onClose()}return(A,B)=>(f(),D(n(ga),{"as-child":"",reference:A.reference},{default:m(()=>[b(n(J),N({ref:n(r),"aria-describedby":n(a).open.value?n(a).contentId:void 0,"data-state":n(a).stateAttribute.value,as:A.as,"as-child":t.asChild,"data-grace-area-trigger":""},Ka(u.value)),{default:m(()=>[q(A.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),$n=kn;const Sn=S({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=ce(e,t);return(s,l)=>(f(),D(n(bo),N({"data-slot":"sheet"},n(r)),{default:m(()=>[q(s.$slots,"default")]),_:3},16))}}),Pn=S({__name:"SheetOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(f(),D(n(wo),N({"data-slot":"sheet-overlay",class:n(H)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t.class)},a.value),{default:m(()=>[q(o.$slots,"default")]),_:3},16,["class"]))}}),qn=S({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{default:"right"},forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const a=e,o=t,r=et(a,"class","side"),s=ce(r,o);return(l,i)=>(f(),D(n(xo),null,{default:m(()=>[b(Pn),b(n(Co),N({"data-slot":"sheet-content",class:n(H)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",l.side==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",l.side==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",l.side==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",l.side==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a.class)},{...n(s),...l.$attrs}),{default:m(()=>[q(l.$slots,"default"),b(n(ko),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none"},{default:m(()=>[b(n($o),{class:"size-4"}),i[0]||(i[0]=v("span",{class:"sr-only"},"Close",-1))]),_:1,__:[0]})]),_:3},16,["class"])]),_:3}))}}),An=S({__name:"SheetDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(f(),D(n(to),N({"data-slot":"sheet-description",class:n(H)("text-muted-foreground text-sm",t.class)},a.value),{default:m(()=>[q(o.$slots,"default")]),_:3},16,["class"]))}}),Dn=S({__name:"SheetHeader",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("div",{"data-slot":"sheet-header",class:j(n(H)("flex flex-col gap-1.5 p-4",t.class))},[q(a.$slots,"default")],2))}}),On=S({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(f(),D(n(So),N({"data-slot":"sheet-title",class:n(H)("text-foreground font-semibold",t.class)},a.value),{default:m(()=>[q(o.$slots,"default")]),_:3},16,["class"]))}}),Bn="sidebar_state",Mn=3600*24*7,Tn="16rem",En="18rem",Rn="3rem",In="b",[lt,Ln]=ye("Sidebar"),Fn={class:"flex h-full w-full flex-col"},Nn=["data-state","data-collapsible","data-variant","data-side"],jn={"data-sidebar":"sidebar",class:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"},zn=S({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{}},setup(e){const t=e,{isMobile:a,state:o,openMobile:r,setOpenMobile:s}=lt();return(l,i)=>l.collapsible==="none"?(f(),O("div",N({key:0,"data-slot":"sidebar",class:n(H)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",t.class)},l.$attrs),[q(l.$slots,"default")],16)):n(a)?(f(),D(n(Sn),N({key:1,open:n(r)},l.$attrs,{"onUpdate:open":n(s)}),{default:m(()=>[b(n(qn),{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",side:l.side,class:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:pe({"--sidebar-width":n(En)})},{default:m(()=>[b(Dn,{class:"sr-only"},{default:m(()=>[b(On,null,{default:m(()=>i[0]||(i[0]=[oe("Sidebar",-1)])),_:1,__:[0]}),b(An,null,{default:m(()=>i[1]||(i[1]=[oe("Displays the mobile sidebar.",-1)])),_:1,__:[1]})]),_:1}),v("div",Fn,[q(l.$slots,"default")])]),_:3},8,["side","style"])]),_:3},16,["open","onUpdate:open"])):(f(),O("div",{key:2,class:"group peer text-sidebar-foreground hidden md:block","data-slot":"sidebar","data-state":n(o),"data-collapsible":n(o)==="collapsed"?l.collapsible:"","data-variant":l.variant,"data-side":l.side},[v("div",{class:j(n(H)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",l.variant==="floating"||l.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)"))},null,2),v("div",N({class:n(H)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",l.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",l.variant==="floating"||l.variant==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",t.class),style:{"padding-right":"0px"}},l.$attrs),[v("div",jn,[q(l.$slots,"default")])],16)],8,Nn))}}),Hn=S({__name:"SidebarContent",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("div",{"data-slot":"sidebar-content","data-sidebar":"content",class:j(n(H)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t.class))},[q(a.$slots,"default")],2))}}),Un=S({__name:"SidebarFooter",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",class:j(n(H)("flex flex-col gap-2 p-2",t.class))},[q(a.$slots,"default")],2))}}),Wn=S({__name:"SidebarGroup",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("div",{"data-slot":"sidebar-group","data-sidebar":"group",class:j(n(H)("relative flex w-full min-w-0 flex-col p-2",t.class))},[q(a.$slots,"default")],2))}}),Kn=S({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e;return(a,o)=>(f(),D(n(J),{"data-slot":"sidebar-group-label","data-sidebar":"group-label",as:a.as,"as-child":a.asChild,class:j(n(H)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t.class))},{default:m(()=>[q(a.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Vn=S({__name:"SidebarHeader",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:j(n(H)("flex flex-col gap-2 p-2",t.class))},[q(a.$slots,"default")],2))}}),Gn=S({__name:"SidebarInset",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("main",{"data-slot":"sidebar-inset",class:j(n(H)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",t.class))},[q(a.$slots,"default")],2))}}),Bt=S({__name:"SidebarMenu",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",class:j(n(H)("flex w-full min-w-0 flex-col gap-1",t.class))},[q(a.$slots,"default")],2))}}),Xn=S({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=ce(e,t);return(s,l)=>(f(),D(n(hn),N({"data-slot":"tooltip"},n(r)),{default:m(()=>[q(s.$slots,"default")]),_:3},16))}}),Yn=S({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const a=e,o=t,r=et(a,"class"),s=ce(r,o);return(l,i)=>(f(),D(n(Cn),null,{default:m(()=>[b(n(wn),N({"data-slot":"tooltip-content"},{...n(s),...l.$attrs},{class:n(H)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",a.class)}),{default:m(()=>[q(l.$slots,"default"),b(n(un),{class:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]),_:3},16,["class"])]),_:3}))}}),Qn=S({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(a,o)=>(f(),D(n($n),N({"data-slot":"tooltip-trigger"},t),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),Gt=S({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const t=e;return(a,o)=>(f(),D(n(J),N({"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a.size,"data-active":a.isActive,class:n(H)(n(el)({variant:a.variant,size:a.size}),t.class),as:a.as,"as-child":a.asChild},a.$attrs),{default:m(()=>[q(a.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),Ae=S({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(e){const t=e,{isMobile:a,state:o}=lt(),r=L(()=>{const{tooltip:s,...l}=t;return l});return(s,l)=>s.tooltip?(f(),D(n(Xn),{key:1},{default:m(()=>[b(n(Qn),{"as-child":""},{default:m(()=>[b(Gt,ee(ue({...r.value,...s.$attrs})),{default:m(()=>[q(s.$slots,"default")]),_:3},16)]),_:3}),b(n(Yn),{side:"right",align:"center",hidden:n(o)!=="collapsed"||n(a)},{default:m(()=>[typeof s.tooltip=="string"?(f(),O(G,{key:0},[oe(z(s.tooltip),1)],64)):(f(),D(vt(s.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(f(),D(Gt,ee(N({key:0},{...r.value,...s.$attrs})),{default:m(()=>[q(s.$slots,"default")]),_:3},16))}}),_e=S({__name:"SidebarMenuItem",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",class:j(n(H)("group/menu-item relative",t.class))},[q(a.$slots,"default")],2))}}),Jn=S({__name:"SidebarProvider",props:{defaultOpen:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},class:{}},emits:["update:open"],setup(e,{emit:t}){const a=e,o=t,r=Za("(max-width: 768px)"),s=M(!1),l=Ze(a,"open",o,{defaultValue:a.defaultOpen??!1,passive:a.open===void 0});function i(p){l.value=p,document.cookie=`${Bn}=${l.value}; path=/; max-age=${Mn}`}function u(p){s.value=p}function d(){return r.value?u(!s.value):i(!l.value)}He("keydown",p=>{p.key===In&&(p.metaKey||p.ctrlKey)&&(p.preventDefault(),d())});const c=L(()=>l.value?"expanded":"collapsed");return Ln({state:c,open:l,setOpen:i,isMobile:r,openMobile:s,setOpenMobile:u,toggleSidebar:d}),(p,_)=>(f(),D(n(fn),{"delay-duration":0},{default:m(()=>[v("div",N({"data-slot":"sidebar-wrapper",style:{"--sidebar-width":n(Tn),"--sidebar-width-icon":n(Rn)},class:n(H)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a.class)},p.$attrs),[q(p.$slots,"default")],16)]),_:3}))}}),Zn=S({__name:"SidebarTrigger",props:{class:{}},setup(e){const t=e,{toggleSidebar:a}=lt();return(o,r)=>(f(),D(n(Ra),{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",class:j(n(H)("h-7 w-7",t.class)),onClick:n(a)},{default:m(()=>[b(n(ao)),r[0]||(r[0]=v("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1,__:[0]},8,["class","onClick"]))}}),el=Ia("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:pr-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),tl=S({__name:"AppContent",props:{variant:{},class:{},projectColor:{}},setup(e){const t=e,a=L(()=>t.class);return(o,r)=>t.variant==="sidebar"?(f(),D(n(Gn),{key:0,class:j(a.value)},{default:m(()=>[q(o.$slots,"default")]),_:3},8,["class"])):(f(),O("main",{key:1,class:j(["mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",a.value]),style:pe(o.projectColor?{borderColor:o.projectColor,borderWidth:"1px",borderStyle:"solid"}:{})},[q(o.$slots,"default")],6))}}),al={class:"fixed top-4 right-4 z-50 space-y-2"},ol={class:"flex-shrink-0"},rl={class:"flex-1"},sl={class:"font-medium"},nl={key:0,class:"text-sm opacity-90"},ll=["onClick"],il=S({__name:"NotificationSystem",setup(e,{expose:t}){const a=M([]),o=i=>{switch(i){case"success":return"CheckCircle";case"error":return"XCircle";case"warning":return"AlertTriangle";case"info":return"Info";default:return"Info"}},r=i=>{const u=Date.now().toString()+Math.random().toString(36).substr(2,9),d={id:u,...i,duration:i.duration||5e3};return a.value.push(d),d.duration>0&&setTimeout(()=>{s(u)},d.duration),u},s=i=>{const u=a.value.findIndex(d=>d.id===i);u>-1&&a.value.splice(u,1)};return t({addNotification:r,removeNotification:s,clearAll:()=>{a.value=[]}}),le(()=>{window.$notify=r}),(i,u)=>(f(),O("div",al,[b(Va,{name:"notification",tag:"div",class:"space-y-2"},{default:m(()=>[(f(!0),O(G,null,be(a.value,d=>(f(),O("div",{key:d.id,class:j(["flex items-center gap-3 p-4 rounded-lg shadow-lg border-l-4 min-w-80 max-w-md",d.type==="success"?"bg-green-500 border-green-600 text-white dark:bg-green-600 dark:border-green-700":d.type==="error"?"bg-red-500 border-red-600 text-white dark:bg-red-600 dark:border-red-700":d.type==="warning"?"bg-yellow-500 border-yellow-600 text-white dark:bg-yellow-600 dark:border-yellow-700":"bg-blue-500 border-blue-600 text-white dark:bg-blue-600 dark:border-blue-700"])},[v("div",ol,[b(K,{name:o(d.type),class:"w-5 h-5 text-white"},null,8,["name"])]),v("div",rl,[v("p",sl,z(d.title),1),d.message?(f(),O("p",nl,z(d.message),1)):U("",!0)]),v("button",{onClick:c=>s(d.id),class:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[b(K,{name:"X",class:"w-4 h-4"})],8,ll)],2))),128))]),_:1})]))}}),Xt=na(il,[["__scopeId","data-v-9e388c2d"]]),dl={key:0,class:"flex min-h-screen w-full flex-col"},ul=S({__name:"AppShell",props:{variant:{}},setup(e){const t=Ne().props.sidebarOpen;return(a,o)=>a.variant==="header"?(f(),O("div",dl,[q(a.$slots,"default"),b(Xt)])):(f(),D(n(Jn),{key:1,"default-open":n(t)},{default:m(()=>[q(a.$slots,"default"),b(Xt)]),_:3},8,["default-open"]))}}),cl={class:"flex items-center gap-2 w-full"},pl=["onDragstart"],fl={class:"flex-1 truncate"},gl={class:"text-xs text-gray-500 flex-shrink-0"},ml={class:"reveal-on-hover-focus"},hl=["onClick","tooltip"],yl={class:"flex-1 truncate"},vl={class:"text-xs text-gray-500"},_l={class:"flex items-center gap-2 w-full"},bl=["onDragstart"],wl={class:"flex-1 truncate"},xl={class:"text-xs text-gray-500 flex-shrink-0"},Cl={class:"reveal-on-hover-focus"},kl=["onClick","tooltip"],$l={class:"flex items-center gap-2 w-full"},Sl=["onDragstart"],Pl={class:"flex-1 truncate"},ql={class:"text-xs text-gray-500 flex-shrink-0"},Al={class:"reveal-on-hover-focus"},Dl=["onClick","tooltip"],Ol=S({__name:"NavProjects",setup(e){const t=M([]),a=M(null),o=M(null),r=M(!1),s=M(!1),l=M(new Set);let i=null;const u=L(()=>window.location.pathname==="/subscription");le(async()=>{await d(),i=te.onProject(async g=>{switch(console.log("Real-time project event received:",g),g.type){case"project_created":const h=g.data;t.value.find(F=>F.id===h.id)||(t.value.push(h),console.log("Added new project to list:",h.name));break;case"project_updated":const C=g.data,y=t.value.findIndex(F=>F.id===C.id);y!==-1&&(t.value[y]=C,console.log("Updated project in list:",C.name));break;case"project_deleted":const P=g.data,T=t.value.findIndex(F=>F.id===P.id);T!==-1&&(t.value.splice(T,1),console.log("Removed project from list:",P.name));break}}),window.addEventListener("projectCreated",async()=>{await d()}),window.addEventListener("todoChanged",async()=>{await d()}),window.addEventListener("projectSelected",async g=>{if(g.detail?.projectId&&!s.value){s.value=!0;try{const h=t.value.find(C=>C.id===g.detail.projectId);h&&(o.value=h,console.log("Sidebar updated to show selected project:",h.name))}finally{s.value=!1}}}),window.addEventListener("subscription-downgrade",async g=>{console.log("Subscription downgrade detected, reloading projects:",g.detail),await d()})}),Me(()=>{i&&i()});const d=async()=>{try{r.value=!0;const g=await Ge.getProjectsWithStats();console.log("Projects with stats:",g),Array.isArray(g)?(t.value=g,a.value=null):g.data&&Array.isArray(g.data)?(t.value=g.data,a.value=g.grouped||null):(t.value=[],a.value=null);const h=localStorage.getItem("currentProjectId");if(h){const C=t.value.find(y=>y.id===parseInt(h));C&&(o.value=C)}}catch(g){console.error("Failed to load projects:",g)}finally{r.value=!1}},c=g=>{o.value=g,localStorage.setItem("currentProjectId",g.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:g.id}})),window.location.href="/dashboard"},p=async(g,h)=>{h.stopPropagation();const C=g.total_todos||0;if(C>0){if(confirm(`Project "${g.name}" contains ${C} todos.

Choose:
- OK: Delete project AND all todos
- Cancel: Keep project and todos`)&&confirm(` FINAL WARNING: This will permanently delete:
 Project: "${g.name}"
 ${C} todos

This action CANNOT be undone. Are you absolutely sure?`))try{await Ge.deleteProjectWithTodos(g.id);const P=t.value.findIndex(T=>T.id===g.id);if(P!==-1&&t.value.splice(P,1),o.value?.id===g.id){let T=null;t.value.length>0&&(P<t.value.length?T=t.value[P]:P>0?T=t.value[P-1]:T=t.value[0]),T?(o.value=T,localStorage.setItem("currentProjectId",T.id.toString()),console.log(`Auto-selected next project: ${T.name} (ID: ${T.id})`),console.log("Projects remaining after deletion:",t.value.map(F=>({id:F.id,name:F.name}))),console.log("Updated localStorage to project ID:",T.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:T.id}}))):(o.value=null,localStorage.removeItem("currentProjectId"),console.log("No projects left after deletion"),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:null}})))}console.log(`Project "${g.name}" and ${C} todos deleted successfully`),window.dispatchEvent(new CustomEvent("todoChanged")),window.dispatchEvent(new CustomEvent("projectListChanged")),window.$notify&&window.$notify({type:"success",title:"Project Deleted",message:`Project "${g.name}" and ${C} todos have been deleted successfully.`})}catch(P){console.error("Failed to delete project with todos:",P),window.$notify&&window.$notify({type:"error",title:"Delete Failed",message:"Failed to delete project. Please try again."})}}else if(confirm(`Are you sure you want to delete "${g.name}"? This action cannot be undone.`))try{await Ge.deleteProject(g.id);const y=t.value.findIndex(P=>P.id===g.id);if(y!==-1&&t.value.splice(y,1),o.value?.id===g.id){let P=null;t.value.length>0&&(y<t.value.length?P=t.value[y]:y>0?P=t.value[y-1]:P=t.value[0]),P?(o.value=P,localStorage.setItem("currentProjectId",P.id.toString()),console.log(`Auto-selected next project: ${P.name} (ID: ${P.id})`),console.log("Projects remaining after deletion:",t.value.map(T=>({id:T.id,name:T.name}))),console.log("Updated localStorage to project ID:",P.id.toString()),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:P.id}}))):(o.value=null,localStorage.removeItem("currentProjectId"),console.log("No projects left after deletion"),window.dispatchEvent(new CustomEvent("projectSelected",{detail:{projectId:null}})))}console.log(`Project "${g.name}" deleted successfully`),window.dispatchEvent(new CustomEvent("todoChanged")),window.dispatchEvent(new CustomEvent("projectListChanged")),window.$notify&&window.$notify({type:"success",title:"Project Deleted",message:`Project "${g.name}" has been deleted successfully.`})}catch(y){console.error("Failed to delete project:",y),window.$notify&&window.$notify({type:"error",title:"Delete Failed",message:"Failed to delete project. Please try again."})}},_=()=>{if(u.value){window.$notify&&window.$notify({type:"warning",title:"Project Creation Unavailable",message:"Please complete your subscription upgrade to create new projects."});return}window.dispatchEvent(new CustomEvent("openCreateProjectModal"))},w=M(null),x=M(null),$=(g,h)=>{w.value=h,g.dataTransfer&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",h.id.toString()))},A=(g,h)=>{g.preventDefault(),g.dataTransfer&&(g.dataTransfer.dropEffect="move"),x.value=h},B=()=>{x.value=null},E=async(g,h)=>{if(g.preventDefault(),x.value=null,!w.value)return;const C=t.value.findIndex(F=>F.id===w.value.id);if(C===-1||C===h){w.value=null;return}const y=[...t.value],[P]=y.splice(C,1);y.splice(h,0,P);const T=y.map((F,X)=>({id:F.id,viewing_order:X+1}));try{await Ge.updateProjectOrder(T),t.value=y,window.$notify&&window.$notify({type:"success",title:"Project Order Updated",message:"Projects have been reordered successfully."})}catch(F){console.error("Failed to update project order:",F),window.$notify&&window.$notify({type:"error",title:"Update Failed",message:"Failed to reorder projects. Please try again."})}w.value=null},R=()=>{w.value=null,x.value=null},I=g=>{l.value.has(g)?l.value.delete(g):l.value.add(g)},k=g=>l.value.has(g);return(g,h)=>(f(),D(n(Wn),{class:"px-2 py-0"},{default:m(()=>[b(n(Kn),null,{default:m(()=>h[3]||(h[3]=[oe("Projects",-1)])),_:1,__:[3]}),b(n(Bt),null,{default:m(()=>[b(n(_e),null,{default:m(()=>[b(n(Ae),{onClick:_,tooltip:u.value?"Complete subscription upgrade to create projects":"Create New Project",class:j({"opacity-50 cursor-not-allowed":u.value})},{default:m(()=>[b(K,{name:"Plus",class:"w-4 h-4"}),h[4]||(h[4]=v("span",null,"New Project",-1))]),_:1,__:[4]},8,["tooltip","class"])]),_:1}),a.value?(f(),O(G,{key:0},[a.value.no_client&&a.value.no_client.length>0?(f(),O(G,{key:0},[b(n(_e),null,{default:m(()=>h[5]||(h[5]=[v("div",{class:"px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"No Client",-1)])),_:1,__:[5]}),(f(!0),O(G,null,be(a.value.no_client,(C,y)=>(f(),D(n(_e),{key:`no-client-${C.id}`,onDragover:P=>A(P,y),onDragleave:B,onDrop:P=>E(P,y),class:j({"drag-over":x.value===y})},{default:m(()=>[b(n(Ae),{onClick:P=>c(C),"is-active":o.value?.id===C.id,tooltip:C.name,class:j(["group relative ml-2",{"selected-project":o.value?.id===C.id}]),style:pe(o.value?.id===C.id?{borderTop:`1px solid ${C.color}`,borderLeft:`1px solid ${C.color}`,borderBottom:`1px solid ${C.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[v("div",cl,[v("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:pe({backgroundColor:C.color}),draggable:"true",onDragstart:P=>$(P,C),onDragend:R,title:"Drag to reorder"},null,44,pl),v("span",fl,z(C.name),1),v("span",gl,z(C.total_todos||0),1),v("div",ml,[v("button",{onTouchstart:h[0]||(h[0]=Oe(()=>{},["stop"])),onClick:P=>p(C,P),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${C.name}`},[b(K,{name:"Trash2",class:"w-3 h-3"})],40,hl)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128))],64)):U("",!0),(f(!0),O(G,null,be(Object.values(a.value.clients),C=>(f(),O(G,{key:`client-${C.id}`},[b(n(_e),null,{default:m(()=>[b(n(Ae),{onClick:y=>I(C.name),class:"text-xs font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"},{default:m(()=>[b(K,{name:k(C.name)?"ChevronRight":"ChevronDown",class:"w-3 h-3"},null,8,["name"]),v("span",yl,z(C.name),1),v("span",vl,z(C.projects.length),1)]),_:2},1032,["onClick"])]),_:2},1024),k(C.name)?U("",!0):(f(!0),O(G,{key:0},be(C.projects,(y,P)=>(f(),D(n(_e),{key:`client-${C.id}-project-${y.id}`,onDragover:T=>A(T,P),onDragleave:B,onDrop:T=>E(T,P),class:j({"drag-over":x.value===P})},{default:m(()=>[b(n(Ae),{onClick:T=>c(y),"is-active":o.value?.id===y.id,tooltip:y.name,class:j(["group relative ml-4",{"selected-project":o.value?.id===y.id}]),style:pe(o.value?.id===y.id?{borderTop:`1px solid ${y.color}`,borderLeft:`1px solid ${y.color}`,borderBottom:`1px solid ${y.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[v("div",_l,[v("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:pe({backgroundColor:y.color}),draggable:"true",onDragstart:T=>$(T,y),onDragend:R,title:"Drag to reorder"},null,44,bl),v("span",wl,z(y.name),1),v("span",xl,z(y.total_todos||0),1),v("div",Cl,[v("button",{onTouchstart:h[1]||(h[1]=Oe(()=>{},["stop"])),onClick:T=>p(y,T),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${y.name}`},[b(K,{name:"Trash2",class:"w-3 h-3"})],40,kl)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128))],64))),128))],64)):(f(!0),O(G,{key:1},be(t.value,(C,y)=>(f(),D(n(_e),{key:C.id,onDragover:P=>A(P,y),onDragleave:B,onDrop:P=>E(P,y),class:j({"drag-over":x.value===y})},{default:m(()=>[b(n(Ae),{onClick:P=>c(C),"is-active":o.value?.id===C.id,tooltip:C.name,class:j(["group relative",{"selected-project":o.value?.id===C.id}]),style:pe(o.value?.id===C.id?{borderTop:`1px solid ${C.color}`,borderLeft:`1px solid ${C.color}`,borderBottom:`1px solid ${C.color}`,borderRight:"none",marginRight:"-2px",borderRadius:"15px 0px 0px 15px"}:{})},{default:m(()=>[v("div",$l,[v("div",{class:"w-3 h-3 rounded-full flex-shrink-0 cursor-move hover:scale-110 transition-transform",style:pe({backgroundColor:C.color}),draggable:"true",onDragstart:P=>$(P,C),onDragend:R,title:"Drag to reorder"},null,44,Sl),v("span",Pl,z(C.name),1),v("span",ql,z(C.total_todos||0),1),v("div",Al,[v("button",{onTouchstart:h[2]||(h[2]=Oe(()=>{},["stop"])),onClick:P=>p(C,P),class:"text-gray-400 hover:text-red-500 transition-colors",tooltip:`Delete ${C.name}`},[b(K,{name:"Trash2",class:"w-3 h-3"})],40,Dl)])])]),_:2},1032,["onClick","is-active","tooltip","class","style"])]),_:2},1032,["onDragover","onDrop","class"]))),128)),r.value?(f(),D(n(_e),{key:2},{default:m(()=>[b(n(Ae),{disabled:""},{default:m(()=>[b(K,{name:"Loader2",class:"w-4 h-4 animate-spin"}),h[6]||(h[6]=v("span",null,"Loading...",-1))]),_:1,__:[6]})]),_:1})):U("",!0)]),_:1})]),_:1}))}}),Bl=na(Ol,[["__scopeId","data-v-20aa7734"]]),Ml=S({__name:"Avatar",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),D(n(Go),{"data-slot":"avatar",class:j(n(H)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t.class))},{default:m(()=>[q(a.$slots,"default")]),_:3},8,["class"]))}}),Tl=S({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(f(),D(n(Yo),N({"data-slot":"avatar-fallback"},a.value,{class:n(H)("bg-muted flex size-full items-center justify-center rounded-full",t.class)}),{default:m(()=>[q(o.$slots,"default")]),_:3},16,["class"]))}}),El=S({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(a,o)=>(f(),D(n(Zo),N({"data-slot":"avatar-image"},t,{class:"aspect-square size-full"}),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}});function Rl(e){if(!e)return"";const t=e.trim().split(" ");return t.length===0?"":t.length===1?t[0].charAt(0).toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`.toUpperCase()}function Il(){return{getInitials:Rl}}const Ll={class:"grid flex-1 text-left text-sm leading-tight"},Fl={class:"truncate font-medium"},Nl={key:0,class:"truncate text-xs text-muted-foreground"},Ba=S({__name:"UserInfo",props:{user:{},showEmail:{type:Boolean,default:!1}},setup(e){const t=e,{getInitials:a}=Il(),o=L(()=>t.user.avatar&&t.user.avatar!=="");return(r,s)=>(f(),O(G,null,[b(n(Ml),{class:"h-8 w-8 overflow-hidden rounded-lg"},{default:m(()=>[o.value?(f(),D(n(El),{key:0,src:r.user.avatar,alt:r.user.name},null,8,["src","alt"])):U("",!0),b(n(Tl),{class:"rounded-lg text-black dark:text-white"},{default:m(()=>[oe(z(n(a)(r.user.name)),1)]),_:1})]),_:1}),v("div",Ll,[v("span",Fl,z(r.user.name),1),r.showEmail?(f(),O("span",Nl,z(r.user.email),1)):U("",!0)])],64))}}),jl=S({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=ce(e,t);return(s,l)=>(f(),D(n(Vs),N({"data-slot":"dropdown-menu"},n(r)),{default:m(()=>[q(s.$slots,"default")]),_:3},16))}}),zl=S({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const a=e,o=t,r=L(()=>{const{class:l,...i}=a;return i}),s=ce(r,o);return(l,i)=>(f(),D(n(on),null,{default:m(()=>[b(n(Xs),N({"data-slot":"dropdown-menu-content"},n(s),{class:n(H)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--reka-dropdown-menu-content-available-height) min-w-[8rem] origin-(--reka-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a.class)}),{default:m(()=>[q(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Hl=S({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(a,o)=>(f(),D(n(Qs),N({"data-slot":"dropdown-menu-group"},t),{default:m(()=>[q(a.$slots,"default")]),_:3},16))}}),ut=S({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean},variant:{default:"default"}},setup(e){const t=e,a=et(t,"inset","variant"),o=tt(a);return(r,s)=>(f(),D(n(Zs),N({"data-slot":"dropdown-menu-item","data-inset":r.inset?"":void 0,"data-variant":r.variant},n(o),{class:n(H)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class)}),{default:m(()=>[q(r.$slots,"default")]),_:3},16,["data-inset","data-variant","class"]))}}),Ul=S({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const t=e,a=et(t,"class","inset"),o=tt(a);return(r,s)=>(f(),D(n(tn),N({"data-slot":"dropdown-menu-label","data-inset":r.inset?"":void 0},n(o),{class:n(H)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t.class)}),{default:m(()=>[q(r.$slots,"default")]),_:3},16,["data-inset","class"]))}}),Yt=S({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,a=L(()=>{const{class:o,...r}=t;return r});return(o,r)=>(f(),D(n(sn),N({"data-slot":"dropdown-menu-separator"},a.value,{class:n(H)("bg-border -mx-1 my-1 h-px",t.class)}),null,16,["class"]))}}),Wl=S({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const a=tt(e);return(o,r)=>(f(),D(n(ln),N({"data-slot":"dropdown-menu-trigger"},n(a)),{default:m(()=>[q(o.$slots,"default")]),_:3},16))}}),se=e=>({url:se.url(e),method:"get"});se.definition={methods:["get","head"],url:"/settings/profile"};se.url=e=>se.definition.url+wt(e);se.get=e=>({url:se.url(e),method:"get"});se.head=e=>({url:se.url(e),method:"head"});const Mt=e=>({action:se.url(e),method:"get"});Mt.get=e=>({action:se.url(e),method:"get"});Mt.head=e=>({action:se.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});se.form=Mt;const ke=e=>({url:ke.url(e),method:"patch"});ke.definition={methods:["patch"],url:"/settings/profile"};ke.url=e=>ke.definition.url+wt(e);ke.patch=e=>({url:ke.url(e),method:"patch"});const Ma=e=>({action:ke.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Ma.patch=e=>({action:ke.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});ke.form=Ma;const $e=e=>({url:$e.url(e),method:"delete"});$e.definition={methods:["delete"],url:"/settings/profile"};$e.url=e=>$e.definition.url+wt(e);$e.delete=e=>({url:$e.url(e),method:"delete"});const Ta=e=>({action:$e.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Ta.delete=e=>({action:$e.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});$e.form=Ta;const Kl={class:"flex items-center gap-2 px-1 py-1.5 text-left text-sm"},Vl=S({__name:"UserMenuContent",props:{user:{}},setup(e){const t=()=>{Tt.post("/logout",{onSuccess:()=>Tt.visit("/")})};return(a,o)=>(f(),O(G,null,[b(n(Ul),{class:"p-0 font-normal"},{default:m(()=>[v("div",Kl,[b(Ba,{user:a.user,"show-email":!0},null,8,["user"])])]),_:1}),b(n(Yt)),b(n(Hl),null,{default:m(()=>[b(n(ut),{"as-child":!0},{default:m(()=>[b(n(we),{class:"block w-full",href:n(se)(),prefetch:"",as:"button"},{default:m(()=>[b(n(oo),{class:"mr-2 h-4 w-4"}),o[0]||(o[0]=oe(" Settings ",-1))]),_:1,__:[0]},8,["href"])]),_:1}),b(n(ut),{"as-child":!0},{default:m(()=>[b(n(we),{class:"block w-full",href:"/subscription",prefetch:"",as:"button"},{default:m(()=>[b(n(ro),{class:"mr-2 h-4 w-4"}),o[1]||(o[1]=oe(" Subscription ",-1))]),_:1,__:[1]})]),_:1})]),_:1}),b(n(Yt)),b(n(ut),{"as-child":!0},{default:m(()=>[b(n(we),{class:"block w-full",href:"#",onClick:Oe(t,["prevent"]),as:"button"},{default:m(()=>[b(n(so),{class:"mr-2 h-4 w-4"}),o[2]||(o[2]=oe(" Log out ",-1))]),_:1,__:[2]})]),_:1})],64))}}),Gl=S({__name:"NavUser",setup(e){const a=Ne().props.auth.user,{isMobile:o,state:r}=lt();return(s,l)=>(f(),D(n(Bt),null,{default:m(()=>[b(n(_e),null,{default:m(()=>[b(n(jl),null,{default:m(()=>[b(n(Wl),{"as-child":""},{default:m(()=>[b(n(Ae),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:m(()=>[b(Ba,{user:n(a)},null,8,["user"]),b(n(no),{class:"ml-auto size-4"})]),_:1})]),_:1}),b(n(zl),{class:"w-(--reka-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:n(o)?"bottom":n(r)==="collapsed"?"left":"bottom",align:"end","side-offset":4},{default:m(()=>[b(Vl,{user:n(a)},null,8,["user"])]),_:1},8,["side"])]),_:1})]),_:1})]),_:1}))}}),Xl={key:0,class:"flex items-center"},Yl=["src","alt"],Ql=S({__name:"AppLogo",setup(e){const t=Ne(),a=L(()=>t.props.auth?.user?.company),o=L(()=>a.value?.logo_url),r=L(()=>!!o.value);return(s,l)=>r.value?(f(),O("div",Xl,[v("img",{src:o.value,alt:a.value?.name+" logo",class:"object-contain"},null,8,Yl)])):(f(),O(G,{key:1},[v("div",null,[b(Do,{class:"size-5 fill-current text-white dark:text-black"})]),l[0]||(l[0]=v("div",{class:"grid flex-1 text-left text-sm"},[v("span",{class:"mb-0.5 truncate leading-tight font-semibold"},"ZapTask")],-1))],64))}}),Jl={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},Zl=S({__name:"AppSidebar",setup(e){return Ne().props.company,(a,o)=>(f(),O(G,null,[b(n(zn),{collapsible:"icon",variant:"inset"},{default:m(()=>[b(n(Vn),null,{default:m(()=>[b(n(Bt),null,{default:m(()=>[b(n(_e),null,{default:m(()=>[b(n(we),{href:"/dashboard",class:"flex items-center gap-1 p-2 rounded-md hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"},{default:m(()=>[b(Ql)]),_:1})]),_:1})]),_:1})]),_:1}),b(n(Hn),null,{default:m(()=>[b(Bl)]),_:1}),b(n(Un),null,{default:m(()=>[v("div",Jl,[b(Gl)])]),_:1})]),_:1}),q(a.$slots,"default")],64))}}),ei=S({__name:"Breadcrumb",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",class:j(t.class)},[q(a.$slots,"default")],2))}}),ti=S({__name:"BreadcrumbItem",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("li",{"data-slot":"breadcrumb-item",class:j(n(H)("inline-flex items-center gap-1.5",t.class))},[q(a.$slots,"default")],2))}}),ai=S({__name:"BreadcrumbLink",props:{asChild:{type:Boolean},as:{default:"a"},class:{}},setup(e){const t=e;return(a,o)=>(f(),D(n(J),{"data-slot":"breadcrumb-link",as:a.as,"as-child":a.asChild,class:j(n(H)("hover:text-foreground transition-colors",t.class))},{default:m(()=>[q(a.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),oi=S({__name:"BreadcrumbList",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("ol",{"data-slot":"breadcrumb-list",class:j(n(H)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t.class))},[q(a.$slots,"default")],2))}}),ri=S({__name:"BreadcrumbPage",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",class:j(n(H)("text-foreground font-normal",t.class))},[q(a.$slots,"default")],2))}}),si=S({__name:"BreadcrumbSeparator",props:{class:{}},setup(e){const t=e;return(a,o)=>(f(),O("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",class:j(n(H)("[&>svg]:size-3.5",t.class))},[q(a.$slots,"default",{},()=>[b(n(lo))])],2))}}),ni=S({__name:"Breadcrumbs",props:{breadcrumbs:{}},setup(e){return(t,a)=>(f(),D(n(ei),null,{default:m(()=>[b(n(oi),null,{default:m(()=>[(f(!0),O(G,null,be(t.breadcrumbs,(o,r)=>(f(),O(G,{key:r},[b(n(ti),null,{default:m(()=>[r===t.breadcrumbs.length-1?(f(),D(n(ri),{key:0},{default:m(()=>[oe(z(o.title),1)]),_:2},1024)):(f(),D(n(ai),{key:1,"as-child":""},{default:m(()=>[b(n(we),{href:o.href??"#"},{default:m(()=>[oe(z(o.title),1)]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024),r!==t.breadcrumbs.length-1?(f(),D(n(si),{key:0})):U("",!0)],64))),128))]),_:1})]),_:1}))}}),li={key:0,class:"flex items-center gap-4"},ii={class:"flex items-center gap-2"},di=["title"],ui={class:"font-semibold"},ci={key:0,class:"flex items-center gap-2"},Qt=S({__name:"CompanyCodeDisplay",props:{companyCode:{},companyName:{},subscriptionType:{}},setup(e){const t=e,a=M(!1),o=async()=>{if(t.companyCode)try{await navigator.clipboard.writeText(t.companyCode),a.value=!0,setTimeout(()=>{a.value=!1},2e3)}catch(r){console.error("Failed to copy: ",r)}};return(r,s)=>r.companyCode?(f(),O("div",li,[v("div",ii,[s[0]||(s[0]=v("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Company Code: ",-1)),v("button",{onClick:o,class:"flex items-center gap-1 px-2 py-1 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md text-xs font-mono text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:`Click to copy company code: ${r.companyCode}`},[v("span",ui,z(r.companyCode),1),(f(),D(vt(a.value?n(Oo):n(io)),{size:12,class:"text-blue-600 dark:text-blue-400"}))],8,di)]),r.subscriptionType?(f(),O("div",ci,[s[1]||(s[1]=v("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Plan: ",-1)),v("div",{class:j(["px-2 py-1 rounded-md text-xs font-semibold",{"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":r.subscriptionType==="FREE","bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800":r.subscriptionType==="MIDI","bg-gradient-to-r from-yellow-100 to-amber-100 dark:from-yellow-900/20 dark:to-amber-900/20 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800":r.subscriptionType==="MAXI"}])},z(r.subscriptionType),3)])):U("",!0)])):U("",!0)}});class pi{baseUrl="/notifications";async request(t,a,o){try{return(await ct({method:t,url:`${this.baseUrl}${a}`,data:o,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})).data}catch(r){throw console.error(`Notification API ${t} error:`,r),new Error(r.response?.data?.message||`Failed to ${t.toLowerCase()} notification`)}}async getNotifications(t=1){return this.request("GET",`?page=${t}`)}async getUnreadCount(){return this.request("GET","/unread-count")}async markAsRead(t){return this.request("PATCH",`/${t}/read`)}async markAllAsRead(){return this.request("PATCH","/mark-all-read")}async deleteNotification(t){return this.request("DELETE",`/${t}`)}async createNotification(t){return this.request("POST","",t)}}const ze=new pi,fi={class:"relative"},gi={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium animate-pulse"},mi={key:0,class:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50"},hi={class:"p-4 border-b border-gray-200 dark:border-gray-700"},yi={class:"flex items-center justify-between"},vi={class:"flex items-center gap-2"},_i={class:"max-h-96 overflow-y-auto"},bi={key:0,class:"p-4 text-center text-gray-500"},wi={key:1,class:"p-4 text-center text-gray-500"},xi={key:2},Ci=["onClick"],ki={class:"flex items-start gap-3"},$i={class:"flex-1 min-w-0"},Si={class:"flex items-start justify-between"},Pi={class:"flex-1"},qi={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ai={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Di={class:"text-xs text-gray-500 dark:text-gray-500 mt-2"},Oi=["onClick"],Bi=["onClick"],Mi={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-700"},Ti=S({__name:"NotificationBadge",setup(e){const t=M(!1),a=M([]),o=M(0),r=M(!1),s=M(1);let l=null;const i=k=>{if(k.type==="new_notification"){const g=k.data;g.data?.message_id&&g.data?.sender_id&&u(g.data.sender_id)?console.log("Chat is open with sender, skipping notification badge update"):(t.value&&a.value.unshift(g),c())}},u=k=>{const g=window.currentChatState;return g?.isOpen&&g?.otherUserId===k},d=async()=>{try{r.value=!0;const k=await ze.getNotifications(s.value);console.log(" Loaded notifications:",k.data.length),console.log(" Notification types:",k.data.map(g=>g.type)),s.value===1?a.value=k.data:a.value.push(...k.data)}catch(k){console.error("Failed to load notifications:",k)}finally{r.value=!1}},c=async()=>{try{const k=await ze.getUnreadCount();console.log(" Unread count:",k.count),o.value=k.count}catch(k){console.error("Failed to load unread count:",k)}},p=()=>{t.value=!t.value,t.value&&a.value.length===0&&d()},_=async k=>{try{await ze.markAsRead(k);const g=a.value.find(h=>h.id===k);g&&(g.is_read=!0,g.read_at=new Date().toISOString()),await c()}catch(g){console.error("Failed to mark notification as read:",g)}},w=async()=>{try{await ze.markAllAsRead(),a.value.forEach(k=>{k.is_read=!0,k.read_at=new Date().toISOString()}),o.value=0}catch(k){console.error("Failed to mark all notifications as read:",k)}},x=async k=>{try{await ze.deleteNotification(k),a.value=a.value.filter(g=>g.id!==k),await c()}catch(g){console.error("Failed to delete notification:",g)}},$=async k=>{k.is_read||await _(k.id);const g=k.data||{};if(k.type==="mention"&&g.todo_id){t.value=!1,window.dispatchEvent(new CustomEvent("openTodoById",{detail:{todoId:g.todo_id,highlight:g.comment_id||null}}));return}if(k.data?.sender_id){const h=k.data.sender_id,C=k.data.sender_name||"Unknown User";try{window.dispatchEvent(new CustomEvent("openChat",{detail:{user:{id:h,name:C,email:""}}})),t.value=!1}catch(y){console.error("Failed to open chat:",y)}}},A=async()=>{s.value++,await d()},B=k=>({info:"Info",warning:"AlertTriangle",error:"XCircle",success:"CheckCircle"})[k]||"Bell",E=k=>({info:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400",warning:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-400",error:"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-400",success:"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400"})[k]||"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",R=k=>{const g=new Date(k),C=new Date().getTime()-g.getTime(),y=Math.floor(C/(1e3*60*60*24)),P=Math.floor(C/(1e3*60*60)),T=Math.floor(C/(1e3*60));return T<1?"Just now":T<60?`${T}m ago`:P<24?`${P}h ago`:y<7?`${y}d ago`:g.toLocaleDateString()},I=k=>{k.target.closest(".relative")||(t.value=!1)};return le(()=>{c(),document.addEventListener("click",I),l=te.onNotification(i);const k=setInterval(c,3e4);Me(()=>{clearInterval(k),document.removeEventListener("click",I),l&&l()})}),(k,g)=>(f(),O("div",fi,[v("button",{onClick:p,class:"relative p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition-colors"},[b(K,{name:"Bell",class:"w-5 h-5"}),o.value>0?(f(),O("span",gi,z(o.value>99?"99+":o.value),1)):U("",!0)]),t.value?(f(),O("div",mi,[v("div",hi,[v("div",yi,[g[2]||(g[2]=v("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Notifications ",-1)),v("div",vi,[o.value>0?(f(),O("button",{key:0,onClick:w,class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Mark all read ")):U("",!0),v("button",{onClick:g[0]||(g[0]=h=>t.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[b(K,{name:"X",class:"w-4 h-4"})])])])]),v("div",_i,[r.value?(f(),O("div",bi,[b(K,{name:"Loader2",class:"w-6 h-6 animate-spin mx-auto mb-2"}),g[3]||(g[3]=oe(" Loading notifications... ",-1))])):a.value.length===0?(f(),O("div",wi," No notifications yet ")):(f(),O("div",xi,[(f(!0),O(G,null,be(a.value,h=>(f(),O("div",{key:h.id,class:j(["p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",{"bg-blue-50 dark:bg-blue-900/20":!h.is_read}]),onClick:C=>$(h)},[v("div",ki,[v("div",{class:j(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",E(h.type)])},[b(K,{name:B(h.type),class:"w-4 h-4"},null,8,["name"])],2),v("div",$i,[v("div",Si,[v("div",Pi,[v("h4",qi,z(h.title),1),v("p",Ai,z(h.message),1),v("p",Di,z(R(h.created_at)),1)]),v("div",{class:"flex items-center gap-1 ml-2",onClick:g[1]||(g[1]=Oe(()=>{},["stop"]))},[h.is_read?U("",!0):(f(),O("button",{key:0,onClick:C=>_(h.id),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Mark as read"},[b(K,{name:"Check",class:"w-4 h-4"})],8,Oi)),v("button",{onClick:C=>x(h.id),class:"text-gray-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete"},[b(K,{name:"Trash2",class:"w-4 h-4"})],8,Bi)])])])])],10,Ci))),128))]))]),a.value.length>0?(f(),O("div",Mi,[v("button",{onClick:A,class:"w-full text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Load more notifications ")])):U("",!0)])):U("",!0)]))}}),Ei={class:"relative",id:"company-users-dropdown"},Ri={key:0,class:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50"},Ii={class:"max-h-80 overflow-y-auto"},Li={key:0,class:"p-4 text-center"},Fi={key:1,class:"p-4 text-center"},Ni={key:2,class:"py-1"},ji={class:"flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},zi={class:"flex-1"},Hi={class:"flex items-center gap-3"},Ui={class:"flex-shrink-0"},Wi={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},Ki={class:"text-sm font-medium text-blue-600 dark:text-blue-400"},Vi={class:"flex-1 min-w-0"},Gi={class:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate"},Xi={class:"text-xs text-gray-400"},Yi={key:0,class:"flex-shrink-0 bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center"},Qi=["onClick"],Ji={key:0,class:"mx-4 border-b border-gray-200 dark:border-gray-600"},Jt=S({__name:"CompanyUsersDropdown",setup(e){const t=M(!1),a=M([]),o=M(!1),r=M(!1),s=x=>{const $=x.trim().split(" ");return $.length===1?$[0].substring(0,2).toUpperCase():($[0].charAt(0)+$[$.length-1].charAt(0)).toUpperCase()},l=async()=>{o.value=!0;try{const x=await fetch("/api/company-users",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(x.ok){const $=await x.json();a.value=$.data||[]}}catch(x){console.error("Failed to load company users:",x)}finally{o.value=!1}},i=x=>{window.dispatchEvent(new CustomEvent("openChat",{detail:{user:x}})),t.value=!1},u=()=>{t.value=!t.value,t.value&&l()},d=x=>{const $=x.target,A=document.getElementById("company-users-dropdown");A&&!A.contains($)&&(t.value=!1)};let c=null;const p=x=>{t.value&&l()},_=()=>{document.removeEventListener("click",d),c&&c()},w=x=>{const $=x;r.value=$.detail.isOpen};return le(()=>{document.addEventListener("click",d),c=te.onUnreadCountChange(p),window.addEventListener("chatStateChange",w)}),Me(()=>{_(),window.removeEventListener("chatStateChange",w)}),(x,$)=>(f(),O("div",Ei,[v("button",{onClick:u,class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Users"},[b(K,{name:"Users",class:"w-4 h-4"}),$[0]||($[0]=v("span",{class:"hidden sm:inline"},"Team",-1)),b(K,{name:t.value?"ChevronUp":"ChevronDown",class:"w-3 h-3"},null,8,["name"])]),t.value?(f(),O("div",Ri,[$[4]||($[4]=v("div",{class:"p-3 border-b border-gray-200 dark:border-gray-700"},[v("h3",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Company Team")],-1)),v("div",Ii,[o.value?(f(),O("div",Li,[b(K,{name:"Loader2",class:"w-5 h-5 animate-spin mx-auto text-gray-400"}),$[1]||($[1]=v("p",{class:"text-sm text-gray-500 mt-2"},"Loading team members...",-1))])):a.value.length===0?(f(),O("div",Fi,[b(K,{name:"Users",class:"w-8 h-8 mx-auto text-gray-400 mb-2"}),$[2]||($[2]=v("p",{class:"text-sm text-gray-500"},"No other team members",-1))])):(f(),O("div",Ni,[(f(!0),O(G,null,be(a.value,(A,B)=>(f(),O("div",{key:A.id,class:"group"},[v("div",ji,[v("div",zi,[v("div",Hi,[v("div",Ui,[v("div",Wi,[v("span",Ki,z(s(A.name)),1)])]),v("div",Vi,[v("p",Gi,z(A.name),1),v("p",Xi," Joined "+z(A.joined_at),1)]),A.unread_messages>0&&!r.value?(f(),O("div",Yi,z(A.unread_messages),1)):U("",!0)])]),v("button",{onClick:E=>i(A),class:"ml-3 flex-shrink-0 px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors"},[b(K,{name:"MessageCircle",class:"w-3 h-3 mr-1"}),$[3]||($[3]=oe(" Message ",-1))],8,Qi)]),B<a.value.length-1?(f(),O("div",Ji)):U("",!0)]))),128))]))])])):U("",!0)]))}}),Zi={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-sidebar-border/70 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4"},ed={class:"flex items-center gap-2"},td={class:"flex items-center gap-3"},ad={key:1,class:"hidden md:flex items-center gap-3"},od={class:"fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out"},rd={class:"flex flex-col h-full"},sd={class:"flex-1 p-4 space-y-4"},nd={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},ld={class:"p-3"},id=S({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]},company:{default:null}},setup(e){const t=M(!1),a=()=>{t.value=!t.value},o=()=>{t.value=!1};return(r,s)=>(f(),O("header",Zi,[v("div",ed,[b(n(Zn),{class:"-ml-1"}),r.breadcrumbs&&r.breadcrumbs.length>0?(f(),D(ni,{key:0,breadcrumbs:r.breadcrumbs},null,8,["breadcrumbs"])):U("",!0)]),v("div",td,[r.$slots.dashboardActions?q(r.$slots,"dashboardActions",{key:0}):U("",!0),r.company?(f(),O("div",ad,[b(Qt,{"company-code":r.company.code,"company-name":r.company.name,"subscription-type":r.company.subscription_type},null,8,["company-code","company-name","subscription-type"]),b(n(we),{href:`/companies/${r.company.id}`,class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Information"},{default:m(()=>s[0]||(s[0]=[v("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),v("span",{class:"hidden sm:inline"},"Company",-1)])),_:1,__:[0]},8,["href"]),b(n(we),{href:"/clients",class:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Clients"},{default:m(()=>[b(n(Et),{class:"w-4 h-4"}),s[1]||(s[1]=v("span",{class:"hidden sm:inline"},"Clients",-1))]),_:1,__:[1]}),b(Jt)])):U("",!0),r.company?(f(),O("button",{key:2,onClick:a,class:"md:hidden inline-flex items-center justify-center p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:"Company Menu"},s[2]||(s[2]=[v("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))):U("",!0),b(Ti)]),t.value&&r.company?(f(),O("div",{key:0,class:"fixed inset-0 z-50 md:hidden",onClick:o},[s[7]||(s[7]=v("div",{class:"fixed inset-0 bg-black bg-opacity-50"},null,-1)),v("div",od,[v("div",rd,[v("div",{class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},[s[4]||(s[4]=v("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Company Menu",-1)),v("button",{onClick:o,class:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"},s[3]||(s[3]=[v("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),v("div",sd,[v("div",nd,[b(Qt,{"company-code":r.company.code,"company-name":r.company.name,"subscription-type":r.company.subscription_type},null,8,["company-code","company-name","subscription-type"])]),b(n(we),{href:`/companies/${r.company.id}`,onClick:o,class:"flex items-center gap-3 p-3 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},{default:m(()=>s[5]||(s[5]=[v("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),v("span",{class:"font-medium"},"Company Information",-1)])),_:1,__:[5]},8,["href"]),b(n(we),{href:"/clients",onClick:o,class:"flex items-center gap-3 p-3 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:text-gray-700 rounded-lg transition-colors"},{default:m(()=>[b(n(Et),{class:"w-5 h-5"}),s[6]||(s[6]=v("span",{class:"font-medium"},"Clients",-1))]),_:1,__:[6]}),v("div",ld,[b(Jt)])])])])])):U("",!0)]))}}),dd={class:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-gray-700 rounded-t-lg"},ud={class:"flex items-center gap-2"},cd={class:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},pd={class:"text-xs font-medium text-blue-600 dark:text-blue-400"},fd={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},gd={class:"text-xs text-gray-500"},md={class:"flex items-center gap-1"},hd=["title"],yd={key:0,class:"flex flex-col h-80"},vd={key:0,class:"text-center py-4"},_d={key:1},bd={key:0,class:"text-center py-8"},wd={class:"border-t border-gray-200 dark:border-gray-700 p-3"},xd={class:"flex gap-2"},Cd=["disabled"],kd=["disabled"],$d=S({__name:"ChatWindow",setup(e){const t=M(!1),a=M(!1),o=M(!1),r=M(!1),s=M(""),l=M([]),i=M(null),u=M(null),d=g=>{i.value=g,t.value=!0,a.value=!1,window.currentChatState={isOpen:!0,isMinimized:!1,otherUserId:g.id},window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:!0,isMinimized:!1}})),_()},c=()=>{t.value=!1,a.value=!1,l.value=[],i.value=null,s.value="",window.currentChatState={isOpen:!1,isMinimized:!1,otherUserId:null},window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:!1,isMinimized:!1}}))},p=()=>{a.value=!a.value,window.currentChatState&&(window.currentChatState.isMinimized=a.value),window.dispatchEvent(new CustomEvent("chatStateChange",{detail:{isOpen:t.value,isMinimized:a.value}}))},_=async()=>{if(i.value){o.value=!0;try{const g=await fetch(`/api/company-users/${i.value.id}/messages`,{credentials:"include",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(g.ok){const C=(await g.json()).data;l.value=C.messages,await fe(),x()}else console.error("Failed to load messages:",g.status,g.statusText),g.status===403&&window.$notify&&window.$notify({type:"error",title:"Access Denied",message:"You cannot access messages with this user.",duration:3e3})}catch(g){console.error("Failed to load messages:",g)}finally{o.value=!1}}},w=async()=>{if(!s.value.trim()||!i.value||r.value)return;r.value=!0;const g=s.value.trim();s.value="";try{await ct.get(`${window.location.origin}/sanctum/csrf-cookie`,{withCredentials:!0});const h=await ct.post("/company-messages",{recipient_id:i.value.id,message:g});h.data.success?(l.value.push(h.data.data),await fe(),x(),window.dispatchEvent(new CustomEvent("messagesSent"))):(s.value=g,h.status===419?(console.error("CSRF token mismatch - please refresh the page"),window.$notify&&window.$notify({type:"error",title:"Authentication Error",message:"Session expired. Please refresh the page and try again.",duration:5e3})):h.status===403?(console.error("Unauthorized - user not in same company"),window.$notify&&window.$notify({type:"error",title:"Permission Error",message:"You do not have permission to send messages to this user.",duration:5e3})):(console.error("Failed to send message:",h.status,h.statusText),window.$notify&&window.$notify({type:"error",title:"Message Failed",message:"Failed to send message. Please try again.",duration:3e3})))}catch(h){s.value=g,console.error("Failed to send message:",h),h.response?.status===419?window.$notify&&window.$notify({type:"error",title:"Authentication Error",message:"Session expired. Please refresh the page and try again.",duration:5e3}):window.$notify&&window.$notify({type:"error",title:"Message Failed",message:h.message||"Failed to send message. Please try again.",duration:3e3})}finally{r.value=!1}},x=()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)},$=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),w())},A=g=>{const{user:h}=g.detail;d(h)};De(l,()=>{fe(()=>{x()})});let B=null;const E=g=>{if(g.type==="new_message"&&i.value){const h=g.data;if(h.sender_id===i.value.id&&h.recipient_id===k.value||h.sender_id===k.value&&h.recipient_id===i.value.id){const C={id:h.id,message:h.message,sender_id:h.sender_id,sender_name:h.sender_id===k.value?"You":i.value.name,recipient_id:h.recipient_id,recipient_name:h.recipient_id===k.value?"You":i.value.name,is_read:h.is_read,created_at:new Date(h.created_at).toLocaleString(),created_at_human:"Just now"};l.value.find(y=>y.id===C.id)||(l.value.push(C),a.value&&h.sender_id===i.value.id&&R(),fe(()=>{x()}))}}},R=()=>{window.$notify&&window.$notify({type:"info",title:"New Message",message:`${i.value?.name} sent you a message`,duration:3e3})};le(()=>{window.addEventListener("openChat",A),B=te.onMessage(E)}),Me(()=>{window.removeEventListener("openChat",A),B&&B()});const I=Ne(),k=M(I.props.auth?.user?.id);return(g,h)=>t.value?(f(),O("div",{key:0,class:j(["fixed bottom-4 right-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",{"h-16":a.value,"h-96":!a.value}])},[v("div",dd,[v("div",ud,[v("div",cd,[v("span",pd,z(i.value?.name.charAt(0).toUpperCase()),1)]),v("div",null,[v("h3",fd,z(i.value?.name),1),v("p",gd,z(i.value?.email),1)])]),v("div",md,[v("button",{onClick:p,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",title:a.value?"Maximize":"Minimize"},[b(K,{name:a.value?"Maximize2":"Minimize2",class:"w-4 h-4"},null,8,["name"])],8,hd),v("button",{onClick:c,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",title:"Close"},[b(K,{name:"X",class:"w-4 h-4"})])])]),a.value?U("",!0):(f(),O("div",yd,[v("div",{ref_key:"messagesContainer",ref:u,class:"flex-1 overflow-y-auto p-3 space-y-3"},[o.value?(f(),O("div",vd,[b(K,{name:"Loader2",class:"w-5 h-5 animate-spin mx-auto text-gray-400"}),h[1]||(h[1]=v("p",{class:"text-xs text-gray-500 mt-2"},"Loading messages...",-1))])):(f(),O("div",_d,[(f(!0),O(G,null,be(l.value,C=>(f(),O("div",{key:C.id,class:j(["flex",C.sender_id===k.value?"justify-end":"justify-start"])},[v("div",{class:j(["max-w-xs px-3 py-2 rounded-lg text-sm",C.sender_id===k.value?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"])},[v("p",null,z(C.message),1),v("p",{class:j(["text-xs mt-1",C.sender_id===k.value?"text-blue-100":"text-gray-500 dark:text-gray-400"])},z(C.created_at_human),3)],2)],2))),128)),!o.value&&l.value.length===0?(f(),O("div",bd,[b(K,{name:"MessageCircle",class:"w-8 h-8 mx-auto text-gray-400 mb-2"}),h[2]||(h[2]=v("p",{class:"text-sm text-gray-500"},"No messages yet",-1)),h[3]||(h[3]=v("p",{class:"text-xs text-gray-400"},"Start the conversation!",-1))])):U("",!0)]))],512),v("div",wd,[v("div",xd,[Zt(v("textarea",{"onUpdate:modelValue":h[0]||(h[0]=C=>s.value=C),onKeypress:$,placeholder:"Type a message...",rows:"1",class:"flex-1 resize-none border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",disabled:r.value},null,40,Cd),[[Ga,s.value]]),v("button",{onClick:w,disabled:!s.value.trim()||r.value,class:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[b(K,{name:r.value?"Loader2":"Send",class:j(["w-4 h-4",{"animate-spin":r.value}])},null,8,["name","class"])],8,kd)]),h[4]||(h[4]=v("p",{class:"text-xs text-gray-500 mt-1"},"Press Enter to send, Shift+Enter for new line",-1))])]))],2)):U("",!0)}}),Rd=S({__name:"AppSidebarLayout",props:{breadcrumbs:{default:()=>[]},company:{default:null},projectColor:{}},setup(e){const t=e,o=Ne().props.auth?.user;return le(()=>{o?.id&&t.company?.id&&(te.init(o.id,t.company.id),window.testRealtime=()=>{te.testRealtime()},window.testDatabaseRealtime=()=>{te.testDatabaseRealtime()},window.testRealtimeEvents=()=>{te.testRealtimeEvents()},window.testSupabaseConnection=()=>{te.testSupabaseConnection()},window.testDeleteEvents=()=>{te.testDeleteEvents()},window.testActivityRealtime=()=>{console.log("Testing activity real-time..."),console.log("Current company ID:",t.company?.id),console.log("Current user ID:",o?.id),console.log("Activity callbacks:",te.activityCallbacks?.size||0)},window.testActivitySubscription=()=>{console.log("Testing activity subscription...");const r=l=>{console.log("Test activity callback received:",l)},s=te.onActivity(r);console.log("Test callback registered"),setTimeout(()=>{s(),console.log("Test callback unregistered")},1e4)})}),Me(()=>{te.disconnect()}),(r,s)=>(f(),D(ul,{variant:"sidebar"},{default:m(()=>[b(Zl),b(tl,{variant:"sidebar",class:"overflow-x-hidden","project-color":r.projectColor},{default:m(()=>[b(id,{breadcrumbs:r.breadcrumbs,company:r.company},{dashboardActions:m(()=>[q(r.$slots,"dashboardActions")]),_:3},8,["breadcrumbs","company"]),q(r.$slots,"default")]),_:3},8,["project-color"]),b($d)]),_:3}))}});export{Rd as _,se as e};
